=== RUN   TestAccessFlow
2026/01/15 08:59:38 Attempting to connect to database...

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/platform/database/postgres.go:73
[0m[33m[1.384ms] [34;1m[rows:0][0m CREATE EXTENSION IF NOT EXISTS "uuid-ossp"
2026/01/15 08:59:38 Database connection established successfully

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.722ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "access_logs" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.795ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[1.997ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.038ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.356ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[1.753ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[3.023ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[4.749ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:38 [32m
[0m[33m[2.429ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:38 [32m
[0m[33m[2.406ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:38 [32m
[0m[33m[2.396ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:38 [32m
[0m[33m[2.330ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[1.342ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[4.995ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:38 [32m
[0m[33m[2.279ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[1.245ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[4.160ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:38 [32m
[0m[33m[2.043ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.158ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.672ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.102ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.128ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[10.443ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.538ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.129ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.429ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.401ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.411ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m
[0m[33m[0.718ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m
[0m[33m[5.613ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[0.781ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:38 [32m
[0m[33m[8.349ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m
[0m[33m[8.186ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[1.113ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.606ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.668ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.436ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m
[0m[33m[0.721ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m
[0m[33m[6.155ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[0.856ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:38 [32m
[0m[33m[9.299ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m
[0m[33m[8.266ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[1.058ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[8.709ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.433ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m
[0m[33m[0.706ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m
[0m[33m[5.999ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[0.868ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:38 [32m
[0m[33m[8.171ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m
[0m[33m[8.418ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:38 [32m
[0m[33m[1.050ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.098ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.078ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.998ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.272ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.438ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.628ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.248ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.197ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.122ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.048ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.161ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.231ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.054ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.712ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.299ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.931ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.994ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.148ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.300ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.585ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.454ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.285ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.179ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.245ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.130ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.638ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.045ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.876ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.787ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.051ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.982ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.087ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.049ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.945ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:38 [32m
[0m[33m[2.205ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 08:59:38 [32m
[0m[33m[2.190ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.131ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[4.013ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 08:59:38 [32m
[0m[33m[1.949ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 08:59:38 [32m
[0m[33m[1.951ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 08:59:38 [32m
[0m[33m[1.989ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:68
[0m[33m[1.203ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'access_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:68
[0m[33m[3.684ms] [34;1m[rows:0][0m CREATE TABLE "access_logs" ("id" uuid DEFAULT gen_random_uuid(),"club_id" varchar(255) NOT NULL,"user_id" text NOT NULL,"facility_id" uuid,"device_id" varchar(255),"direction" varchar(10) NOT NULL,"status" varchar(50) NOT NULL,"reason" varchar(255),"timestamp" timestamptz NOT NULL,"created_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:38 [32m
[0m[33m[2.232ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_access_logs_deleted_at" ON "access_logs" ("deleted_at")

2026/01/15 08:59:38 [32m
[0m[33m[1.961ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_access_logs_club_id" ON "access_logs" ("club_id")

2026/01/15 08:59:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.992ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'access_test_d5c8666a-f2d0-42ff-9f5b-893cfc5a8943@example.com' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.820ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5','Access User','access_test_d5c8666a-f2d0-42ff-9f5b-893cfc5a8943@example.com','$2a$10$fELShzBJJsBERf/ntSrcUeMvXDf61gj4APUZwxarGUqEEh6RPv1DW','MEMBER','2026-01-15 08:59:38.939','2026-01-15 08:59:38.939',NULL,NULL,'test-club-1','','',NULL,'2026-01-15 08:59:38.939','2026-01',NULL)

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.490ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('6e13212a-e074-4509-ab30-cf2f4758d61f','edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5','','a22ce382d44daaeba012a56698c763100d778073b3ce511e2a6ba8236db495cd','2026-02-14 08:59:38.942',false,NULL,'2026-01-15 08:59:38.942','2026-01-15 08:59:38.942')

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.927ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'access_test_d5c8666a-f2d0-42ff-9f5b-893cfc5a8943@example.com' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:108
[0m[33m[2.438ms] [34;1m[rows:1][0m UPDATE "users" SET "club_id"='test-club-1',"updated_at"='2026-01-15 08:59:38.947' WHERE id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND "users"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.836ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.764ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.589ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.881ms] [34;1m[rows:0][0m SELECT * FROM "memberships" WHERE (user_id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.736ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5',NULL,'','IN','DENIED','No active membership','2026-01-15 08:59:38.952','2026-01-15 08:59:38.952',NULL,'d85ab7f7-4c4c-43c5-8f29-172f965b0362') RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:146
[0m[33m[3.791ms] [34;1m[rows:1][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 08:59:38.957','2026-01-15 08:59:38.957',NULL,'a201da21-e04b-42e9-b912-601642aba52e') RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[0.826ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 08:59:38.957','2026-01-15 08:59:38.957',NULL,'a201da21-e04b-42e9-b912-601642aba52e') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[3.689ms] [34;1m[rows:1][0m INSERT INTO "memberships" ("club_id","user_id","membership_tier_id","status","billing_cycle","auto_renew","start_date","end_date","next_billing_date","outstanding_balance","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5','a201da21-e04b-42e9-b912-601642aba52e','ACTIVE','MONTHLY',true,'2026-01-15 08:59:38.959',NULL,'2026-02-15 08:59:38.959','0','2026-01-15 08:59:38.96','2026-01-15 08:59:38.96',NULL,'819eed53-d1b5-4da2-a0dc-0520ffd44f29') RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.693ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.665ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.331ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.723ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'a201da21-e04b-42e9-b912-601642aba52e' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[1.549ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.567ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5',NULL,'','IN','GRANTED','Access Granted','2026-01-15 08:59:38.967','2026-01-15 08:59:38.967',NULL,'45000380-1792-4e6b-adc7-bf5979476109') RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:174
[0m[33m[0.712ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 08:59:38.957','2026-01-15 08:59:38.957',NULL,'a201da21-e04b-42e9-b912-601642aba52e') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:174
[0m[33m[3.018ms] [34;1m[rows:1][0m UPDATE "memberships" SET "club_id"='test-club-1',"user_id"='edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5',"membership_tier_id"='a201da21-e04b-42e9-b912-601642aba52e',"status"='ACTIVE',"billing_cycle"='MONTHLY',"auto_renew"=true,"start_date"='2026-01-15 08:59:38.959',"end_date"=NULL,"next_billing_date"='2026-02-15 08:59:38.959',"outstanding_balance"='50',"created_at"='2026-01-15 08:59:38.96',"updated_at"='2026-01-15 08:59:38.971',"deleted_at"=NULL WHERE "memberships"."deleted_at" IS NULL AND "id" = '819eed53-d1b5-4da2-a0dc-0520ffd44f29'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.644ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.679ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.155ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.720ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'a201da21-e04b-42e9-b912-601642aba52e' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[2.052ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = 'edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.290ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','edbfa2d5-acfa-4f9f-9e0a-889cbd55dde5',NULL,'','IN','DENIED','Outstanding debt','2026-01-15 08:59:38.977','2026-01-15 08:59:38.977',NULL,'9546450d-44a9-4e28-acd8-c954c73f2c77') RETURNING "id"
--- PASS: TestAccessFlow (0.45s)
=== RUN   TestAuthDataLeak

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/auth_leak_test.go:28
[0m[33m[1.156ms] [34;1m[rows:1][0m DELETE FROM users

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.069ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.617ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.700ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.752ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.714ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.674ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.955ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.167ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.388ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.157ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.162ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[38.517ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.961ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.956ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.177ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.046ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.485ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.390ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.829ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.588ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.763ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.606ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.457ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.970ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.391ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.131ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.156ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.120ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.379ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.212ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.123ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.114ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.725ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.798ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.671ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.687ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.957ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.979ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.125ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.128ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.113ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.057ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.738ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.714ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('b7051b8f-7c58-46a0-b904-4ac15433acfe','Leaker User','leaker@test.com','$2a$10$gmSJHwrtNKfWPct0rjxq/ec75XtHbFwUUuwaD8XGeL1PiF52NZz4C','MEMBER','2026-01-15 08:59:39.241','2026-01-15 08:59:39.241',NULL,NULL,'club-A','','',NULL,'2026-01-15 08:59:39.241','2026-01',NULL)

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.254ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('62d3e217-998a-442f-9e18-ec6499af5e15','b7051b8f-7c58-46a0-b904-4ac15433acfe','','90d0a32946fe0b2dedeb953a546b154c3fe653c78fd341326e43af6ea6977cf2','2026-02-14 08:59:39.245',false,NULL,'2026-01-15 08:59:39.245','2026-01-15 08:59:39.245')

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.819ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
=== RUN   TestAuthDataLeak/Login_in_Correct_Club

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.752ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[3.127ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('dfe7044b-ea9d-4318-a54c-324dbd1a6db1','b7051b8f-7c58-46a0-b904-4ac15433acfe','','56a1fc33c5dfcf04470419e2bcb1c1be35c176030b74af6bfc0dd21eed4ef99f','2026-02-14 08:59:39.303',false,NULL,'2026-01-15 08:59:39.303','2026-01-15 08:59:39.303')

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.222ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('e47ade5e-9083-43b4-9d0d-8a4bf59655b0','b7051b8f-7c58-46a0-b904-4ac15433acfe','LOGIN','','',true,'','2026-01-15 08:59:39.306')
=== RUN   TestAuthDataLeak/Login_in_Wrong_Club

2026/01/15 08:59:39 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.888ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-B') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
--- PASS: TestAuthDataLeak (0.33s)
    --- PASS: TestAuthDataLeak/Login_in_Correct_Club (0.06s)
    --- PASS: TestAuthDataLeak/Login_in_Wrong_Club (0.00s)
=== RUN   TestChampionshipIsolation

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[2.064ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[2.084ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.854ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.766ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.689ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.137ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[3.824ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.138ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.231ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[4.348ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.057ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.139ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[4.462ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.109ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.064ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[3.680ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:39 [32m
[0m[33m[1.919ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.948ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.931ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.970ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.940ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 08:59:39 [32m
[0m[33m[2.063ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.081ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[3.817ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.033ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.987ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[2.531ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('dc6a3a6b-ce6a-4801-afaa-940e0bf88362','Tournament A','','FUTBOL','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 08:59:39.369','2026-01-15 08:59:39.369','f14a2b7f-af27-4164-ba4d-10046243d1cf') RETURNING "id","settings"

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[2.131ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('afa8e4c5-7f40-4c6a-b6c5-c900b2a955b3','Tournament B','','TENNIS','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 08:59:39.371','2026-01-15 08:59:39.371','1fdc8b10-bec4-41a1-b227-8089a58ed83f') RETURNING "id","settings"
=== RUN   TestChampionshipIsolation/Club_A_Admin_sees_only_T1

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[0.852ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'f14a2b7f-af27-4164-ba4d-10046243d1cf'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[1.641ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE club_id = 'dc6a3a6b-ce6a-4801-afaa-940e0bf88362'
=== RUN   TestChampionshipIsolation/Club_B_Admin_sees_only_T2

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[0.974ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = '1fdc8b10-bec4-41a1-b227-8089a58ed83f'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[2.012ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE club_id = 'afa8e4c5-7f40-4c6a-b6c5-c900b2a955b3'
--- PASS: TestChampionshipIsolation (0.07s)
    --- PASS: TestChampionshipIsolation/Club_A_Admin_sees_only_T1 (0.00s)
    --- PASS: TestChampionshipIsolation/Club_B_Admin_sees_only_T2 (0.00s)
=== RUN   TestChampionshipsFlow

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[2.527ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.816ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.858ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.849ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.477ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "teams" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[2.050ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "matches" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.607ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournaments" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.926ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "disciplines" CASCADE

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.144ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'disciplines' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[4.865ms] [34;1m[rows:0][0m CREATE TABLE "disciplines" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(100) NOT NULL,"description" text,"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "uni_disciplines_name" UNIQUE ("name"))

2026/01/15 08:59:39 [32m
[0m[33m[1.968ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_disciplines_deleted_at" ON "disciplines" ("deleted_at")

2026/01/15 08:59:39 [32m
[0m[33m[1.899ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_disciplines_club_id" ON "disciplines" ("club_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.086ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournaments' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.524ms] [34;1m[rows:0][0m CREATE TABLE "tournaments" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" text NOT NULL,"discipline_id" uuid NOT NULL,"start_date" timestamptz,"end_date" timestamptz,"status" text DEFAULT 'OPEN',"format" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.079ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournaments_deleted_at" ON "tournaments" ("deleted_at")

2026/01/15 08:59:39 [32m
[0m[33m[2.040ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournaments_club_id" ON "tournaments" ("club_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.128ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'matches' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.955ms] [34;1m[rows:0][0m CREATE TABLE "matches" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"tournament_id" uuid NOT NULL,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"score_home" bigint DEFAULT 0,"score_away" bigint DEFAULT 0,"start_time" timestamptz,"status" text DEFAULT 'SCHEDULED',"round" text,"location" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_tournaments_matches" FOREIGN KEY ("tournament_id") REFERENCES "tournaments"("id"))

2026/01/15 08:59:39 [32m
[0m[33m[1.989ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_matches_deleted_at" ON "matches" ("deleted_at")

2026/01/15 08:59:39 [32m
[0m[33m[1.953ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_matches_club_id" ON "matches" ("club_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.024ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'teams' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.804ms] [34;1m[rows:0][0m CREATE TABLE "teams" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" text NOT NULL,"tournament_id" uuid NOT NULL,"captain_id" varchar(100),"members" jsonb,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_tournaments_teams" FOREIGN KEY ("tournament_id") REFERENCES "tournaments"("id"))

2026/01/15 08:59:39 [32m
[0m[33m[2.069ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_teams_deleted_at" ON "teams" ("deleted_at")

2026/01/15 08:59:39 [32m
[0m[33m[2.036ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_teams_club_id" ON "teams" ("club_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.126ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[2.339ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("tournament_id" text,"team_id" text,"team_name" text,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"points" bigint,"goals_for" bigint,"goals_against" bigint)

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.072ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.525ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:39 [32m
[0m[33m[1.992ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:39 [32m
[0m[33m[1.999ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:39 [32m
[0m[33m[2.020ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:39 [32m
[0m[33m[2.051ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.159ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.693ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.516ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.964ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.537ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.789ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.301ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.456ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.379ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m
[0m[33m[0.643ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m
[0m[33m[5.706ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[1.307ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:39 [32m
[0m[33m[8.423ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m
[0m[33m[7.569ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[1.168ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.788ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.481ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m
[0m[33m[0.679ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m
[0m[33m[5.461ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[0.900ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:39 [32m
[0m[33m[8.501ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m
[0m[33m[8.238ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[1.505ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[9.907ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m
[0m[33m[0.632ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m
[0m[33m[5.562ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[0.904ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:39 [32m
[0m[33m[7.344ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m
[0m[33m[7.400ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m
[0m[33m[1.024ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.155ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.042ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.004ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.143ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.117ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.113ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.190ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.714ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.093ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.082ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.189ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.153ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.666ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.973ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.731ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.721ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.815ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.982ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.150ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.090ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.150ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.127ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.106ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.021ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.074ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.010ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.619ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.965ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.758ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.682ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.562ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.967ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.172ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.132ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.237ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.078ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:71
[0m[33m[2.725ms] [34;1m[rows:1][0m INSERT INTO "disciplines" ("club_id","name","description","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Football 5','',true,'2026-01-15 08:59:39.697','2026-01-15 08:59:39.697',NULL,'7c899b37-0ac5-416b-84f9-e332824e4fbd') RETURNING "id"
=== RUN   TestChampionshipsFlow/Create_Tournament

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:23
[0m[33m[2.374ms] [34;1m[rows:1][0m INSERT INTO "tournaments" ("club_id","name","discipline_id","start_date","end_date","status","format","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Summer Cup 2024','7c899b37-0ac5-416b-84f9-e332824e4fbd','2026-01-15 00:00:00','2026-02-15 00:00:00','OPEN','LEAGUE','2026-01-15 08:59:39.7','2026-01-15 08:59:39.7',NULL,'b86f49bc-2071-405d-984c-2dc7c03aec70') RETURNING "id"

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:106
[0m[33m[0.824ms] [34;1m[rows:1][0m SELECT * FROM "tournaments" WHERE club_id = 'test-club-championships' AND "tournaments"."deleted_at" IS NULL ORDER BY "tournaments"."id" LIMIT 1
=== RUN   TestChampionshipsFlow/Register_Teams

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:50
[0m[33m[2.508ms] [34;1m[rows:1][0m INSERT INTO "teams" ("club_id","name","tournament_id","captain_id","members","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Team Alpha','b86f49bc-2071-405d-984c-2dc7c03aec70',NULL,(NULL),'2026-01-15 08:59:39.704','2026-01-15 08:59:39.704',NULL,'bebc7b50-1f86-4390-b72b-5dbdfa05679c') RETURNING "id"

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:50
[0m[33m[2.224ms] [34;1m[rows:1][0m INSERT INTO "teams" ("club_id","name","tournament_id","captain_id","members","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Team Beta','b86f49bc-2071-405d-984c-2dc7c03aec70',NULL,(NULL),'2026-01-15 08:59:39.706','2026-01-15 08:59:39.706',NULL,'027cd0bf-3cf2-4e0b-ad92-97aca8061120') RETURNING "id"
=== RUN   TestChampionshipsFlow/Schedule_Match

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:73
[0m[33m[2.701ms] [34;1m[rows:1][0m INSERT INTO "matches" ("club_id","tournament_id","home_team_id","away_team_id","score_home","score_away","start_time","status","round","location","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','b86f49bc-2071-405d-984c-2dc7c03aec70','bebc7b50-1f86-4390-b72b-5dbdfa05679c','027cd0bf-3cf2-4e0b-ad92-97aca8061120',0,0,'2026-01-16 08:59:39.708','SCHEDULED','1','Pitch 1','2026-01-15 08:59:39.709','2026-01-15 08:59:39.709',NULL,'8e81524e-e2fe-448c-9f8a-dbbc64f9953e') RETURNING "id"
=== RUN   TestChampionshipsFlow/Update_Match_Result

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:82
[0m[33m[0.784ms] [34;1m[rows:1][0m SELECT * FROM "matches" WHERE (id = '8e81524e-e2fe-448c-9f8a-dbbc64f9953e' AND club_id = 'test-club-championships') AND "matches"."deleted_at" IS NULL ORDER BY "matches"."id" LIMIT 1

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:77
[0m[33m[2.304ms] [34;1m[rows:1][0m UPDATE "matches" SET "club_id"='test-club-championships',"tournament_id"='b86f49bc-2071-405d-984c-2dc7c03aec70',"home_team_id"='bebc7b50-1f86-4390-b72b-5dbdfa05679c',"away_team_id"='027cd0bf-3cf2-4e0b-ad92-97aca8061120',"score_home"=3,"score_away"=1,"start_time"='2026-01-16 11:59:39.708',"status"='PLAYED',"round"='1',"location"='Pitch 1',"created_at"='2026-01-15 11:59:39.709',"updated_at"='2026-01-15 08:59:39.712',"deleted_at"=NULL WHERE "matches"."deleted_at" IS NULL AND "id" = '8e81524e-e2fe-448c-9f8a-dbbc64f9953e'
=== RUN   TestChampionshipsFlow/Get_Standings

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:93
[0m[33m[0.947ms] [34;1m[rows:1][0m SELECT * FROM "matches" WHERE (tournament_id = 'b86f49bc-2071-405d-984c-2dc7c03aec70' AND club_id = 'test-club-championships') AND "matches"."deleted_at" IS NULL ORDER BY start_time asc

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:66
[0m[33m[0.690ms] [34;1m[rows:2][0m SELECT * FROM "teams" WHERE (tournament_id = 'b86f49bc-2071-405d-984c-2dc7c03aec70' AND club_id = 'test-club-championships') AND "teams"."deleted_at" IS NULL
--- PASS: TestChampionshipsFlow (0.34s)
    --- PASS: TestChampionshipsFlow/Create_Tournament (0.00s)
    --- PASS: TestChampionshipsFlow/Register_Teams (0.00s)
    --- PASS: TestChampionshipsFlow/Schedule_Match (0.00s)
    --- PASS: TestChampionshipsFlow/Update_Match_Result (0.00s)
    --- PASS: TestChampionshipsFlow/Get_Standings (0.00s)
=== RUN   TestCSRFProtection

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.120ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.617ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.663ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.890ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.459ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.426ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.961ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.293ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.083ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.459ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.356ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.459ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.102ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.225ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.112ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.939ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.060ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.986ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.603ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.007ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.872ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.276ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.237ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.262ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.928ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.888ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.132ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.414ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.531ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.812ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.407ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.260ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.090ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.044ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.670ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.358ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.832ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.214ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.287ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.349ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.546ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.168ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.005ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.036ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.050ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.709ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.985ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.043ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.508ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.388ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/csrf_protection_test.go:41
[0m[33m[1.041ms] [34;1m[rows:0][0m DELETE FROM users WHERE email = 'csrftest@test.com'

2026/01/15 08:59:39 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[1.216ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.648ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('44f600b8-39eb-427b-91f1-d78c4a500347','CSRF Test','csrftest@test.com','$2a$10$78FKUI.9Krkd7RNC93Z.XO/BFjHwdHUXi0EFffP9Xze8O1ayDKTfW','MEMBER','2026-01-15 08:59:39.956','2026-01-15 08:59:39.956',NULL,NULL,'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11','','',NULL,'2026-01-15 08:59:39.956','2026-01',NULL)

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[3.049ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('0451d75e-5944-4e30-83fb-7c45b45d0128','44f600b8-39eb-427b-91f1-d78c4a500347','','1e255176ed8dcf92adecddcb6c8688c4b2145b6edea5be0914b3e3a6ee64bd7d','2026-02-14 08:59:39.96',false,NULL,'2026-01-15 08:59:39.96','2026-01-15 08:59:39.96')
=== RUN   TestCSRFProtection/Login_Without_CSRF_Token_Succeeds

2026/01/15 08:59:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[1.005ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.814ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('0e4fea8e-3612-4634-a1f0-5be020310a0c','44f600b8-39eb-427b-91f1-d78c4a500347','','414c5387d830f14215e846c7a39d82e0f23c7e5c0aef148a586284214d56b2ac','2026-02-14 08:59:40.02',false,NULL,'2026-01-15 08:59:40.02','2026-01-15 08:59:40.02')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.237ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('0a90c19b-2413-44ac-beed-7dae0923f7ed','44f600b8-39eb-427b-91f1-d78c4a500347','LOGIN','','',true,'','2026-01-15 08:59:40.023')
=== RUN   TestCSRFProtection/Protected_Endpoint_Without_CSRF_Token_Fails
=== RUN   TestCSRFProtection/Protected_Endpoint_With_Valid_CSRF_Token_Succeeds

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.879ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.955ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('54f22045-b928-4812-a713-c63f098b57ef','44f600b8-39eb-427b-91f1-d78c4a500347','','e794c429e7ed00f7ebd20ce64019616421a07c05619f1ae23680f4342d537f3c','2026-02-14 08:59:40.08',false,NULL,'2026-01-15 08:59:40.08','2026-01-15 08:59:40.08')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.213ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('8b78a5e6-4860-41bb-8263-46f44ece6a26','44f600b8-39eb-427b-91f1-d78c4a500347','LOGIN','','',true,'','2026-01-15 08:59:40.083')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:196
[0m[33m[0.956ms] [34;1m[rows:1][0m SELECT "refresh_tokens"."id","refresh_tokens"."user_id","refresh_tokens"."device_id","refresh_tokens"."token","refresh_tokens"."expires_at","refresh_tokens"."is_revoked","refresh_tokens"."revoked_at","refresh_tokens"."created_at","refresh_tokens"."updated_at" FROM "refresh_tokens" JOIN users ON users.id = refresh_tokens.user_id WHERE refresh_tokens.token = 'e794c429e7ed00f7ebd20ce64019616421a07c05619f1ae23680f4342d537f3c' AND users.club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11' ORDER BY "refresh_tokens"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:228
[0m[33m[2.134ms] [34;1m[rows:1][0m UPDATE "refresh_tokens" SET "is_revoked"=true,"revoked_at"='2026-01-15 08:59:40.086',"updated_at"='2026-01-15 08:59:40.086' WHERE id = '54f22045-b928-4812-a713-c63f098b57ef' AND user_id = '44f600b8-39eb-427b-91f1-d78c4a500347'
=== RUN   TestCSRFProtection/Mismatched_CSRF_Tokens_Fails
--- PASS: TestCSRFProtection (0.37s)
    --- PASS: TestCSRFProtection/Login_Without_CSRF_Token_Succeeds (0.06s)
    --- PASS: TestCSRFProtection/Protected_Endpoint_Without_CSRF_Token_Fails (0.00s)
    --- PASS: TestCSRFProtection/Protected_Endpoint_With_Valid_CSRF_Token_Succeeds (0.06s)
    --- PASS: TestCSRFProtection/Mismatched_CSRF_Tokens_Fails (0.00s)
=== RUN   TestGamificationFlow

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[2.016ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[0.698ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[0.654ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.020ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[3.895ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.100ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.017ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:40 [32m
[0m[33m[1.968ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:40 [32m
[0m[33m[2.141ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.091ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[4.177ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:40 [32m
[0m[33m[2.048ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.093ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[3.703ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:40 [32m
[0m[33m[1.978ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.050ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.626ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.642ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.971ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.100ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.028ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.005ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.089ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.046ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m
[0m[33m[0.770ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m
[0m[33m[5.835ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[0.799ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:40 [32m
[0m[33m[8.003ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m
[0m[33m[8.750ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[1.036ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.459ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m
[0m[33m[1.005ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m
[0m[33m[5.712ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[0.863ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:40 [32m
[0m[33m[7.881ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m
[0m[33m[8.223ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[116.232ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.896ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.112ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m
[0m[33m[0.863ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m
[0m[33m[6.597ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[1.117ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:40 [32m
[0m[33m[10.118ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m
[0m[33m[9.316ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:40 [32m
[0m[33m[1.196ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.191ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.636ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.476ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.231ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.824ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.799ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.638ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.610ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.335ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.563ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.629ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.610ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.401ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.794ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.834ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.286ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.759ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.611ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.062ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.045ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.984ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.302ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.987ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.766ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.132ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.679ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.505ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.179ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.195ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.216ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.163ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.733ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.288ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.799ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.224ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.376ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.051ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.282ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.295ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.403ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.172ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.268ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.939ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.726ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[4.230ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('c26fbbd9-22dc-47db-b158-58372dae6f7b','Gamer One','gamer@test.com','$2a$10$MaK0vpX/SiQ/RT7B3H6J1uXzQJb1bp7W2sVb1XS0ie5sd9wf1xGG2','MEMBER','2026-01-15 08:59:40.558','2026-01-15 08:59:40.558',NULL,NULL,'test-club-gamification','','',NULL,'2026-01-15 08:59:40.558','2026-01',NULL)

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.351ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('31bd3e04-4e81-4aad-b15b-8dffa3679e40','c26fbbd9-22dc-47db-b158-58372dae6f7b','','75c1537ca92eb132570f406472225194ecc953d1f1a135206beeb6e962af7533','2026-02-14 08:59:40.563',false,NULL,'2026-01-15 08:59:40.563','2026-01-15 08:59:40.563')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.869ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:72
[0m[33m[2.313ms] [34;1m[rows:1][0m UPDATE "users" SET "club_id"='test-club-gamification',"updated_at"='2026-01-15 08:59:40.567' WHERE id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' AND "users"."deleted_at" IS NULL

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:81
[0m[33m[2.562ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('c26fbbd9-22dc-47db-b158-58372dae6f7b',0,0,0,1,0,0,0,NULL,0,'2026-01-15 08:59:40.569','2026-01-15 08:59:40.569') RETURNING "id"

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:89
[0m[33m[2.743ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('c26fbbd9-22dc-47db-b158-58372dae6f7b',0,0,NULL,'2026-01-15 08:59:40.572','2026-01-15 08:59:40.572') RETURNING "id"
=== RUN   TestGamificationFlow/Get_Stats

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.819ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[1.042ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.802ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
=== RUN   TestGamificationFlow/Get_Wallet

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.743ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.727ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.307ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:137
[0m[33m[2.352ms] [34;1m[rows:1][0m UPDATE "user_stats" SET "level"=2,"matches_played"=5,"ranking_points"=1200,"updated_at"='2026-01-15 08:59:40.58' WHERE user_id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'
=== RUN   TestGamificationFlow/Get_Updated_Stats

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.696ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.669ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.256ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:157
[0m[33m[0.726ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE user_id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' ORDER BY "wallets"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:172
[0m[33m[2.285ms] [34;1m[rows:1][0m UPDATE "wallets" SET "user_id"='c26fbbd9-22dc-47db-b158-58372dae6f7b',"balance"=50,"points"=0,"transactions"='[{"id":"tx-123","type":"CREDIT","amount":50,"description":"Win Bonus","date":"2026-01-15T08:59:40.585182-03:00"}]',"created_at"='2026-01-15 11:59:40.572',"updated_at"='2026-01-15 08:59:40.585' WHERE "id" = 'd828e2a4-dc88-4c43-bdfb-01c5e87746f6'
=== RUN   TestGamificationFlow/Get_Updated_Wallet

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.673ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.702ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c26fbbd9-22dc-47db-b158-58372dae6f7b'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.212ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c26fbbd9-22dc-47db-b158-58372dae6f7b' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
--- PASS: TestGamificationFlow (0.50s)
    --- PASS: TestGamificationFlow/Get_Stats (0.00s)
    --- PASS: TestGamificationFlow/Get_Wallet (0.00s)
    --- PASS: TestGamificationFlow/Get_Updated_Stats (0.00s)
    --- PASS: TestGamificationFlow/Get_Updated_Wallet (0.00s)
=== RUN   TestKnockoutBracketGeneration

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[2.116ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.951ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.621ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.398ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[2.093ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.157ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[3.763ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.022ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.084ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[3.882ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.098ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.178ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[3.875ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 08:59:40 [32m
[0m[33m[1.970ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.101ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[3.794ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.073ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 08:59:40 [32m
[0m[33m[1.991ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.269ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.059ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 08:59:40 [32m
[0m[33m[1.991ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.076ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[2.236ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[3.935ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.228ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.199ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:59
[0m[33m[1.198ms] [34;1m[rows:0][0m DELETE FROM tournament_matches WHERE tournament_id IN (SELECT id FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:60
[0m[33m[1.317ms] [34;1m[rows:0][0m DELETE FROM standings WHERE group_id IN (SELECT g.id FROM groups g JOIN tournament_stages s ON g.stage_id = s.id JOIN tournaments t ON s.tournament_id = t.id WHERE t.club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:61
[0m[33m[0.790ms] [34;1m[rows:0][0m DELETE FROM groups WHERE stage_id IN (SELECT s.id FROM tournament_stages s JOIN tournaments t ON s.tournament_id = t.id WHERE t.club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:62
[0m[33m[0.699ms] [34;1m[rows:0][0m DELETE FROM tournament_stages WHERE tournament_id IN (SELECT id FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:63
[0m[33m[0.672ms] [34;1m[rows:0][0m DELETE FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333'
2026/01/15 08:59:40 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.180ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.648ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.677ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.945ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.372ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.982ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.946ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.450ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.497ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.128ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.155ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.150ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.185ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.077ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.651ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.072ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.104ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.908ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.317ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.353ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.685ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.402ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.167ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.114ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.150ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.133ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.138ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.138ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.133ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.110ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.147ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.083ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.055ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.056ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.065ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.959ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.660ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.834ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.653ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.688ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.327ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.143ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.172ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.195ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.101ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.299ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.057ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:40 DEBUG: AutoMigrate Success

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.007ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.634ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[4.906ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.179ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[6.904ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[6.826ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.970ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.108ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.162ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.105ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.154ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.156ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.142ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.150ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[1.058ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[0.670ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[4.973ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[0.792ms] [34;1m[rows:-][0m SELECT * FROM "family_groups" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[7.040ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'family_groups' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[7.644ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'family_groups'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[1.037ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'family_groups'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[2.777ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'family_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19 [35;1mERROR: column "club_id" of relation "family_groups" contains null values (SQLSTATE 23502)
[0m[33m[0.994ms] [34;1m[rows:0][0m ALTER TABLE "family_groups" ADD "club_id" text NOT NULL

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[3.089ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('33333333-3333-3333-3333-333333333333','Knockout Cup','','FUTBOL','Senior','DRAFT','2026-01-22 08:59:40.897',NULL,'','2026-01-15 08:59:40.898','2026-01-15 08:59:40.898','b17269d6-63af-483d-8792-3ea466771f8e') RETURNING "id","settings"

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[0.727ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b17269d6-63af-483d-8792-3ea466771f8e'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[1.629ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b17269d6-63af-483d-8792-3ea466771f8e' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[3.301ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b17269d6-63af-483d-8792-3ea466771f8e',1,'Playoffs','KNOCKOUT','PENDING','c59530bf-4ee4-40b2-8751-502793bb7841') RETURNING "id"

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.737ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('e9a4542d-ae24-44fe-bfe7-98990e61e804', 'Team A', '33333333-3333-3333-3333-333333333333', 'b17269d6-63af-483d-8792-3ea466771f8e', NOW(), NOW())

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.729ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('4f9b9008-cb2d-4663-8b7e-9a7e6aa209be', 'Team B', '33333333-3333-3333-3333-333333333333', 'b17269d6-63af-483d-8792-3ea466771f8e', NOW(), NOW())

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.803ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('2aeeb68e-bf4d-439a-9919-1b06547a5bf7', 'Team C', '33333333-3333-3333-3333-333333333333', 'b17269d6-63af-483d-8792-3ea466771f8e', NOW(), NOW())

2026/01/15 08:59:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.817ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('364a28d4-d766-4f69-b2ad-33db12913eff', 'Team D', '33333333-3333-3333-3333-333333333333', 'b17269d6-63af-483d-8792-3ea466771f8e', NOW(), NOW())
=== RUN   TestKnockoutBracketGeneration/Generate_4-Team_Knockout_Bracket

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.904ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = 'c59530bf-4ee4-40b2-8751-502793bb7841' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[1.300ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('b17269d6-63af-483d-8792-3ea466771f8e','c59530bf-4ee4-40b2-8751-502793bb7841',NULL,'e9a4542d-ae24-44fe-bfe7-98990e61e804','364a28d4-d766-4f69-b2ad-33db12913eff',NULL,NULL,NULL,'SCHEDULED','2026-01-22 08:59:40.909','8965d7bb-8c57-4ca5-9931-2577ee7f374e') RETURNING "id"

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.804ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('b17269d6-63af-483d-8792-3ea466771f8e','c59530bf-4ee4-40b2-8751-502793bb7841',NULL,'4f9b9008-cb2d-4663-8b7e-9a7e6aa209be','2aeeb68e-bf4d-439a-9919-1b06547a5bf7',NULL,NULL,NULL,'SCHEDULED','2026-01-22 08:59:40.909','aa3b6879-98bc-401b-85c3-22f609348f11') RETURNING "id"
=== RUN   TestKnockoutBracketGeneration/Reject_Non-Power-of-2_Teams

2026/01/15 08:59:40 [32m
[0m[33m[0.701ms] [34;1m[rows:0][0m SELECT * FROM "groups" WHERE "groups"."stage_id" = 'c59530bf-4ee4-40b2-8751-502793bb7841'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[1.548ms] [34;1m[rows:1][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b17269d6-63af-483d-8792-3ea466771f8e'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[2.467ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b17269d6-63af-483d-8792-3ea466771f8e' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[2.403ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b17269d6-63af-483d-8792-3ea466771f8e',2,'Playoffs 2','KNOCKOUT','PENDING','65bc9aaf-e5a4-4969-9cec-60586bc5cc80') RETURNING "id"

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.836ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = '65bc9aaf-e5a4-4969-9cec-60586bc5cc80' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1
=== RUN   TestKnockoutBracketGeneration/Reject_GROUP_Stage_for_Knockout

2026/01/15 08:59:40 [32m
[0m[33m[0.753ms] [34;1m[rows:0][0m SELECT * FROM "groups" WHERE "groups"."stage_id" IN ('c59530bf-4ee4-40b2-8751-502793bb7841','65bc9aaf-e5a4-4969-9cec-60586bc5cc80')

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[1.519ms] [34;1m[rows:2][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b17269d6-63af-483d-8792-3ea466771f8e'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[2.307ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b17269d6-63af-483d-8792-3ea466771f8e' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[2.415ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b17269d6-63af-483d-8792-3ea466771f8e',3,'Group Phase','GROUP','PENDING','978c1643-29a8-41b1-b17f-6d0f62bf21fc') RETURNING "id"

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.873ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = '978c1643-29a8-41b1-b17f-6d0f62bf21fc' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1
--- PASS: TestKnockoutBracketGeneration (0.34s)
    --- PASS: TestKnockoutBracketGeneration/Generate_4-Team_Knockout_Bracket (0.00s)
    --- PASS: TestKnockoutBracketGeneration/Reject_Non-Power-of-2_Teams (0.01s)
    --- PASS: TestKnockoutBracketGeneration/Reject_GROUP_Stage_for_Knockout (0.01s)
=== RUN   TestPaymentWebhookSecurity
=== RUN   TestPaymentWebhookSecurity/Missing_Signature_Headers_->_403_Forbidden
=== RUN   TestPaymentWebhookSecurity/Valid_Signature_->_200_OK_(logic_wise)
--- PASS: TestPaymentWebhookSecurity (0.00s)
    --- PASS: TestPaymentWebhookSecurity/Missing_Signature_Headers_->_403_Forbidden (0.00s)
    --- PASS: TestPaymentWebhookSecurity/Valid_Signature_->_200_OK_(logic_wise) (0.00s)
=== RUN   TestSuperAdminAccess

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[1.992ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "clubs" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[2.960ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[1.991ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[2.503ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.453ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'clubs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[4.353ms] [34;1m[rows:0][0m CREATE TABLE "clubs" ("id" text,"name" text NOT NULL,"slug" text NOT NULL,"logo_url" text,"theme_config" jsonb,"domain" text,"status" text DEFAULT 'ACTIVE',"settings" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.419ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_clubs_slug" ON "clubs" ("slug")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.387ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[4.629ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:40 [32m
[0m[33m[2.639ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.604ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:40 [32m
[0m[33m[2.295ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:40 [32m
[0m[33m[2.334ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.141ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[4.169ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:40 [32m
[0m[33m[2.071ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.067ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[4.152ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:40 [32m
[0m[33m[2.051ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.184ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.670ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.958ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.893ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.360ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.116ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.057ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.451ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.403ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m
[0m[33m[0.665ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m
[0m[33m[5.624ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[0.837ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:41 [32m
[0m[33m[8.202ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m
[0m[33m[8.279ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[1.154ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.457ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m
[0m[33m[0.644ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m
[0m[33m[5.450ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[0.712ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:41 [32m
[0m[33m[7.951ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m
[0m[33m[8.141ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[0.934ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[8.814ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m
[0m[33m[0.664ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m
[0m[33m[5.507ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[0.838ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:41 [32m
[0m[33m[8.453ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m
[0m[33m[8.390ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m
[0m[33m[1.160ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.053ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.114ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.066ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.262ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.214ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.077ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.174ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.065ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.700ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.958ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.788ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.076ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.025ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.213ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.710ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.165ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.328ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.774ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.195ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.101ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.062ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.064ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.617ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.972ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.737ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.844ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.888ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.157ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.313ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.190ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.955ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'super@admin.com' AND club_id = 'system') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:82
[0m[33m[2.935ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('sa-id-123','Super Admin','super@admin.com','','SUPER_ADMIN',NULL,NULL,NULL,'2026-01-15 08:59:41.231','2026-01-15 08:59:41.231',NULL,'system',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.815ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'normal@user.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:99
[0m[33m[2.339ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('norm-id-456','Normal User','normal@user.com','','MEMBER',NULL,NULL,NULL,'2026-01-15 08:59:41.235','2026-01-15 08:59:41.235',NULL,'club-A',NULL,'','','','','PENDING',NULL,NULL,'',NULL)
=== RUN   TestSuperAdminAccess/Normal_User_Forbidden

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:44
[0m[33m[2.444ms] [34;1m[rows:1][0m INSERT INTO "clubs" ("id","name","slug","logo_url","theme_config","domain","status","settings","created_at","updated_at") VALUES ('club-A','Club A','','','""','','ACTIVE','""','2026-01-15 08:59:41.238','2026-01-15 08:59:41.238')

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:57 [35;1mrecord not found
[0m[33m[0.714ms] [34;1m[rows:0][0m SELECT * FROM "clubs" WHERE slug = 'club-A' ORDER BY "clubs"."id" LIMIT 1
=== RUN   TestSuperAdminAccess/Super_Admin_Create_Club

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:44
[0m[33m[2.418ms] [34;1m[rows:1][0m INSERT INTO "clubs" ("id","name","slug","logo_url","theme_config","domain","status","settings","created_at","updated_at") VALUES ('ccbd791b-06f8-43e1-a245-cccf1f511735','New Club','new-club','','""','new.club.com','ACTIVE','""','2026-01-15 08:59:41.241','2026-01-15 08:59:41.241')

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:49
[0m[33m[0.761ms] [34;1m[rows:1][0m SELECT * FROM "clubs" WHERE id = 'ccbd791b-06f8-43e1-a245-cccf1f511735' ORDER BY "clubs"."id" LIMIT 1
=== RUN   TestSuperAdminAccess/Super_Admin_List_Clubs

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:76
[0m[33m[1.754ms] [34;1m[rows:2][0m SELECT * FROM "clubs" LIMIT 100
--- PASS: TestSuperAdminAccess (0.32s)
    --- PASS: TestSuperAdminAccess/Normal_User_Forbidden (0.00s)
    --- PASS: TestSuperAdminAccess/Super_Admin_Create_Club (0.00s)
    --- PASS: TestSuperAdminAccess/Super_Admin_List_Clubs (0.00s)
=== RUN   TestAttendanceFlow

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.083ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.903ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.554ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.687ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.851ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.678ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "attendance_records" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.816ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "attendance_lists" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:35
[0m[33m[0.626ms] [34;1m[rows:0][0m CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.174ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[4.307ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.062ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:41 [32m
[0m[33m[2.010ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:41 [32m
[0m[33m[1.970ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:41 [32m
[0m[33m[1.948ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.184ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'attendance_lists' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[3.823ms] [34;1m[rows:0][0m CREATE TABLE "attendance_lists" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"date" timestamptz,"group_name" text,"training_group_id" uuid,"coach_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.097ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_attendance_lists_deleted_at" ON "attendance_lists" ("deleted_at")

2026/01/15 08:59:41 [32m
[0m[33m[2.065ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_attendance_lists_club_id" ON "attendance_lists" ("club_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.144ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'attendance_records' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[3.946ms] [34;1m[rows:0][0m CREATE TABLE "attendance_records" ("id" uuid DEFAULT uuid_generate_v4(),"attendance_list_id" uuid,"user_id" text,"status" text,"notes" text,PRIMARY KEY ("id"),CONSTRAINT "fk_attendance_lists_records" FOREIGN KEY ("attendance_list_id") REFERENCES "attendance_lists"("id"))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.119ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.853ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.218ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 08:59:41 [32m
[0m[33m[2.070ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.153ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[4.212ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.382ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 08:59:41 [32m
[0m[33m[2.219ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 08:59:41 [32m
[0m[33m[2.361ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:69
[0m[33m[2.198ms] [34;1m[rows:0][0m DELETE FROM "attendance_records" WHERE user_id = 'student-2012'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:70
[0m[33m[2.165ms] [34;1m[rows:0][0m DELETE FROM "attendance_lists" WHERE group_name = '2012'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:71
[0m[33m[2.242ms] [34;1m[rows:0][0m DELETE FROM "users" WHERE id = 'student-2012'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:73
[0m[33m[2.914ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('student-2012','Student 2012','student2012@test.com','','','2012-01-01 00:00:00',NULL,NULL,'2026-01-15 08:59:41.318','2026-01-15 08:59:41.318',NULL,'test-club-attendance',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83 [35;1mrecord not found
[0m[33m[0.957ms] [34;1m[rows:0][0m SELECT * FROM "attendance_lists" WHERE (group_name = '2012' AND date = '2024-01-01 00:00:00' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:175 [35;1mERROR: relation "user_stats" does not exist (SQLSTATE 42P01)
[0m[33m[0.938ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'student-2012'

2026/01/15 08:59:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:175 [35;1mERROR: relation "user_stats" does not exist (SQLSTATE 42P01)
[0m[33m[2.095ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE club_id = 'test-club-attendance' AND EXTRACT(YEAR FROM date_of_birth) = '2012' AND "users"."deleted_at" IS NULL LIMIT 100

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:63
[0m[33m[3.309ms] [34;1m[rows:1][0m INSERT INTO "attendance_lists" ("club_id","date","group_name","training_group_id","coach_id","created_at","updated_at","deleted_at","id") VALUES ('test-club-attendance','2024-01-01 00:00:00','2012',NULL,'coach-uuid-123','2026-01-15 08:59:41.322','2026-01-15 08:59:41.322',NULL,'efac5d77-900a-4c8e-8d58-54042023c9a5') RETURNING "id"
[GIN] 2026/01/15 - 08:59:41 | 200 |    6.602293ms |                 | GET      "/api/v1/attendance/groups/2012?date=2024-01-01"
    attendance_flow_test.go:95: 
        	Error Trace:	/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:95
        	Error:      	Should NOT be empty, but was []
        	Test:       	TestAttendanceFlow
    attendance_flow_test.go:103: 
        	Error Trace:	/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:103
        	Error:      	Should be true
        	Test:       	TestAttendanceFlow
        	Messages:   	Student 2012 should be in the list

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:68
[0m[33m[0.723ms] [34;1m[rows:0][0m SELECT * FROM "attendance_records" WHERE "attendance_records"."attendance_list_id" = 'efac5d77-900a-4c8e-8d58-54042023c9a5'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:68
[0m[33m[1.656ms] [34;1m[rows:1][0m SELECT * FROM "attendance_lists" WHERE (id = 'efac5d77-900a-4c8e-8d58-54042023c9a5' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:119
[0m[33m[2.469ms] [34;1m[rows:0][0m UPDATE "attendance_records" SET "attendance_list_id"='efac5d77-900a-4c8e-8d58-54042023c9a5',"user_id"='student-2012',"status"='PRESENT',"notes"='Arrived on time' WHERE "id" = '02e8d2b4-7c63-4dab-9b4e-6781353682ca'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:119
[0m[33m[2.498ms] [34;1m[rows:1][0m INSERT INTO "attendance_records" ("attendance_list_id","user_id","status","notes","id") VALUES ('efac5d77-900a-4c8e-8d58-54042023c9a5','student-2012','PRESENT','Arrived on time','02e8d2b4-7c63-4dab-9b4e-6781353682ca') ON CONFLICT ("id") DO UPDATE SET "attendance_list_id"="excluded"."attendance_list_id","user_id"="excluded"."user_id","status"="excluded"."status","notes"="excluded"."notes" RETURNING "id"
[GIN] 2026/01/15 - 08:59:41 | 200 |    6.761733ms |                 | POST     "/api/v1/attendance/efac5d77-900a-4c8e-8d58-54042023c9a5/records"

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83
[0m[33m[0.672ms] [34;1m[rows:1][0m SELECT * FROM "attendance_records" WHERE "attendance_records"."attendance_list_id" = 'efac5d77-900a-4c8e-8d58-54042023c9a5'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83
[0m[33m[1.495ms] [34;1m[rows:1][0m SELECT * FROM "attendance_lists" WHERE (group_name = '2012' AND date = '2024-01-01 00:00:00' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1
--- FAIL: TestAttendanceFlow (0.09s)
=== RUN   TestBookingAdvancedFlow

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[1.805ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[1.642ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "waitlists" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[1.702ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.183ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.172ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.256ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 08:59:41 [32m
[0m[33m[1.991ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.123ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'waitlists' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.810ms] [34;1m[rows:0][0m CREATE TABLE "waitlists" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"resource_id" uuid NOT NULL,"target_date" timestamptz NOT NULL,"user_id" uuid NOT NULL,"status" text DEFAULT 'PENDING',"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.098ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.152ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:41 [32m
[0m[33m[2.128ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.255ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.675ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[6.892ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.321ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[9.122ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[8.465ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.280ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.622ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.152ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.102ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.146ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.656ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.704ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.675ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.597ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.600ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.125ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.153ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.645ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.482ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.259ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.086ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.064ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.970ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.516ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:41 [32m
[0m[33m[2.154ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.087ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.032ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:41 [32m
[0m[33m[2.213ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")
2026/01/15 08:59:41 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.231ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.718ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.414ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.949ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.296ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.137ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.106ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.063ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.726ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.685ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.544ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.562ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.426ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.377ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.379ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.825ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.009ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.972ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.031ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.775ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.567ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.375ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.230ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.111ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.742ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.385ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.742ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.392ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.929ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.249ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.569ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.659ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.421ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.436ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.666ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.657ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.393ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.533ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.289ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.442ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.608ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.088ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.150ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.031ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.769ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.928ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.662ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[41.886ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[15.850ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.337ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.544ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.114ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.378ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.448ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.664ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.054ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.044ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.088ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.598ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:41 DEBUG: AutoMigrate Success

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.089ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.940ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[12.914ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.291ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[8.233ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[8.169ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.016ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.577ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.589ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.645ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.698ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[4.619ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.558ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.156ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.059ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.062ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:58
[0m[33m[2.610ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('5057bea1-d1ff-47a4-8bf2-543f1a36385d','Padel Court 1','','','active',0,0,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-adv-booking','2026-01-15 08:59:41.773','2026-01-15 08:59:41.773')

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:68
[0m[33m[2.175ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('b90f5979-c154-49b0-bdef-85e8f9139b78','U1','u1@test.com','','',NULL,NULL,NULL,'2026-01-15 08:59:41.775','2026-01-15 08:59:41.775',NULL,'test-club-adv-booking',NULL,'','','','','VALID',NULL,NULL,'',NULL)

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:69
[0m[33m[2.033ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('e7260557-6b07-4b7f-87f1-ae2cff81a3a5','U2','u2@test.com','','',NULL,NULL,NULL,'2026-01-15 08:59:41.777','2026-01-15 08:59:41.777',NULL,'test-club-adv-booking',NULL,'','','','','VALID',NULL,NULL,'',NULL)
=== RUN   TestBookingAdvancedFlow/User_1_Books

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.737ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' AND club_id = 'test-club-adv-booking' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[1.778ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-adv-booking' AND facility_id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 12:00:00' AND end_time > '2026-01-16 11:00:00'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.687ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 12:00:00' AND end_time > '2026-01-16 11:00:00')

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.698ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'b90f5979-c154-49b0-bdef-85e8f9139b78'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.701ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'b90f5979-c154-49b0-bdef-85e8f9139b78'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.164ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'b90f5979-c154-49b0-bdef-85e8f9139b78' AND club_id = 'test-club-adv-booking') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.614ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('4ade1f3b-619a-4abc-8c17-fa14b636cc4d','test-club-adv-booking','b90f5979-c154-49b0-bdef-85e8f9139b78','5057bea1-d1ff-47a4-8bf2-543f1a36385d','2026-01-16 11:00:00','2026-01-16 12:00:00','0','CONFIRMED','[]',NULL,'2026-01-15 08:59:41.785','2026-01-15 08:59:41.785')
2026/01/15 08:59:41 Redis connection established successfully
=== RUN   TestBookingAdvancedFlow/User_2_Conflict

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.790ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' AND club_id = 'test-club-adv-booking' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.746ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-adv-booking' AND facility_id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 12:00:00' AND end_time > '2026-01-16 11:00:00'
=== RUN   TestBookingAdvancedFlow/User_2_Join_Waitlist

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:118
[0m[33m[2.346ms] [34;1m[rows:1][0m INSERT INTO "waitlists" ("club_id","resource_id","target_date","user_id","status","created_at","updated_at","id") VALUES ('test-club-adv-booking','5057bea1-d1ff-47a4-8bf2-543f1a36385d','2026-01-16 08:00:00','e7260557-6b07-4b7f-87f1-ae2cff81a3a5','PENDING','2026-01-15 08:59:41.795','2026-01-15 08:59:41.795','518d8df0-5c25-4f72-acf1-119872cc63b0') RETURNING "id"

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:142
[0m[33m[0.684ms] [34;1m[rows:1][0m SELECT * FROM "waitlists" WHERE user_id = 'e7260557-6b07-4b7f-87f1-ae2cff81a3a5' AND resource_id = '5057bea1-d1ff-47a4-8bf2-543f1a36385d' ORDER BY "waitlists"."id" LIMIT 1
--- PASS: TestBookingAdvancedFlow (0.46s)
    --- PASS: TestBookingAdvancedFlow/User_1_Books (0.01s)
    --- PASS: TestBookingAdvancedFlow/User_2_Conflict (0.00s)
    --- PASS: TestBookingAdvancedFlow/User_2_Join_Waitlist (0.00s)
=== RUN   TestBookingPricing

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.027ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.626ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.904ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.652ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[8.072ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[8.114ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.979ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.114ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.124ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.880ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.847ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.427ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.482ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.467ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.480ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.298ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.104ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.085ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.332ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.486ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.014ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.605ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.187ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.675ms] [34;1m[rows:-][0m SELECT * FROM "user_stats" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.186ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.718ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.117ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_stats'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_played') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'ranking_points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'experience') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.289ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'current_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'longest_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'last_activity_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'total_xp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.123ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.486ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND constraint_name = 'fk_users_stats'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.458ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_stats' AND indexname = 'idx_user_stats_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.869ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.761ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[6.044ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.681ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[6.633ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[6.723ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.948ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m
[0m[33m[0.733ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:41 [32m
[0m[33m[4.931ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 08:59:41 [32m
[0m[33m[0.677ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 08:59:41 [32m
[0m[33m[6.620ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:41 [32m
[0m[33m[6.570ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 08:59:41 [32m
[0m[33m[1.033ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.541ms] [34;1m[rows:0][0m ALTER TABLE "wallets" ALTER COLUMN "balance" SET DEFAULT 0

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.158ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.166ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'transactions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.143ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.445ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND constraint_name = 'fk_users_wallet'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.554ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'wallets' AND indexname = 'idx_wallets_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.132ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.448ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.852ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.782ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[10.051ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.849ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.037ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.300ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.501ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.337ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.755ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.545ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.991ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.877ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.709ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.978ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.561ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.300ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.764ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[6.015ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.929ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[8.153ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.870ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.279ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.971ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.556ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.094ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.756ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.509ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.466ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.464ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.335ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.243ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:34
[0m[33m[5.924ms] [34;1m[rows:0][0m TRUNCATE TABLE bookings CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:35
[0m[33m[4.742ms] [34;1m[rows:0][0m TRUNCATE TABLE facilities CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:36
[0m[33m[16.853ms] [34;1m[rows:0][0m TRUNCATE TABLE users CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:37
[0m[33m[5.159ms] [34;1m[rows:0][0m TRUNCATE TABLE user_stats CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.315ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.803ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.849ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.935ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.689ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.174ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.981ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.445ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.538ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.466ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.055ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.790ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.672ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.555ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.238ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.227ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:42 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.080ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.680ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.775ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.856ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.248ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.432ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.181ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.692ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.870ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.672ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.572ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.473ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.427ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.344ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.473ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.454ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.708ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.607ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.479ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.448ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.238ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.213ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.793ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.895ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.910ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[9.008ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[9.016ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.207ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.641ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.598ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.672ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.461ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.513ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.532ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.373ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.376ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.246ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.648ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.102ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.839ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.810ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.288ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.430ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.073ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.414ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.374ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.388ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:42 DEBUG: AutoMigrate Success

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:312
[0m[33m[2.767ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('11111111-1111-1111-1111-111111111111','Test User','test@test.com','$2a$10$PlaceholderHashForChildAcc','',NULL,NULL,NULL,'2026-01-15 08:59:42.421','2026-01-15 08:59:42.421',NULL,'test-club-1',NULL,'','','','','VALID','2027-01-15 08:59:42.421',NULL,'',NULL)

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:70
[0m[33m[2.748ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('c95458a3-b6b8-46e2-9ba6-8df00e477281','Tennis Court 1','','','active',0,100,'08:00','22:00',50,'{"lighting":false,"covered":false}','{"name":""}','test-club-1','2026-01-15 08:59:42.425','2026-01-15 08:59:42.425')
=== RUN   TestBookingPricing/Create_Booking_with_Guests_and_Verify_Price

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.874ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = 'c95458a3-b6b8-46e2-9ba6-8df00e477281' AND club_id = 'test-club-1' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.793ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-1' AND facility_id = 'c95458a3-b6b8-46e2-9ba6-8df00e477281' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 13:00:00' AND end_time > '2026-01-16 11:00:00'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.877ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = 'c95458a3-b6b8-46e2-9ba6-8df00e477281' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 13:00:00' AND end_time > '2026-01-16 11:00:00')

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.828ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '11111111-1111-1111-1111-111111111111'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.782ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '11111111-1111-1111-1111-111111111111'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.895ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '11111111-1111-1111-1111-111111111111' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.463ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('71e4ac4c-33e6-4ba9-a834-8d235afba6b7','test-club-1','11111111-1111-1111-1111-111111111111','c95458a3-b6b8-46e2-9ba6-8df00e477281','2026-01-16 11:00:00','2026-01-16 13:00:00','300','PENDING_PAYMENT','[{"name":"Guest 1","dni":"123","fee_amount":0},{"name":"Guest 2","dni":"456","fee_amount":0}]','2026-01-15 09:14:42.432','2026-01-15 08:59:42.432','2026-01-15 08:59:42.432')
--- PASS: TestBookingPricing (0.64s)
    --- PASS: TestBookingPricing/Create_Booking_with_Guests_and_Verify_Price (0.01s)
=== RUN   TestBookingCancellationFlow

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:29
[0m[33m[1.795ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:29
[0m[33m[1.827ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[1.157ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[3.851ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:42 [32m
[0m[33m[2.310ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 08:59:42 [32m
[0m[33m[1.971ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[1.117ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[3.858ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:42 [32m
[0m[33m[1.975ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")
2026/01/15 08:59:42 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.207ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.747ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.590ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.886ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.395ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.512ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.068ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.285ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.388ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.374ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.172ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.560ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.459ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.858ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.474ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.276ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.759ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.451ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.927ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.477ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.355ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.121ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.337ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.344ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.170ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.149ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.327ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.376ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.402ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.349ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.371ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.254ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.196ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.754ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.995ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.752ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.989ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.150ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.050ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.250ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.367ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.493ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.251ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:42 DEBUG: AutoMigrate Success

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.161ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.928ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.277ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.871ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.224ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.175ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.990ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.239ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.636ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.414ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.406ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.405ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.385ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.611ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.268ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.304ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:53
[0m[33m[2.732ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('3799b6ba-707c-49ed-9edd-c90cebc5003d','Court Cancel','','','active',0,0,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-cancel','2026-01-15 08:59:42.68','2026-01-15 08:59:42.68')

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:61
[0m[33m[2.202ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('552a5eee-5a3d-4b89-a9cb-1808a6dc56b6','U Cancel','cancel@test.com','','',NULL,NULL,NULL,'2026-01-15 08:59:42.682','2026-01-15 08:59:42.682',NULL,'test-club-cancel',NULL,'','','','','VALID',NULL,NULL,'',NULL)

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:67
[0m[33m[3.799ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('d8b3a4f0-e2b4-43b3-9834-5c5d5dc86673','test-club-cancel','552a5eee-5a3d-4b89-a9cb-1808a6dc56b6','3799b6ba-707c-49ed-9edd-c90cebc5003d','2026-01-16 08:00:00','2026-01-16 09:00:00','0','CONFIRMED','[]',NULL,'2026-01-15 08:59:42.685','2026-01-15 08:59:42.685')
=== RUN   TestBookingCancellationFlow/User_Cancel_Booking

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.774ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = 'd8b3a4f0-e2b4-43b3-9834-5c5d5dc86673' AND club_id = 'test-club-cancel' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[2.231ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-cancel',"user_id"='552a5eee-5a3d-4b89-a9cb-1808a6dc56b6',"facility_id"='3799b6ba-707c-49ed-9edd-c90cebc5003d',"start_time"='2026-01-16 11:00:00',"end_time"='2026-01-16 12:00:00',"total_price"='0',"status"='CANCELLED',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 11:59:42.685',"updated_at"='2026-01-15 08:59:42.689' WHERE "id" = 'd8b3a4f0-e2b4-43b3-9834-5c5d5dc86673'

2026/01/15 08:59:42 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:129 [35;1mrecord not found
[0m[33m[0.792ms] [34;1m[rows:0][0m SELECT * FROM "waitlists" WHERE club_id = 'test-club-cancel' AND resource_id = '3799b6ba-707c-49ed-9edd-c90cebc5003d' AND target_date = '2026-01-16 11:00:00' AND status = 'PENDING' ORDER BY created_at asc,"waitlists"."id" LIMIT 1

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:92
[0m[33m[0.731ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = 'd8b3a4f0-e2b4-43b3-9834-5c5d5dc86673' ORDER BY "bookings"."id" LIMIT 1
--- PASS: TestBookingCancellationFlow (0.26s)
    --- PASS: TestBookingCancellationFlow/User_Cancel_Booking (0.00s)
=== RUN   TestCancellationRefundFlow

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.110ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.709ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[5.658ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.696ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[8.624ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[8.650ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.226ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.558ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.740ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.479ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.412ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.402ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.509ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.390ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.529ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.462ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.434ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.162ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.113ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.497ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[3.372ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.365ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.382ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.342ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.186ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.085ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.088ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.686ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[5.143ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.732ms] [34;1m[rows:-][0m SELECT * FROM "user_stats" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.232ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.106ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.976ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_stats'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.250ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_played') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.168ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'ranking_points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.398ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.640ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'experience') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'current_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'longest_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'last_activity_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'total_xp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.393ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND constraint_name = 'fk_users_stats'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.046ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_stats' AND indexname = 'idx_user_stats_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.963ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.614ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[4.744ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.861ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[6.666ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[6.607ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.208ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.511ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.666ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m
[0m[33m[0.743ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m
[0m[33m[5.320ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 08:59:42 [32m
[0m[33m[0.809ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 08:59:42 [32m
[0m[33m[7.297ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m
[0m[33m[6.848ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 08:59:42 [32m
[0m[33m[1.177ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.007ms] [34;1m[rows:0][0m ALTER TABLE "wallets" ALTER COLUMN "balance" SET DEFAULT 0

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'transactions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.463ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND constraint_name = 'fk_users_wallet'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.105ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'wallets' AND indexname = 'idx_wallets_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.025ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.654ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[5.357ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.864ms] [34;1m[rows:-][0m SELECT * FROM "payments" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.277ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[8.233ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.469ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.272ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.129ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.084ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'external_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.103ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.101ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.048ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.152ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.159ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.182ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.146ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.091ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.049ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.636ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.120ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.812ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.168ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[6.939ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.961ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.148ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.131ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.064ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.165ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.166ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.100ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.158ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:43 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.106ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.592ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.382ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.923ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.260ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.013ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.977ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.282ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.169ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.119ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.409ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.302ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.066ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.647ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.052ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.709ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.791ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.217ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.919ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.135ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.086ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.445ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.218ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.092ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.047ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.656ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.861ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.704ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.850ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.772ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.023ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.710ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.783ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.788ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.355ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.375ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.220ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:43 DEBUG: AutoMigrate Success

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:89
[0m[33m[0.839ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('4ee08a7c-6677-4289-afd4-ec093646d1d0','Test User','test-refund@test.com','$2a$10$placeholder','MEMBER',NULL,NULL,NULL,'2026-01-15 08:59:43.178','2026-01-15 08:59:43.178',NULL,'test-club-refund',NULL,'','','','','VALID','2027-01-15 08:59:43.178',NULL,'',NULL)

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:92
[0m[33m[0.963ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('4ee08a7c-6677-4289-afd4-ec093646d1d0',0,0,0,1,0,0,0,NULL,0,'2026-01-15 08:59:43.179','2026-01-15 08:59:43.179') RETURNING "id"

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:93
[0m[33m[0.900ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('4ee08a7c-6677-4289-afd4-ec093646d1d0',0,0,NULL,'2026-01-15 08:59:43.18','2026-01-15 08:59:43.18') RETURNING "id"

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:112
[0m[33m[0.685ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608','Test Court','','CANCHA','active',10,100,'08:00','22:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-refund','2026-01-15 08:59:43.181','2026-01-15 08:59:43.181')

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.738ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = 'f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608' AND club_id = 'test-club-refund' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.737ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-refund' AND facility_id = 'f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-17 12:00:00' AND end_time > '2026-01-17 11:00:00'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.731ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = 'f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-17 12:00:00' AND end_time > '2026-01-17 11:00:00')

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.690ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '4ee08a7c-6677-4289-afd4-ec093646d1d0'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.704ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '4ee08a7c-6677-4289-afd4-ec093646d1d0'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.230ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '4ee08a7c-6677-4289-afd4-ec093646d1d0' AND club_id = 'test-club-refund') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[1.229ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('6ed3cc13-dc8d-4764-b7ff-da1f087bd0c3','test-club-refund','4ee08a7c-6677-4289-afd4-ec093646d1d0','f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608','2026-01-17 11:00:00','2026-01-17 12:00:00','100','PENDING_PAYMENT','[]','2026-01-15 09:14:43.186','2026-01-15 08:59:43.186','2026-01-15 08:59:43.186')

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[0.749ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','COMPLETED','','mp-ext-12345','test-club-refund','00000000-0000-0000-0000-000000000000','6ed3cc13-dc8d-4764-b7ff-da1f087bd0c3','BOOKING','',NULL,'2026-01-15 08:59:43.188','2026-01-15 08:59:43.188',NULL,'4f23f1fc-4cbf-42ad-a147-b7ddfbe3572c') RETURNING "id"

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[0.716ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-refund',"user_id"='4ee08a7c-6677-4289-afd4-ec093646d1d0',"facility_id"='f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608',"start_time"='2026-01-17 11:00:00',"end_time"='2026-01-17 12:00:00',"total_price"='100',"status"='CONFIRMED',"guest_details"='[]',"payment_expiry"='2026-01-15 09:14:43.186',"created_at"='2026-01-15 08:59:43.186',"updated_at"='2026-01-15 08:59:43.189' WHERE "id" = '6ed3cc13-dc8d-4764-b7ff-da1f087bd0c3'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.711ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '6ed3cc13-dc8d-4764-b7ff-da1f087bd0c3' AND club_id = 'test-club-refund' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[0.830ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-refund',"user_id"='4ee08a7c-6677-4289-afd4-ec093646d1d0',"facility_id"='f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608',"start_time"='2026-01-17 11:00:00',"end_time"='2026-01-17 12:00:00',"total_price"='100',"status"='CANCELLED',"guest_details"='[]',"payment_expiry"='2026-01-15 12:14:43.186',"created_at"='2026-01-15 11:59:43.186',"updated_at"='2026-01-15 08:59:43.191' WHERE "id" = '6ed3cc13-dc8d-4764-b7ff-da1f087bd0c3'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:93
[0m[33m[1.123ms] [34;1m[rows:1][0m SELECT count(*) FROM "payments" WHERE club_id = 'test-club-refund' AND status = 'COMPLETED' AND "payments"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:106
[0m[33m[0.760ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE club_id = 'test-club-refund' AND status = 'COMPLETED' AND "payments"."deleted_at" IS NULL ORDER BY created_at DESC

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[0.713ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='mp-ext-12345',"paid_at"=NULL,"status"='REFUNDED',"updated_at"='2026-01-15 11:59:43.188' WHERE (id = '4f23f1fc-4cbf-42ad-a147-b7ddfbe3572c' AND club_id = 'test-club-refund') AND "payments"."deleted_at" IS NULL

2026/01/15 08:59:43 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:129 [35;1mrecord not found
[0m[33m[0.684ms] [34;1m[rows:0][0m SELECT * FROM "waitlists" WHERE club_id = 'test-club-refund' AND resource_id = 'f4f1c5b8-c37f-4c68-b3eb-2f43baf6e608' AND target_date = '2026-01-17 11:00:00' AND status = 'PENDING' ORDER BY created_at asc,"waitlists"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:93
[0m[33m[0.685ms] [34;1m[rows:1][0m SELECT count(*) FROM "payments" WHERE club_id = 'test-club-refund' AND "payments"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:106
[0m[33m[0.720ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE club_id = 'test-club-refund' AND "payments"."deleted_at" IS NULL ORDER BY created_at DESC
--- PASS: TestCancellationRefundFlow (0.50s)
=== RUN   TestFacilitiesFlow

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:28
[0m[33m[1.582ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "equipment" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:28
[0m[33m[1.643ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[1.092ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[3.750ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:43 [32m
[0m[33m[1.893ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[1.101ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[3.470ms] [34;1m[rows:0][0m CREATE TABLE "equipment" ("id" text,"facility_id" text,"name" text,"type" text,"condition" text,"status" text,"is_available" boolean,"purchase_date" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))
2026/01/15 08:59:43 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.104ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.633ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.339ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.057ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.908ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.434ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.020ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.365ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.313ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.109ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.117ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.110ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.156ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.295ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.136ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.063ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.644ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.124ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.732ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.732ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.840ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.914ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.157ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.151ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.122ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.102ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.118ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.203ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.205ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.142ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.631ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.921ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.782ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.657ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.863ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.942ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.152ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.383ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.144ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.049ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_equipment_facility_id" ON "equipment" ("facility_id")
2026/01/15 08:59:43 DEBUG: AutoMigrate Success
=== RUN   TestFacilitiesFlow/Create_Facility

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:70
[0m[33m[3.433ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('07234139-b456-44fb-a72d-25160b6266f3','Tennis Court 1','Professional hard court','TENNIS','active',4,500,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-facilities','2026-01-15 08:59:43.372','2026-01-15 08:59:43.372')
[GIN] 2026/01/15 - 08:59:43 | 201 |    4.323697ms |                 | POST     "/api/v1/facilities"
=== RUN   TestFacilitiesFlow/List_Facilities

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:87
[0m[33m[0.935ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE club_id = 'test-club-facilities' LIMIT 10
[GIN] 2026/01/15 - 08:59:43 | 200 |    2.285746ms |                 | GET      "/api/v1/facilities"
=== RUN   TestFacilitiesFlow/Update_Facility

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[1.070ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '07234139-b456-44fb-a72d-25160b6266f3' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:118
[0m[33m[2.422ms] [34;1m[rows:1][0m UPDATE "facilities" SET "name"='Tennis Court 1 (Updated)',"description"='Professional hard court',"type"='TENNIS',"status"='active',"capacity"=4,"hourly_rate"=500,"opening_time"='08:00',"closing_time"='23:00',"guest_fee"=0,"specifications"='{"lighting":false,"covered":false}',"location"='{"name":""}',"club_id"='test-club-facilities',"created_at"='2026-01-15 11:59:43.372',"updated_at"='2026-01-15 08:59:43.381' WHERE "id" = '07234139-b456-44fb-a72d-25160b6266f3'
[GIN] 2026/01/15 - 08:59:43 | 200 |    4.848555ms |                 | PUT      "/api/v1/facilities/07234139-b456-44fb-a72d-25160b6266f3"

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.709ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '07234139-b456-44fb-a72d-25160b6266f3' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1
=== RUN   TestFacilitiesFlow/Add_Equipment

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.799ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '07234139-b456-44fb-a72d-25160b6266f3' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:284
[0m[33m[2.375ms] [34;1m[rows:1][0m INSERT INTO "equipment" ("id","facility_id","name","type","condition","status","purchase_date","created_at","updated_at") VALUES ('590a53f4-a8e5-4906-8f8e-73264d3f0517','07234139-b456-44fb-a72d-25160b6266f3','Tennis Racket pro','TENNIS_RACKET','excellent','available',NULL,'2026-01-15 08:59:43.386','2026-01-15 08:59:43.386')
[GIN] 2026/01/15 - 08:59:43 | 201 |    3.296102ms |                 | POST     "/api/v1/facilities/07234139-b456-44fb-a72d-25160b6266f3/equipment"
--- PASS: TestFacilitiesFlow (0.19s)
    --- PASS: TestFacilitiesFlow/Create_Facility (0.00s)
    --- PASS: TestFacilitiesFlow/List_Facilities (0.00s)
    --- PASS: TestFacilitiesFlow/Update_Facility (0.01s)
    --- PASS: TestFacilitiesFlow/Add_Equipment (0.00s)
=== RUN   TestMembershipFlow

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[2.286ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[1.877ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[1.834ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[1.985ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[2.066ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.164ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[3.553ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:43 [32m
[0m[33m[1.863ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 08:59:43 [32m
[0m[33m[1.845ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.044ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[3.929ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 08:59:43 [32m
[0m[33m[2.112ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 08:59:43 [32m
[0m[33m[1.895ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 08:59:43 [32m
[0m[33m[1.950ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.091ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[3.440ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:43 [32m
[0m[33m[3.169ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:43 [32m
[0m[33m[1.938ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:43 [32m
[0m[33m[1.941ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:43 [32m
[0m[33m[1.930ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.084ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.620ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[5.053ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.979ms] [34;1m[rows:-][0m SELECT * FROM "membership_tiers" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.337ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'membership_tiers' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.328ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'membership_tiers'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.201ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'membership_tiers'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.419ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'monthly_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'duration_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'colors') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'benefits') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.407ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.168ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.119ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'membership_tiers' AND indexname = 'idx_membership_tiers_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.053ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'membership_tiers' AND indexname = 'idx_membership_tiers_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.984ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.607ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[5.208ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'memberships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.971ms] [34;1m[rows:-][0m SELECT * FROM "memberships" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.312ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'memberships' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.963ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'memberships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.287ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'memberships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.785ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.803ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.620ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.552ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'membership_tier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.628ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.426ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'start_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'end_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'outstanding_balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.514ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.576ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.374ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.565ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND constraint_name = 'fk_memberships_membership_tier'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.176ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.186ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.097ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[0.648ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[5.093ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[0.860ms] [34;1m[rows:-][0m SELECT * FROM "scholarships" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[7.422ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'scholarships' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[7.848ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'scholarships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.179ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'scholarships'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.409ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.417ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'grantor_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'valid_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.328ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.741ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.289ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'scholarships' AND indexname = 'idx_scholarships_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.010ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.648ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.763ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.115ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.341ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.916ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.482ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.759ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m
[0m[33m[0.731ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m
[0m[33m[5.969ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[0.954ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m
[0m[33m[7.532ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m
[0m[33m[7.809ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[1.190ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.125ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.545ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.371ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m
[0m[33m[0.743ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m
[0m[33m[6.250ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[0.887ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m
[0m[33m[7.490ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m
[0m[33m[7.631ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[1.099ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[8.159ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.501ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.432ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m
[0m[33m[0.789ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m
[0m[33m[5.997ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[0.958ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m
[0m[33m[7.866ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m
[0m[33m[7.922ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[1.037ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.050ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.271ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.040ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.069ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.400ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.135ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.150ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.112ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.227ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.183ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.199ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.703ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.487ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.288ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.227ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.081ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.016ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.298ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.263ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.094ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.070ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.684ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.999ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.789ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.983ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.926ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.410ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.226ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.083ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.079ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:43 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.886ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'mem_test_00307956-6285-4340-98b8-da97efa3038a@example.com' AND club_id = 'test-club-membership') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.158ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f','Mem User','mem_test_00307956-6285-4340-98b8-da97efa3038a@example.com','$2a$10$Pd/KrctL3xo1cSnqJotSuu0B5223a1p7El/65U7HrbQiNWCltbQLG','MEMBER','2026-01-15 08:59:43.911','2026-01-15 08:59:43.911',NULL,NULL,'test-club-membership','','',NULL,'2026-01-15 08:59:43.911','2026-01',NULL)

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.508ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('93ba03d5-af2d-4b71-8834-72d02235d0bc','1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f','','a7068b8679bd3d22627ab954e08f7b2f38e9a20800676a5edb5e6c6f940b2cf6','2026-02-14 08:59:43.914',false,NULL,'2026-01-15 08:59:43.914','2026-01-15 08:59:43.914')

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.928ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'mem_test_00307956-6285-4340-98b8-da97efa3038a@example.com' AND club_id = 'test-club-membership') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:89
[0m[33m[2.443ms] [34;1m[rows:1][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-membership','Gold','Gold Tier','100',NULL,'',NULL,true,'2026-01-15 08:59:43.918','2026-01-15 08:59:43.918',NULL,'374c0afb-24ac-4597-86a5-e3fca1773000') RETURNING "id"
=== RUN   TestMembershipFlow/Purchase_Success

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:71
[0m[33m[0.821ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE (id = '374c0afb-24ac-4597-86a5-e3fca1773000' AND club_id = 'test-club-membership') AND "membership_tiers"."deleted_at" IS NULL ORDER BY "membership_tiers"."id" LIMIT 1

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[0.791ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-membership','Gold','Gold Tier','100',NULL,'',NULL,true,'2026-01-15 11:59:43.918','2026-01-15 11:59:43.918',NULL,'374c0afb-24ac-4597-86a5-e3fca1773000') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[3.380ms] [34;1m[rows:1][0m INSERT INTO "memberships" ("club_id","user_id","membership_tier_id","status","billing_cycle","auto_renew","start_date","end_date","next_billing_date","outstanding_balance","created_at","updated_at","deleted_at") VALUES ('test-club-membership','1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f','374c0afb-24ac-4597-86a5-e3fca1773000','ACTIVE','MONTHLY',true,'2026-01-15 08:59:43.921',NULL,'2026-02-15 08:59:43.921','0','2026-01-15 08:59:43.922','2026-01-15 08:59:43.922',NULL) RETURNING "id"
=== RUN   TestMembershipFlow/Get_My_Memberships

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.778ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = '374c0afb-24ac-4597-86a5-e3fca1773000' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[1.738ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = '1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f' AND club_id = 'test-club-membership') AND "memberships"."deleted_at" IS NULL
=== RUN   TestMembershipFlow/Assign_Scholarship

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:50
[0m[33m[3.501ms] [34;1m[rows:1][0m INSERT INTO "scholarships" ("user_id","percentage","reason","grantor_id","valid_until","is_active","created_at","updated_at","id") VALUES ('1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f','0.5','Talented athlete','admin-id',NULL,true,'2026-01-15 08:59:43.926','2026-01-15 08:59:43.926','07125820-24f9-4022-85e1-5ff86a045945') RETURNING "id"
=== RUN   TestMembershipFlow/Process_Billing_with_Scholarship

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:161
[0m[33m[2.287ms] [34;1m[rows:1][0m UPDATE "memberships" SET "next_billing_date"='2026-01-14 08:59:43.93',"updated_at"='2026-01-15 08:59:43.93' WHERE user_id = '1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f' AND "memberships"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:86
[0m[33m[0.708ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = '374c0afb-24ac-4597-86a5-e3fca1773000' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:86
[0m[33m[1.560ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (status = 'ACTIVE' AND next_billing_date <= '2026-01-15 08:59:43.932' AND club_id = 'test-club-membership') AND "memberships"."deleted_at" IS NULL

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:89
[0m[33m[0.749ms] [34;1m[rows:1][0m SELECT * FROM "scholarships" WHERE (user_id IN ('1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f') AND is_active = true) AND (valid_until IS NULL OR valid_until > '2026-01-15 08:59:43.934')

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:180
[0m[33m[1.513ms] [34;1m[rows:1][0m 
		UPDATE memberships AS m 
		SET 
			outstanding_balance = v.balance,
			next_billing_date = v.next_billing,
			updated_at = NOW()
		FROM (VALUES 
	('72b2fb9c-130c-400e-825d-ad6cccbbd104'::uuid, '50'::numeric, '2026-02-14 11:59:43.93'::timestamp)) AS v(id, balance, next_billing) WHERE m.id = v.id::uuid

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:175
[0m[33m[0.750ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE user_id = '1a3d4983-4366-4a0a-a5bd-8d8a37fb2f8f' AND "memberships"."deleted_at" IS NULL ORDER BY "memberships"."id" LIMIT 1
--- PASS: TestMembershipFlow (0.55s)
    --- PASS: TestMembershipFlow/Purchase_Success (0.00s)
    --- PASS: TestMembershipFlow/Get_My_Memberships (0.00s)
    --- PASS: TestMembershipFlow/Assign_Scholarship (0.00s)
    --- PASS: TestMembershipFlow/Process_Billing_with_Scholarship (0.01s)
=== RUN   TestMultiTenantIsolation

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:31
[0m[33m[5.373ms] [34;1m[rows:0][0m TRUNCATE TABLE bookings CASCADE

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.256ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[0.927ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[6.347ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[0.893ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[7.881ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[8.763ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.379ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.871ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.816ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.711ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.669ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:43 [32m
[0m[33m[0.793ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:43 [32m
[0m[33m[6.062ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:43 [32m
[0m[33m[1.020ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:43 [32m
[0m[33m[8.152ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m
[0m[33m[7.894ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[1.357ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.431ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" DROP DEFAULT

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.367ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m
[0m[33m[3.821ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m
[0m[33m[6.351ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[0.918ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:44 [32m
[0m[33m[8.392ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m
[0m[33m[7.938ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[1.165ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[10.595ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE date USING "date_of_birth"::date

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.158ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[5.593ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[35.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[10.113ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[3.026ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.912ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.770ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.680ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.764ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.687ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.456ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.392ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.308ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.230ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.272ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.218ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.132ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.076ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[4.437ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:44 [32m
[0m[33m[2.058ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[3.838ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:44 [32m
[0m[33m[2.096ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.330ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.690ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.375ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.931ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.463ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.358ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.015ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.145ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.088ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.167ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.148ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.150ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.115ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:44 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.048ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.665ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.231ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.759ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.505ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.260ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.049ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.298ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.119ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.107ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.079ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.153ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.745ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.132ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.095ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.290ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.125ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.339ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.658ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.155ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.361ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.476ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.582ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.510ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.234ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.153ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.070ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.017ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.611ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.144ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.843ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.974ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.725ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.054ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.331ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.554ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.709ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.567ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.117ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:44 DEBUG: AutoMigrate Success

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.998ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.613ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.496ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.158ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.365ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.243ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.028ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.299ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.410ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m
[0m[33m[0.735ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m
[0m[33m[5.927ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[0.896ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:44 [32m
[0m[33m[9.219ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m
[0m[33m[9.482ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[1.642ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.711ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.967ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.512ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m
[0m[33m[0.994ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m
[0m[33m[7.549ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[1.165ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:44 [32m
[0m[33m[11.203ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m
[0m[33m[10.064ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[1.330ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:44 [32m
[0m[33m[12.660ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.906ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.618ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.775ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.729ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.088ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.010ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.145ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.981ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.871ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.339ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.342ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.240ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.275ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.321ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.166ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.989ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.034ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.880ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.955ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.550ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.396ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.102ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.926ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.149ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.388ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.108ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.871ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.690ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.491ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.275ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.406ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.154ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.731ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.372ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.938ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.946ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.191ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.281ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.874ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.564ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.410ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.564ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.465ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.305ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.169ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:73
[0m[33m[0.896ms] [34;1m[rows:0][0m DELETE FROM users WHERE email = 'test-multi@test.com'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:88
[0m[33m[2.507ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('cc04a202-52eb-4ec5-8d54-4abc43d271ba','Test User A','test-multi@test.com','$2a$10$placeholder','MEMBER',NULL,NULL,NULL,'2026-01-15 08:59:44.651','2026-01-15 08:59:44.651',NULL,'club-a',NULL,'','','','','VALID','2027-01-15 08:59:44.65','2027-01-15 08:59:44.65','2026-01',NULL)

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:91
[0m[33m[2.655ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('cc04a202-52eb-4ec5-8d54-4abc43d271ba',0,0,0,1,0,0,0,NULL,0,'2026-01-15 08:59:44.654','2026-01-15 08:59:44.654') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:92
[0m[33m[2.806ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('cc04a202-52eb-4ec5-8d54-4abc43d271ba',0,0,NULL,'2026-01-15 08:59:44.657','2026-01-15 08:59:44.657') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:96
[0m[33m[0.803ms] [34;1m[rows:0][0m DELETE FROM facilities WHERE id = '1bec6b2b-c81d-47fd-bd06-238caf0dc993'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:112
[0m[33m[2.602ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('1bec6b2b-c81d-47fd-bd06-238caf0dc993','Test Court A','','CANCHA','active',10,0,'08:00','22:00',0,'{"lighting":false,"covered":false}','{"name":""}','club-a','2026-01-15 08:59:44.66','2026-01-15 08:59:44.66')

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.959ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '1bec6b2b-c81d-47fd-bd06-238caf0dc993' AND club_id = 'club-a' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.874ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'club-a' AND facility_id = '1bec6b2b-c81d-47fd-bd06-238caf0dc993' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 12:59:44' AND end_time > '2026-01-16 11:59:44'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.808ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '1bec6b2b-c81d-47fd-bd06-238caf0dc993' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 12:59:44' AND end_time > '2026-01-16 11:59:44')

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.799ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'cc04a202-52eb-4ec5-8d54-4abc43d271ba'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.766ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'cc04a202-52eb-4ec5-8d54-4abc43d271ba'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.514ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'cc04a202-52eb-4ec5-8d54-4abc43d271ba' AND club_id = 'club-a') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.987ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('2888c198-e61f-436e-9646-68c01b90c120','club-a','cc04a202-52eb-4ec5-8d54-4abc43d271ba','1bec6b2b-c81d-47fd-bd06-238caf0dc993','2026-01-16 11:59:44','2026-01-16 12:59:44','0','CONFIRMED','[]',NULL,'2026-01-15 08:59:44.668','2026-01-15 08:59:44.668')

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:46
[0m[33m[0.847ms] [34;1m[rows:0][0m SELECT * FROM "bookings" WHERE club_id = 'club-b' AND user_id = '45f31b69-7676-43d1-a041-e078f936e533' ORDER BY start_time desc
--- PASS: TestMultiTenantIsolation (0.74s)
=== RUN   TestOddTeamsFixtureGeneration

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.413ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "teams" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.600ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.138ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[1.879ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[1.880ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[1.770ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.247ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[4.293ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.298ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.198ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[5.027ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.071ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.090ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[3.806ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.159ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.181ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[3.879ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.293ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 08:59:44 [32m
[0m[33m[2.188ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.176ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[3.799ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:44 [32m
[0m[33m[3.333ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 08:59:44 [32m
[0m[33m[2.312ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 08:59:44 [32m
[0m[33m[2.106ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 08:59:44 [32m
[0m[33m[1.974ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 08:59:44 [32m
[0m[33m[2.099ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 08:59:44 [32m
[0m[33m[1.902ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.118ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'teams' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[3.912ms] [34;1m[rows:0][0m CREATE TABLE "teams" ("id" uuid DEFAULT uuid_generate_v4(),"name" text NOT NULL,"logo_url" text,"contact" text,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:43
[0m[33m[2.651ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('4c69ac15-84be-40a9-8ae1-b7ca84aa81a9','Odd Cup','','','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 08:59:44.744','2026-01-15 08:59:44.744','badfc45a-9ebb-414f-97cd-b2b0cf60fd69') RETURNING "id","settings"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:46
[0m[33m[2.737ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('badfc45a-9ebb-414f-97cd-b2b0cf60fd69',0,'Group Phase','GROUP','ACTIVE','b24d8282-5cc0-40fd-89e2-e826314dc786') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:49
[0m[33m[2.942ms] [34;1m[rows:1][0m INSERT INTO "groups" ("stage_id","name","id") VALUES ('b24d8282-5cc0-40fd-89e2-e826314dc786','Group A','a4db5d51-5edd-402e-be46-7192371f218e') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[2.504ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('a4db5d51-5edd-402e-be46-7192371f218e','fa6c9ae0-a30d-4a87-8cc2-6a27a5af11f8',0,0,0,0,0,0,0,0,0,'2026-01-15 08:59:44.752','17d0e5b6-08a9-4d6a-996c-95ab6a5e0d9e') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[2.211ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('a4db5d51-5edd-402e-be46-7192371f218e','16e4c025-ebbd-443b-a1c7-bc7c1418ebc3',0,0,0,0,0,0,0,0,0,'2026-01-15 08:59:44.755','00fd8c4e-ac40-43cd-ab14-5391d9d98980') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[2.502ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('a4db5d51-5edd-402e-be46-7192371f218e','6cb6b874-a6dc-436b-ba5b-0b03e5f9074c',0,0,0,0,0,0,0,0,0,'2026-01-15 08:59:44.757','8f8cdfb5-7b79-4de8-87a9-270ec9144c1f') RETURNING "id"
=== RUN   TestOddTeamsFixtureGeneration/Generate_Fixture_with_3_Teams

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:159
[0m[33m[1.515ms] [34;1m[rows:3][0m SELECT standings.*, teams.name as team_name FROM "standings" JOIN groups ON groups.id = standings.group_id JOIN tournament_stages ON tournament_stages.id = groups.stage_id JOIN championships ON championships.id = tournament_stages.tournament_id LEFT JOIN teams ON teams.id = standings.team_id WHERE standings.group_id = 'a4db5d51-5edd-402e-be46-7192371f218e' AND championships.club_id = '4c69ac15-84be-40a9-8ae1-b7ca84aa81a9' ORDER BY standings.points DESC, standings.goal_difference DESC, standings.goals_for DESC

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:67
[0m[33m[0.751ms] [34;1m[rows:3][0m SELECT * FROM "standings" WHERE "standings"."group_id" = 'a4db5d51-5edd-402e-be46-7192371f218e'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:67
[0m[33m[1.659ms] [34;1m[rows:1][0m SELECT "groups"."id","groups"."stage_id","groups"."name" FROM "groups" JOIN tournament_stages ON tournament_stages.id = groups.stage_id JOIN championships ON championships.id = tournament_stages.tournament_id WHERE groups.id = 'a4db5d51-5edd-402e-be46-7192371f218e' AND championships.club_id = '4c69ac15-84be-40a9-8ae1-b7ca84aa81a9' ORDER BY "groups"."id" LIMIT 1

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.769ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = 'b24d8282-5cc0-40fd-89e2-e826314dc786' AND championships.club_id = '4c69ac15-84be-40a9-8ae1-b7ca84aa81a9' ORDER BY "tournament_stages"."id" LIMIT 1

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[1.104ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('badfc45a-9ebb-414f-97cd-b2b0cf60fd69','b24d8282-5cc0-40fd-89e2-e826314dc786','a4db5d51-5edd-402e-be46-7192371f218e','fa6c9ae0-a30d-4a87-8cc2-6a27a5af11f8','16e4c025-ebbd-443b-a1c7-bc7c1418ebc3',NULL,NULL,NULL,'SCHEDULED','2026-01-16 08:59:44.763','5777465a-72ae-48fe-a649-5e89f5a205ea') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.821ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('badfc45a-9ebb-414f-97cd-b2b0cf60fd69','b24d8282-5cc0-40fd-89e2-e826314dc786','a4db5d51-5edd-402e-be46-7192371f218e','fa6c9ae0-a30d-4a87-8cc2-6a27a5af11f8','6cb6b874-a6dc-436b-ba5b-0b03e5f9074c',NULL,NULL,NULL,'SCHEDULED','2026-01-16 08:59:44.763','594613de-7f0d-4c46-aa3b-97a48241e556') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.747ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('badfc45a-9ebb-414f-97cd-b2b0cf60fd69','b24d8282-5cc0-40fd-89e2-e826314dc786','a4db5d51-5edd-402e-be46-7192371f218e','16e4c025-ebbd-443b-a1c7-bc7c1418ebc3','6cb6b874-a6dc-436b-ba5b-0b03e5f9074c',NULL,NULL,NULL,'SCHEDULED','2026-01-16 08:59:44.763','246391aa-c694-4c6b-800d-5d27e54b9cad') RETURNING "id"

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:78
[0m[33m[0.827ms] [34;1m[rows:3][0m SELECT * FROM "tournament_matches" WHERE group_id = 'a4db5d51-5edd-402e-be46-7192371f218e'
--- PASS: TestOddTeamsFixtureGeneration (0.10s)
    --- PASS: TestOddTeamsFixtureGeneration/Generate_Fixture_with_3_Teams (0.01s)
=== RUN   TestPaymentFailureFlow

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:70
[0m[33m[1.824ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:70
[0m[33m[2.014ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "payments" CASCADE

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[1.242ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[4.363ms] [34;1m[rows:0][0m CREATE TABLE "payments" ("id" uuid DEFAULT gen_random_uuid(),"amount" decimal(10,2) NOT NULL,"currency" text NOT NULL DEFAULT 'ARS',"status" text NOT NULL DEFAULT 'PENDING',"method" text NOT NULL,"external_id" text,"club_id" text,"payer_id" uuid NOT NULL,"reference_id" uuid,"reference_type" text,"notes" text,"paid_at" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.363ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_deleted_at" ON "payments" ("deleted_at")

2026/01/15 08:59:44 [32m
[0m[33m[1.998ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_reference_id" ON "payments" ("reference_id")

2026/01/15 08:59:44 [32m
[0m[33m[1.935ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_payer_id" ON "payments" ("payer_id")

2026/01/15 08:59:44 [32m
[0m[33m[1.975ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_club_id" ON "payments" ("club_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[1.103ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[3.476ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:44 [32m
[0m[33m[2.480ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 08:59:44 [32m
[0m[33m[2.669ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.203ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.689ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.361ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.826ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.477ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.474ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.196ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.716ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.681ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.561ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.468ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.120ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.105ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.153ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.087ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.042ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:44 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.078ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.620ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.234ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.987ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.391ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.207ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.487ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.552ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.145ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.099ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.089ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.154ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.127ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.070ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.091ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.057ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.139ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.149ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.047ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.598ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.290ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.036ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.734ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.404ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.332ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.386ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.298ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.250ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.146ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.160ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.196ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.234ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.188ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.672ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.639ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.028ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.871ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.347ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.258ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.627ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:44 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.122ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.137ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.116ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.166ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.127ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 08:59:45 DEBUG: AutoMigrate Success

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:98
[0m[33m[2.533ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc','test-club-payment','00000000-0000-0000-0000-000000000000','00000000-0000-0000-0000-000000000000','0000-00-00 00:00:00','0000-00-00 00:00:00','0','PENDING_PAYMENT','[]',NULL,'2026-01-15 08:59:45.016','2026-01-15 08:59:45.016')

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:105
[0m[33m[2.856ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','PENDING','MERCADOPAGO','12345','test-club-payment','54b38e41-8f77-43c4-8202-b0e498e360c0','55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc','BOOKING','',NULL,'2026-01-15 08:59:45.019','2026-01-15 08:59:45.019',NULL,'00000000-0000-0000-0000-000000000001') RETURNING "id"
=== RUN   TestPaymentFailureFlow/Webhook_Rejected_Update_Payment_Status

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:62
[0m[33m[0.854ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE external_id = '12345' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[3.830ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='12345',"paid_at"=NULL,"status"='FAILED',"updated_at"='2026-01-15 11:59:45.019' WHERE (id = '00000000-0000-0000-0000-000000000001' AND club_id = 'test-club-payment') AND "payments"."deleted_at" IS NULL
2026/01/15 08:59:45 Payment 00000000-0000-0000-0000-000000000001 (club: test-club-payment) updated to FAILED

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.814ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc' AND club_id = 'test-club-payment' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[2.352ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-payment',"user_id"='00000000-0000-0000-0000-000000000000',"facility_id"='00000000-0000-0000-0000-000000000000',"start_time"='0000-00-00 00:00:00',"end_time"='0000-00-00 00:00:00',"total_price"='0',"status"='PENDING_PAYMENT',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 11:59:45.016',"updated_at"='2026-01-15 08:59:45.027' WHERE "id" = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:130
[0m[33m[0.778ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE id = '00000000-0000-0000-0000-000000000001' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:135
[0m[33m[0.750ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc' ORDER BY "bookings"."id" LIMIT 1
=== RUN   TestPaymentFailureFlow/Webhook_Approved_Updates_Booking_to_Confirmed

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:62
[0m[33m[0.743ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE external_id = '12345' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[2.317ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='12345',"paid_at"=NULL,"status"='COMPLETED',"updated_at"='2026-01-15 11:59:45.019' WHERE (id = '00000000-0000-0000-0000-000000000001' AND club_id = 'test-club-payment') AND "payments"."deleted_at" IS NULL
2026/01/15 08:59:45 Payment 00000000-0000-0000-0000-000000000001 (club: test-club-payment) updated to COMPLETED

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.703ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc' AND club_id = 'test-club-payment' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[3.029ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-payment',"user_id"='00000000-0000-0000-0000-000000000000',"facility_id"='00000000-0000-0000-0000-000000000000',"start_time"='0000-00-00 00:00:00',"end_time"='0000-00-00 00:00:00',"total_price"='0',"status"='CONFIRMED',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 11:59:45.016',"updated_at"='2026-01-15 08:59:45.035' WHERE "id" = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:150
[0m[33m[0.794ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '55bb9d9a-34ad-4cb3-ba44-cef667a5f3bc' ORDER BY "bookings"."id" LIMIT 1
--- PASS: TestPaymentFailureFlow (0.27s)
    --- PASS: TestPaymentFailureFlow/Webhook_Rejected_Update_Payment_Status (0.01s)
    --- PASS: TestPaymentFailureFlow/Webhook_Approved_Updates_Booking_to_Confirmed (0.01s)
=== RUN   TestPaymentWebhookFlow

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:30
[0m[33m[2.090ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "payments" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:31
[0m[33m[1.260ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65 [35;1mrecord not found
[0m[33m[8.334ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (id = '00000000-0000-0000-0000-000000000000' AND club_id = 'test-club-payment') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:31
[0m[33m[3.822ms] [34;1m[rows:0][0m CREATE TABLE "payments" ("id" uuid DEFAULT gen_random_uuid(),"amount" decimal(10,2) NOT NULL,"currency" text NOT NULL DEFAULT 'ARS',"status" text NOT NULL DEFAULT 'PENDING',"method" text NOT NULL,"external_id" text,"club_id" text,"payer_id" uuid NOT NULL,"reference_id" uuid,"reference_type" text,"notes" text,"paid_at" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:45 [32m
[0m[33m[2.057ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_deleted_at" ON "payments" ("deleted_at")

2026/01/15 08:59:45 [32m
[0m[33m[1.972ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_reference_id" ON "payments" ("reference_id")

2026/01/15 08:59:45 [32m
[0m[33m[1.844ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_payer_id" ON "payments" ("payer_id")

2026/01/15 08:59:45 [32m
[0m[33m[1.766ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_club_id" ON "payments" ("club_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[2.592ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('5000','ARS','PENDING','MERCADOPAGO','','','01b18c57-3cf0-468b-b71f-0888dba972e3','2bf81873-d2c1-49cc-9bdc-80f124ccb5eb','MEMBERSHIP','',NULL,'2026-01-15 08:59:45.054','2026-01-15 08:59:45.054',NULL,'b39f3808-7797-401c-a309-5f858f6cecfe') RETURNING "id"
[GIN] 2026/01/15 - 08:59:45 | 200 |        2.85µs |                 | POST     "/api/v1/payments/webhook?type=payment"
--- PASS: TestPaymentWebhookFlow (0.02s)
=== RUN   TestPaymentCheckout

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.175ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[0.655ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[5.316ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[0.905ms] [34;1m[rows:-][0m SELECT * FROM "payments" LIMIT 5

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[7.441ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[8.363ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.057ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.113ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'external_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.140ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.137ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.107ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.111ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.215ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.206ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.208ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.228ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_deleted_at' AND schemaname = CURRENT_SCHEMA()
=== RUN   TestPaymentCheckout/Checkout_Success

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[4.124ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','PENDING','MERCADOPAGO','','test-club-id','3fe3b6eb-5a01-495c-80c3-90b05c348dd9','332c6cce-57fb-47e0-bcdd-2832786e4f70','MEMBERSHIP','',NULL,'2026-01-15 08:59:45.122','2026-01-15 08:59:45.122',NULL,'439709b0-2d2d-4a79-b28e-7cb566d73ddb') RETURNING "id"
=== RUN   TestPaymentCheckout/Checkout_Missing_ClubID
--- PASS: TestPaymentCheckout (0.07s)
    --- PASS: TestPaymentCheckout/Checkout_Success (0.00s)
    --- PASS: TestPaymentCheckout/Checkout_Missing_ClubID (0.00s)
=== RUN   TestStoreFlow

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[2.397ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "order_items" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[2.351ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "orders" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[2.065ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "products" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.252ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[3.918ms] [34;1m[rows:0][0m CREATE TABLE "products" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"name" text NOT NULL,"description" text,"price" decimal(10,2) NOT NULL,"stock_quantity" bigint DEFAULT 0,"sku" text,"category" text,"is_active" boolean DEFAULT true,"image_url" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:45 [32m
[0m[33m[3.058ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_products_deleted_at" ON "products" ("deleted_at")

2026/01/15 08:59:45 [32m
[0m[33m[2.391ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_products_club_id" ON "products" ("club_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.297ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[4.084ms] [34;1m[rows:0][0m CREATE TABLE "orders" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"user_id" text,"guest_name" text,"guest_email" text,"total_amount" decimal(10,2) NOT NULL,"status" text DEFAULT 'PAID',"items" JSONB NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:45 [32m
[0m[33m[2.111ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_orders_user_id" ON "orders" ("user_id")

2026/01/15 08:59:45 [32m
[0m[33m[1.946ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_orders_club_id" ON "orders" ("club_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.121ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'order_items' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[2.434ms] [34;1m[rows:0][0m CREATE TABLE "order_items" ("product_id" text,"quantity" bigint,"unit_price" text)

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:69
[0m[33m[3.014ms] [34;1m[rows:1][0m INSERT INTO "products" ("club_id","name","description","price","stock_quantity","sku","category","is_active","image_url","created_at","updated_at","deleted_at","id") VALUES ('test-club-store','Protein Bar','Chocolate','250',100,'','Food',true,'','2026-01-15 08:59:45.157','2026-01-15 08:59:45.157',NULL,'4aa75997-6068-4fc3-ad53-16e783972b57') RETURNING "id"
=== RUN   TestStoreFlow/List_Products

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:42
[0m[33m[0.995ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE club_id = 'test-club-store' AND is_active = true
[GIN] 2026/01/15 - 08:59:45 | 200 |     1.10992ms |                 | GET      "/api/v1/store/products"
=== RUN   TestStoreFlow/Purchase_Product

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:25
[0m[33m[0.943ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE id = '4aa75997-6068-4fc3-ad53-16e783972b57' ORDER BY "products"."id" LIMIT 1

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:59
[0m[33m[0.899ms] [34;1m[rows:1][0m UPDATE "products" SET "stock_quantity"=stock_quantity - 2 WHERE id = '4aa75997-6068-4fc3-ad53-16e783972b57' AND stock_quantity >= 2

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:70
[0m[33m[1.176ms] [34;1m[rows:1][0m INSERT INTO "orders" ("club_id","user_id","guest_name","guest_email","total_amount","status","items","created_at","updated_at","deleted_at","id") VALUES ('test-club-store','store-user-id','','','500','PAID','[{"product_id":"4aa75997-6068-4fc3-ad53-16e783972b57","quantity":2,"unit_price":"250"}]','2026-01-15 08:59:45.162','2026-01-15 08:59:45.162',NULL,'90865c87-dcc4-4dc6-8e77-30a00f0b507a') RETURNING "id"
[GIN] 2026/01/15 - 08:59:45 | 201 |    5.397122ms |                 | POST     "/api/v1/store/purchase"

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:108
[0m[33m[1.133ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE id = '4aa75997-6068-4fc3-ad53-16e783972b57' ORDER BY "products"."id" LIMIT 1
--- PASS: TestStoreFlow (0.04s)
    --- PASS: TestStoreFlow/List_Products (0.00s)
    --- PASS: TestStoreFlow/Purchase_Product (0.01s)
=== RUN   TestUserProfileCategory

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[3.548ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[1.907ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[2.243ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.281ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[4.516ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 08:59:45 [32m
[0m[33m[2.055ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 08:59:45 [32m
[0m[33m[2.069ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 08:59:45 [32m
[0m[33m[2.119ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 08:59:45 [32m
[0m[33m[1.939ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.176ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[4.618ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:45 [32m
[0m[33m[2.387ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.145ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[4.336ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 08:59:45 [32m
[0m[33m[1.989ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.051ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[0.702ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[6.119ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.018ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[8.183ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[9.309ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.032ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.110ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.141ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.374ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.589ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.124ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.020ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.009ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:54
[0m[33m[2.083ms] [34;1m[rows:0][0m DELETE FROM "users" WHERE id = 'test-user-category-id'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:132
[0m[33m[1.979ms] [34;1m[rows:0][0m UPDATE "users" SET "date_of_birth"='2015-01-01 00:00:00',"name"='Kid Player',"updated_at"='0000-00-00 00:00:00' WHERE (id = 'test-user-category-id' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:63
[0m[33m[2.538ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('test-user-category-id','Kid Player','kid@test.com','','','2015-01-01 00:00:00',NULL,NULL,'2026-01-15 08:59:45.295','2026-01-15 08:59:45.295',NULL,'test-club-1',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.796ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'test-user-category-id'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.753ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'test-user-category-id'

2026/01/15 08:59:45 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.460ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'test-user-category-id' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
[GIN] 2026/01/15 - 08:59:45 | 200 |    9.272905ms |                 | GET      "/users/me"
--- PASS: TestUserProfileCategory (0.13s)
FAIL
FAIL	github.com/lukcba/club-pulse-system-api/backend/tests/e2e	7.259s
FAIL
