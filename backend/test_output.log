=== RUN   TestAccessFlow
2026/01/15 10:17:35 Attempting to connect to database...

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/platform/database/postgres.go:73
[0m[33m[1.521ms] [34;1m[rows:0][0m CREATE EXTENSION IF NOT EXISTS "uuid-ossp"
2026/01/15 10:17:35 Database connection established successfully

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.902ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "access_logs" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.967ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[1.924ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.815ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.562ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:44
[0m[33m[2.393ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[3.238ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[5.172ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:35 [32m
[0m[33m[2.632ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:35 [32m
[0m[33m[2.185ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:35 [32m
[0m[33m[2.472ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:35 [32m
[0m[33m[2.130ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[1.297ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[5.323ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:35 [32m
[0m[33m[2.436ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[1.230ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:49
[0m[33m[4.489ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:35 [32m
[0m[33m[2.692ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.292ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.932ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[10.057ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.072ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[11.176ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.084ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.206ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.465ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.613ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.457ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m
[0m[33m[0.743ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:35 [32m
[0m[33m[6.116ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[0.880ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:35 [32m
[0m[33m[8.734ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:35 [32m
[0m[33m[9.151ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[1.095ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.482ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.313ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m
[0m[33m[0.625ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:35 [32m
[0m[33m[5.865ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[0.787ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:35 [32m
[0m[33m[8.255ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:35 [32m
[0m[33m[8.405ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[1.153ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[9.777ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.691ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.434ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m
[0m[33m[1.057ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:35 [32m
[0m[33m[8.088ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[1.180ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:35 [32m
[0m[33m[10.275ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:35 [32m
[0m[33m[9.366ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:35 [32m
[0m[33m[1.257ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.344ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.594ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.369ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.248ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.508ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.564ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.598ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.043ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.504ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.321ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.231ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.385ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.378ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.559ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.757ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.338ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.098ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.732ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.020ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.141ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.584ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.375ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.613ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.562ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.614ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:35 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.463ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.768ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.268ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.285ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.199ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.138ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.789ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.237ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.995ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.211ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.117ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.968ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.357ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.328ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.193ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.154ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.055ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[5.010ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.053ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.058ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.114ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[4.524ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.282ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.647ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.175ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:68
[0m[33m[1.166ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'access_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:68
[0m[33m[4.346ms] [34;1m[rows:0][0m CREATE TABLE "access_logs" ("id" uuid DEFAULT gen_random_uuid(),"club_id" varchar(255) NOT NULL,"user_id" text NOT NULL,"facility_id" uuid,"device_id" varchar(255),"direction" varchar(10) NOT NULL,"status" varchar(50) NOT NULL,"reason" varchar(255),"timestamp" timestamptz NOT NULL,"created_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[3.015ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_access_logs_deleted_at" ON "access_logs" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.110ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_access_logs_club_id" ON "access_logs" ("club_id")

2026/01/15 10:17:36 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[1.272ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'access_test_8a1297c9-2a98-499e-9cf4-c17dd056565f@example.com' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.275ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('97a60f35-434a-480b-b341-4f360ba133e0','Access User','access_test_8a1297c9-2a98-499e-9cf4-c17dd056565f@example.com','$2a$10$PErZzhz9RMeuPIoV9wY5uu7lF2fhS1feyNzAvOSb9k1Adg/SuMcpG','MEMBER','2026-01-15 10:17:36.143','2026-01-15 10:17:36.143',NULL,NULL,'test-club-1','','',NULL,'2026-01-15 10:17:36.143','2026-01',NULL)

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.303ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('66856ef2-2c1b-460f-b961-9f534e5f00a6','97a60f35-434a-480b-b341-4f360ba133e0','','03ba51dc2c4872380ee331bf24466377d5db23e8c73c8565372c11f1c9abe86b','2026-02-14 10:17:36.146',false,NULL,'2026-01-15 10:17:36.146','2026-01-15 10:17:36.146')

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.852ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'access_test_8a1297c9-2a98-499e-9cf4-c17dd056565f@example.com' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:108
[0m[33m[2.392ms] [34;1m[rows:1][0m UPDATE "users" SET "club_id"='test-club-1',"updated_at"='2026-01-15 10:17:36.15' WHERE id = '97a60f35-434a-480b-b341-4f360ba133e0' AND "users"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.881ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.762ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.682ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.883ms] [34;1m[rows:0][0m SELECT * FROM "memberships" WHERE (user_id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.788ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','97a60f35-434a-480b-b341-4f360ba133e0',NULL,'','IN','DENIED','No active membership','2026-01-15 10:17:36.156','2026-01-15 10:17:36.156',NULL,'644fc15b-b74c-42c1-b532-d2eb473411c6') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:146
[0m[33m[2.483ms] [34;1m[rows:1][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 10:17:36.159','2026-01-15 10:17:36.159',NULL,'d1834ab7-a128-4225-a3bb-35e5a114623f') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[0.743ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 10:17:36.159','2026-01-15 10:17:36.159',NULL,'d1834ab7-a128-4225-a3bb-35e5a114623f') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[3.476ms] [34;1m[rows:1][0m INSERT INTO "memberships" ("club_id","user_id","membership_tier_id","status","billing_cycle","auto_renew","start_date","end_date","next_billing_date","outstanding_balance","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','97a60f35-434a-480b-b341-4f360ba133e0','d1834ab7-a128-4225-a3bb-35e5a114623f','ACTIVE','MONTHLY',true,'2026-01-15 10:17:36.161',NULL,'2026-02-15 10:17:36.161','0','2026-01-15 10:17:36.163','2026-01-15 10:17:36.163',NULL,'0c852353-4cdc-4c1b-9a6f-82717e651a21') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.656ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.709ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.241ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.695ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'd1834ab7-a128-4225-a3bb-35e5a114623f' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[1.512ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.314ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','97a60f35-434a-480b-b341-4f360ba133e0',NULL,'','IN','GRANTED','Access Granted','2026-01-15 10:17:36.169','2026-01-15 10:17:36.169',NULL,'b3d71403-eb70-493a-87a7-04511bad2682') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:174
[0m[33m[0.810ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-1','Access Tier','','100',NULL,'',NULL,true,'2026-01-15 10:17:36.159','2026-01-15 10:17:36.159',NULL,'d1834ab7-a128-4225-a3bb-35e5a114623f') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/access_flow_test.go:174
[0m[33m[3.727ms] [34;1m[rows:1][0m UPDATE "memberships" SET "club_id"='test-club-1',"user_id"='97a60f35-434a-480b-b341-4f360ba133e0',"membership_tier_id"='d1834ab7-a128-4225-a3bb-35e5a114623f',"status"='ACTIVE',"billing_cycle"='MONTHLY',"auto_renew"=true,"start_date"='2026-01-15 10:17:36.161',"end_date"=NULL,"next_billing_date"='2026-02-15 10:17:36.161',"outstanding_balance"='50',"created_at"='2026-01-15 10:17:36.163',"updated_at"='2026-01-15 10:17:36.173',"deleted_at"=NULL WHERE "memberships"."deleted_at" IS NULL AND "id" = '0c852353-4cdc-4c1b-9a6f-82717e651a21'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.700ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.678ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '97a60f35-434a-480b-b341-4f360ba133e0'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.506ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.787ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'd1834ab7-a128-4225-a3bb-35e5a114623f' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[1.645ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = '97a60f35-434a-480b-b341-4f360ba133e0' AND club_id = 'test-club-1') AND "memberships"."deleted_at" IS NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/access/infrastructure/repository/postgres_access.go:19
[0m[33m[2.321ms] [34;1m[rows:1][0m INSERT INTO "access_logs" ("club_id","user_id","facility_id","device_id","direction","status","reason","timestamp","created_at","deleted_at","id") VALUES ('test-club-1','97a60f35-434a-480b-b341-4f360ba133e0',NULL,'','IN','DENIED','Outstanding debt','2026-01-15 10:17:36.179','2026-01-15 10:17:36.179',NULL,'aff4d7eb-0ca9-4fdb-9cbd-9a389ec9c77f') RETURNING "id"
--- PASS: TestAccessFlow (0.48s)
=== RUN   TestAuthDataLeak

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/auth_leak_test.go:28
[0m[33m[1.094ms] [34;1m[rows:1][0m DELETE FROM users

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.034ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.631ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.096ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.763ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.033ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[10.495ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.057ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.161ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.375ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.431ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.155ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.518ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.154ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.081ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.156ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.219ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.392ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.967ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.086ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.820ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.556ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.590ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.083ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.328ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.634ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.385ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.510ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.616ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.248ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.193ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.767ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.210ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.769ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.875ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.148ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.154ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.340ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.445ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.448ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.195ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.131ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.061ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.779ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[4.051ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('afa2b243-e7b2-4256-b606-7d09835f93ef','Leaker User','leaker@test.com','$2a$10$kUJX9U44A1vb6taTmEq4xu0XeoZs/G0TQdiIRxTDaX/UICNz0nT8.','MEMBER','2026-01-15 10:17:36.407','2026-01-15 10:17:36.407',NULL,NULL,'club-A','','',NULL,'2026-01-15 10:17:36.407','2026-01',NULL)

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.322ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('26658c8f-4893-47eb-91ce-892d8841aea3','afa2b243-e7b2-4256-b606-7d09835f93ef','','4387c7836431aed76dd1dc6e8083b7f4962719619aaaf039303ae973cae60b2e','2026-02-14 10:17:36.411',false,NULL,'2026-01-15 10:17:36.411','2026-01-15 10:17:36.411')

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.830ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
=== RUN   TestAuthDataLeak/Login_in_Correct_Club

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.747ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[3.680ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('8defe37e-c9c7-444f-ae97-86044874fa4b','afa2b243-e7b2-4256-b606-7d09835f93ef','','ccdc2f64340521167fd7853d59d2ac7b6dfbf73bd358451227528a1b17ff8e29','2026-02-14 10:17:36.47',false,NULL,'2026-01-15 10:17:36.47','2026-01-15 10:17:36.47')

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.414ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('6b10e09c-7417-4b29-b6b9-623f48b0ec6b','afa2b243-e7b2-4256-b606-7d09835f93ef','LOGIN','','',true,'','2026-01-15 10:17:36.473')
=== RUN   TestAuthDataLeak/Login_in_Wrong_Club

2026/01/15 10:17:36 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.841ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'leaker@test.com' AND club_id = 'club-B') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
--- PASS: TestAuthDataLeak (0.30s)
    --- PASS: TestAuthDataLeak/Login_in_Correct_Club (0.06s)
    --- PASS: TestAuthDataLeak/Login_in_Wrong_Club (0.00s)
=== RUN   TestChampionshipIsolation

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[2.137ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.993ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.704ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.906ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:45
[0m[33m[1.977ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.187ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[4.562ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.078ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.114ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[3.888ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.109ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.151ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[4.037ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[3.040ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.111ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[4.465ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.042ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.001ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.129ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.116ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.038ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.000ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[1.087ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championship_isolation_test.go:46
[0m[33m[3.763ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.376ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.054ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[2.833ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('6f1b00d0-c538-4c25-b54a-42a8452c9d88','Tournament A','','FUTBOL','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 10:17:36.539','2026-01-15 10:17:36.539','89607e89-bb5c-4636-8554-d3ebcf4fb31a') RETURNING "id","settings"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[2.591ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('72b15479-5fea-4a84-a71a-705ccc76679b','Tournament B','','TENNIS','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 10:17:36.542','2026-01-15 10:17:36.542','4883b7f2-5b0b-4be2-8c24-eab92f0d7c5e') RETURNING "id","settings"
=== RUN   TestChampionshipIsolation/Club_A_Admin_sees_only_T1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[0.801ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = '89607e89-bb5c-4636-8554-d3ebcf4fb31a'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[1.612ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE club_id = '6f1b00d0-c538-4c25-b54a-42a8452c9d88'
=== RUN   TestChampionshipIsolation/Club_B_Admin_sees_only_T2

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[0.676ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = '4883b7f2-5b0b-4be2-8c24-eab92f0d7c5e'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:37
[0m[33m[1.426ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE club_id = '72b15479-5fea-4a84-a71a-705ccc76679b'
--- PASS: TestChampionshipIsolation (0.07s)
    --- PASS: TestChampionshipIsolation/Club_A_Admin_sees_only_T1 (0.00s)
    --- PASS: TestChampionshipIsolation/Club_B_Admin_sees_only_T2 (0.00s)
=== RUN   TestChampionshipsFlow

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[2.627ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.691ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.965ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[2.077ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.629ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "teams" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[2.083ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "matches" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.845ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournaments" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:34
[0m[33m[1.921ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "disciplines" CASCADE

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.122ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'disciplines' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[5.892ms] [34;1m[rows:0][0m CREATE TABLE "disciplines" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(100) NOT NULL,"description" text,"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "uni_disciplines_name" UNIQUE ("name"))

2026/01/15 10:17:36 [32m
[0m[33m[2.298ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_disciplines_deleted_at" ON "disciplines" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.029ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_disciplines_club_id" ON "disciplines" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.171ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournaments' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[4.015ms] [34;1m[rows:0][0m CREATE TABLE "tournaments" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" text NOT NULL,"discipline_id" uuid NOT NULL,"start_date" timestamptz,"end_date" timestamptz,"status" text DEFAULT 'OPEN',"format" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.080ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournaments_deleted_at" ON "tournaments" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.041ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournaments_club_id" ON "tournaments" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.226ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'matches' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.987ms] [34;1m[rows:0][0m CREATE TABLE "matches" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"tournament_id" uuid NOT NULL,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"score_home" bigint DEFAULT 0,"score_away" bigint DEFAULT 0,"start_time" timestamptz,"status" text DEFAULT 'SCHEDULED',"round" text,"location" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_tournaments_matches" FOREIGN KEY ("tournament_id") REFERENCES "tournaments"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.276ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_matches_deleted_at" ON "matches" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[1.970ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_matches_club_id" ON "matches" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.089ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'teams' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[4.064ms] [34;1m[rows:0][0m CREATE TABLE "teams" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" text NOT NULL,"tournament_id" uuid NOT NULL,"captain_id" varchar(100),"members" jsonb,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_tournaments_teams" FOREIGN KEY ("tournament_id") REFERENCES "tournaments"("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.559ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_teams_deleted_at" ON "teams" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.122ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_teams_club_id" ON "teams" ("club_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.109ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[2.776ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("tournament_id" text,"team_id" text,"team_name" text,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"points" bigint,"goals_for" bigint,"goals_against" bigint)

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[1.109ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:35
[0m[33m[3.725ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:36 [32m
[0m[33m[2.188ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:36 [32m
[0m[33m[1.965ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:36 [32m
[0m[33m[2.122ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:36 [32m
[0m[33m[2.105ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.159ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.651ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.591ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.186ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.588ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.182ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.214ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.460ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.683ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m
[0m[33m[0.796ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m
[0m[33m[5.643ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[1.937ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m
[0m[33m[8.583ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m
[0m[33m[8.077ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[1.038ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.427ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.549ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m
[0m[33m[0.700ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m
[0m[33m[5.929ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[0.811ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m
[0m[33m[8.451ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m
[0m[33m[8.037ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[1.269ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[9.083ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.476ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m
[0m[33m[0.836ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m
[0m[33m[6.298ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[0.941ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m
[0m[33m[8.054ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m
[0m[33m[8.431ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m
[0m[33m[1.121ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.176ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.472ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.201ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.148ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.657ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.614ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.694ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.508ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.198ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.153ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.265ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.425ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.361ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.140ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.706ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.316ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.746ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.269ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.420ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.994ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.154ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.215ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.091ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.192ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.705ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.806ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.748ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.788ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.158ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.173ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.447ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.362ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.312ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.086ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:71
[0m[33m[3.935ms] [34;1m[rows:1][0m INSERT INTO "disciplines" ("club_id","name","description","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Football 5','',true,'2026-01-15 10:17:36.885','2026-01-15 10:17:36.885',NULL,'66613df8-80f0-4e2d-b354-d086cd075674') RETURNING "id"
=== RUN   TestChampionshipsFlow/Create_Tournament

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:23
[0m[33m[2.935ms] [34;1m[rows:1][0m INSERT INTO "tournaments" ("club_id","name","discipline_id","start_date","end_date","status","format","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Summer Cup 2024','66613df8-80f0-4e2d-b354-d086cd075674','2026-01-15 00:00:00','2026-02-15 00:00:00','OPEN','LEAGUE','2026-01-15 10:17:36.888','2026-01-15 10:17:36.888',NULL,'d126ab7d-25b5-4fcc-9aa4-d5fba3876b22') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/championships_flow_test.go:106
[0m[33m[0.872ms] [34;1m[rows:1][0m SELECT * FROM "tournaments" WHERE club_id = 'test-club-championships' AND "tournaments"."deleted_at" IS NULL ORDER BY "tournaments"."id" LIMIT 1
=== RUN   TestChampionshipsFlow/Register_Teams

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:50
[0m[33m[2.753ms] [34;1m[rows:1][0m INSERT INTO "teams" ("club_id","name","tournament_id","captain_id","members","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Team Alpha','d126ab7d-25b5-4fcc-9aa4-d5fba3876b22',NULL,(NULL),'2026-01-15 10:17:36.892','2026-01-15 10:17:36.892',NULL,'80a7bda6-01ee-422f-85ba-660c4e8c45aa') RETURNING "id"

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:50
[0m[33m[2.357ms] [34;1m[rows:1][0m INSERT INTO "teams" ("club_id","name","tournament_id","captain_id","members","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','Team Beta','d126ab7d-25b5-4fcc-9aa4-d5fba3876b22',NULL,(NULL),'2026-01-15 10:17:36.895','2026-01-15 10:17:36.895',NULL,'ae83d71d-b498-46fd-a733-5d7d6b9fdcfc') RETURNING "id"
=== RUN   TestChampionshipsFlow/Schedule_Match

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:73
[0m[33m[2.643ms] [34;1m[rows:1][0m INSERT INTO "matches" ("club_id","tournament_id","home_team_id","away_team_id","score_home","score_away","start_time","status","round","location","created_at","updated_at","deleted_at","id") VALUES ('test-club-championships','d126ab7d-25b5-4fcc-9aa4-d5fba3876b22','80a7bda6-01ee-422f-85ba-660c4e8c45aa','ae83d71d-b498-46fd-a733-5d7d6b9fdcfc',0,0,'2026-01-16 10:17:36.898','SCHEDULED','1','Pitch 1','2026-01-15 10:17:36.898','2026-01-15 10:17:36.898',NULL,'18165a35-b0be-4c0a-91fc-86c55820b7f1') RETURNING "id"
=== RUN   TestChampionshipsFlow/Update_Match_Result

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:82
[0m[33m[0.790ms] [34;1m[rows:1][0m SELECT * FROM "matches" WHERE (id = '18165a35-b0be-4c0a-91fc-86c55820b7f1' AND club_id = 'test-club-championships') AND "matches"."deleted_at" IS NULL ORDER BY "matches"."id" LIMIT 1

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:77
[0m[33m[3.590ms] [34;1m[rows:1][0m UPDATE "matches" SET "club_id"='test-club-championships',"tournament_id"='d126ab7d-25b5-4fcc-9aa4-d5fba3876b22',"home_team_id"='80a7bda6-01ee-422f-85ba-660c4e8c45aa',"away_team_id"='ae83d71d-b498-46fd-a733-5d7d6b9fdcfc',"score_home"=3,"score_away"=1,"start_time"='2026-01-16 13:17:36.898',"status"='PLAYED',"round"='1',"location"='Pitch 1',"created_at"='2026-01-15 13:17:36.898',"updated_at"='2026-01-15 10:17:36.902',"deleted_at"=NULL WHERE "matches"."deleted_at" IS NULL AND "id" = '18165a35-b0be-4c0a-91fc-86c55820b7f1'
=== RUN   TestChampionshipsFlow/Get_Standings

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:93
[0m[33m[0.939ms] [34;1m[rows:1][0m SELECT * FROM "matches" WHERE (tournament_id = 'd126ab7d-25b5-4fcc-9aa4-d5fba3876b22' AND club_id = 'test-club-championships') AND "matches"."deleted_at" IS NULL ORDER BY start_time asc

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/disciplines/infrastructure/repository/postgres_championships.go:66
[0m[33m[0.768ms] [34;1m[rows:2][0m SELECT * FROM "teams" WHERE (tournament_id = 'd126ab7d-25b5-4fcc-9aa4-d5fba3876b22' AND club_id = 'test-club-championships') AND "teams"."deleted_at" IS NULL
--- PASS: TestChampionshipsFlow (0.36s)
    --- PASS: TestChampionshipsFlow/Create_Tournament (0.00s)
    --- PASS: TestChampionshipsFlow/Register_Teams (0.01s)
    --- PASS: TestChampionshipsFlow/Schedule_Match (0.00s)
    --- PASS: TestChampionshipsFlow/Update_Match_Result (0.00s)
    --- PASS: TestChampionshipsFlow/Get_Standings (0.00s)
=== RUN   TestCSRFProtection

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.095ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.616ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.821ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.868ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.682ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.959ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.107ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.407ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.656ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.728ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.282ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.524ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.375ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.391ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.730ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.288ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.250ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.209ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.190ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.199ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.148ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.666ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.296ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.877ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:36 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.183ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.121ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.127ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.523ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.451ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.470ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.281ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.190ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.258ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.127ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.673ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.983ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.710ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.206ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.065ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.131ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.855ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.106ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.649ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.505ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.459ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.520ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.698ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.552ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.170ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/csrf_protection_test.go:41
[0m[33m[0.677ms] [34;1m[rows:0][0m DELETE FROM users WHERE email = 'csrftest@test.com'

2026/01/15 10:17:37 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.766ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[4.404ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('330e8cc7-a78d-4710-9a07-1e9b40b060ea','CSRF Test','csrftest@test.com','$2a$10$0QvU14Cik2pMljMnWQodhu1wj5IkA0wC5bjg6ZwrmQGoKqJi7.SGu','MEMBER','2026-01-15 10:17:37.138','2026-01-15 10:17:37.138',NULL,NULL,'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11','','',NULL,'2026-01-15 10:17:37.138','2026-01',NULL)

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.795ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('03ba79a5-29bd-4f03-a7e2-87dd4e01f2f5','330e8cc7-a78d-4710-9a07-1e9b40b060ea','','00957b2da9c96ce8c8bff07810da295e6c7ce4756ec1cd23e7c77f68a7e0aa36','2026-02-14 10:17:37.142',false,NULL,'2026-01-15 10:17:37.142','2026-01-15 10:17:37.142')
=== RUN   TestCSRFProtection/Login_Without_CSRF_Token_Succeeds

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.885ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.991ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('6c06066e-a99b-46dd-9a0c-53ef617681c7','330e8cc7-a78d-4710-9a07-1e9b40b060ea','','8172511c3ec65e13662b9448287ba01e1d92a7b131e3eb2f9c37ca1378527260','2026-02-14 10:17:37.2',false,NULL,'2026-01-15 10:17:37.2','2026-01-15 10:17:37.2')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.376ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('2a645d90-cc80-47d6-a1b8-e6691abeb971','330e8cc7-a78d-4710-9a07-1e9b40b060ea','LOGIN','','',true,'','2026-01-15 10:17:37.203')
=== RUN   TestCSRFProtection/Protected_Endpoint_Without_CSRF_Token_Fails
=== RUN   TestCSRFProtection/Protected_Endpoint_With_Valid_CSRF_Token_Succeeds

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.830ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'csrftest@test.com' AND club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[3.011ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('8aa45e42-c3b1-46f7-bd2c-38528d4b88ca','330e8cc7-a78d-4710-9a07-1e9b40b060ea','','6480acccf3680b21fdc9b1cc3e80a98e135c8a72f0ef1f750932f8b0efa53c56','2026-02-14 10:17:37.26',false,NULL,'2026-01-15 10:17:37.26','2026-01-15 10:17:37.26')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:288
[0m[33m[2.310ms] [34;1m[rows:1][0m INSERT INTO "auth_logs" ("id","user_id","type","ip_address","user_agent","success","failure_reason","created_at") VALUES ('5e77456b-6f8a-46f5-853e-10d9163eaed9','330e8cc7-a78d-4710-9a07-1e9b40b060ea','LOGIN','','',true,'','2026-01-15 10:17:37.263')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:196
[0m[33m[0.933ms] [34;1m[rows:1][0m SELECT "refresh_tokens"."id","refresh_tokens"."user_id","refresh_tokens"."device_id","refresh_tokens"."token","refresh_tokens"."expires_at","refresh_tokens"."is_revoked","refresh_tokens"."revoked_at","refresh_tokens"."created_at","refresh_tokens"."updated_at" FROM "refresh_tokens" JOIN users ON users.id = refresh_tokens.user_id WHERE refresh_tokens.token = '6480acccf3680b21fdc9b1cc3e80a98e135c8a72f0ef1f750932f8b0efa53c56' AND users.club_id = 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11' ORDER BY "refresh_tokens"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:228
[0m[33m[2.301ms] [34;1m[rows:1][0m UPDATE "refresh_tokens" SET "is_revoked"=true,"revoked_at"='2026-01-15 10:17:37.267',"updated_at"='2026-01-15 10:17:37.267' WHERE id = '8aa45e42-c3b1-46f7-bd2c-38528d4b88ca' AND user_id = '330e8cc7-a78d-4710-9a07-1e9b40b060ea'
=== RUN   TestCSRFProtection/Mismatched_CSRF_Tokens_Fails
--- PASS: TestCSRFProtection (0.36s)
    --- PASS: TestCSRFProtection/Login_Without_CSRF_Token_Succeeds (0.06s)
    --- PASS: TestCSRFProtection/Protected_Endpoint_Without_CSRF_Token_Fails (0.00s)
    --- PASS: TestCSRFProtection/Protected_Endpoint_With_Valid_CSRF_Token_Succeeds (0.06s)
    --- PASS: TestCSRFProtection/Mismatched_CSRF_Tokens_Fails (0.00s)
=== RUN   TestGamificationFlow

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[2.554ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[0.688ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:31
[0m[33m[1.308ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[4.439ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:37 [32m
[0m[33m[2.082ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.109ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.015ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:37 [32m
[0m[33m[3.055ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.113ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[4.426ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:37 [32m
[0m[33m[2.144ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[1.119ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:32
[0m[33m[4.000ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:37 [32m
[0m[33m[2.728ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.136ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.669ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.724ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.928ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.091ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.125ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.975ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.518ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m
[0m[33m[0.719ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m
[0m[33m[5.579ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[0.773ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:37 [32m
[0m[33m[8.327ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m
[0m[33m[8.573ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[1.337ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.405ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.389ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.478ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m
[0m[33m[0.636ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m
[0m[33m[5.616ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[0.730ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:37 [32m
[0m[33m[8.972ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m
[0m[33m[8.282ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[1.110ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[10.267ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.426ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m
[0m[33m[0.710ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m
[0m[33m[5.788ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[0.975ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:37 [32m
[0m[33m[8.301ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m
[0m[33m[9.186ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:37 [32m
[0m[33m[1.295ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.151ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.217ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.998ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.169ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.201ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.365ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.183ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.152ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.235ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.787ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.753ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.204ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.739ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.376ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.942ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.997ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.498ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.245ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.119ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.125ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.010ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.618ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.010ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.716ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.690ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.955ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.044ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.634ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.219ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.911ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.742ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[4.728ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('7b50b021-4bad-4f2f-a609-dfc1de0885fb','Gamer One','gamer@test.com','$2a$10$qjHwx8X1s0nnSBXYXqVhPOVyECPxrr2XtNWtktHTjQD8Cx2z2Rcfi','MEMBER','2026-01-15 10:17:37.62','2026-01-15 10:17:37.62',NULL,NULL,'test-club-gamification','','',NULL,'2026-01-15 10:17:37.62','2026-01',NULL)

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[3.280ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('cf6fffb9-d537-4025-93b3-625083c4b394','7b50b021-4bad-4f2f-a609-dfc1de0885fb','','c459ac6e7ee93bac414c938f9d61b553af0c6c375fa88ef73e40334c7d03bd4f','2026-02-14 10:17:37.625',false,NULL,'2026-01-15 10:17:37.625','2026-01-15 10:17:37.625')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.821ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'gamer@test.com' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:72
[0m[33m[2.989ms] [34;1m[rows:1][0m UPDATE "users" SET "club_id"='test-club-gamification',"updated_at"='2026-01-15 10:17:37.63' WHERE id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' AND "users"."deleted_at" IS NULL

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:81
[0m[33m[2.831ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('7b50b021-4bad-4f2f-a609-dfc1de0885fb',0,0,0,1,0,0,0,NULL,0,'2026-01-15 10:17:37.633','2026-01-15 10:17:37.633') RETURNING "id"

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:89
[0m[33m[3.057ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('7b50b021-4bad-4f2f-a609-dfc1de0885fb',0,0,NULL,'2026-01-15 10:17:37.636','2026-01-15 10:17:37.636') RETURNING "id"
=== RUN   TestGamificationFlow/Get_Stats

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.783ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.837ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[3.745ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
=== RUN   TestGamificationFlow/Get_Wallet

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[1.118ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.896ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.969ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:137
[0m[33m[2.597ms] [34;1m[rows:1][0m UPDATE "user_stats" SET "level"=2,"matches_played"=5,"ranking_points"=1200,"updated_at"='2026-01-15 10:17:37.646' WHERE user_id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'
=== RUN   TestGamificationFlow/Get_Updated_Stats

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.869ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.714ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.550ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:157
[0m[33m[0.742ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE user_id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' ORDER BY "wallets"."id" LIMIT 1

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/gamification_flow_test.go:172
[0m[33m[2.394ms] [34;1m[rows:1][0m UPDATE "wallets" SET "user_id"='7b50b021-4bad-4f2f-a609-dfc1de0885fb',"balance"=50,"points"=0,"transactions"='[{"id":"tx-123","type":"CREDIT","amount":50,"description":"Win Bonus","date":"2026-01-15T10:17:37.652046-03:00"}]',"created_at"='2026-01-15 13:17:37.636',"updated_at"='2026-01-15 10:17:37.652' WHERE "id" = 'dbd7ccdd-8bbd-4217-aa4e-8be4d229436c'
=== RUN   TestGamificationFlow/Get_Updated_Wallet

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.748ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.830ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '7b50b021-4bad-4f2f-a609-dfc1de0885fb'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.487ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '7b50b021-4bad-4f2f-a609-dfc1de0885fb' AND club_id = 'test-club-gamification') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
--- PASS: TestGamificationFlow (0.39s)
    --- PASS: TestGamificationFlow/Get_Stats (0.00s)
    --- PASS: TestGamificationFlow/Get_Wallet (0.00s)
    --- PASS: TestGamificationFlow/Get_Updated_Stats (0.00s)
    --- PASS: TestGamificationFlow/Get_Updated_Wallet (0.00s)
=== RUN   TestKnockoutBracketGeneration

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[2.297ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.987ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.641ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[1.345ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:39
[0m[33m[2.145ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.210ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[4.640ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 10:17:37 [32m
[0m[33m[2.708ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.715ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[6.355ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 10:17:37 [32m
[0m[33m[2.706ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.419ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[5.338ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 10:17:37 [32m
[0m[33m[2.264ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.234ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[4.028ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:37 [32m
[0m[33m[4.044ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.786ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 10:17:37 [32m
[0m[33m[3.277ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.839ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 10:17:37 [32m
[0m[33m[3.016ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.506ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[1.504ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:48
[0m[33m[5.116ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 10:17:37 [32m
[0m[33m[2.889ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 10:17:37 [32m
[0m[33m[2.380ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:59
[0m[33m[1.576ms] [34;1m[rows:0][0m DELETE FROM tournament_matches WHERE tournament_id IN (SELECT id FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:60
[0m[33m[1.581ms] [34;1m[rows:0][0m DELETE FROM standings WHERE group_id IN (SELECT g.id FROM groups g JOIN tournament_stages s ON g.stage_id = s.id JOIN tournaments t ON s.tournament_id = t.id WHERE t.club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:61
[0m[33m[1.057ms] [34;1m[rows:0][0m DELETE FROM groups WHERE stage_id IN (SELECT s.id FROM tournament_stages s JOIN tournaments t ON s.tournament_id = t.id WHERE t.club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:62
[0m[33m[0.906ms] [34;1m[rows:0][0m DELETE FROM tournament_stages WHERE tournament_id IN (SELECT id FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333')

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:63
[0m[33m[0.917ms] [34;1m[rows:0][0m DELETE FROM tournaments WHERE club_id = '33333333-3333-3333-3333-333333333333'
2026/01/15 10:17:37 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.589ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.833ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.495ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.215ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[16.685ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[12.623ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.170ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.106ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.161ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.619ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.843ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.549ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.635ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.112ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.466ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.843ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.676ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.084ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.089ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.463ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[12.784ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[9.428ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.518ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.851ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.645ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.657ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.548ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.752ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.579ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.721ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.657ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.511ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.520ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.365ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.262ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.393ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.237ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.179ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.751ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.886ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.119ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.974ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.892ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.153ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.580ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.615ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.640ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.618ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.500ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.625ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.569ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.419ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:37 DEBUG: AutoMigrate Success

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.233ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.731ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[6.054ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.089ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[8.327ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.969ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.177ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.629ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.562ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:37 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.485ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.377ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.112ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.533ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.618ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.597ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.625ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.871ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.952ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.534ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.320ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[1.193ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[1.964ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[5.489ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[0.954ms] [34;1m[rows:-][0m SELECT * FROM "family_groups" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[7.878ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'family_groups' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[7.444ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'family_groups'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[1.276ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'family_groups'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19
[0m[33m[2.705ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'family_groups' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'family_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres_family_group.go:19 [35;1mERROR: column "club_id" of relation "family_groups" contains null values (SQLSTATE 23502)
[0m[33m[1.053ms] [34;1m[rows:0][0m ALTER TABLE "family_groups" ADD "club_id" text NOT NULL

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:24
[0m[33m[3.424ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('33333333-3333-3333-3333-333333333333','Knockout Cup','','FUTBOL','Senior','DRAFT','2026-01-22 10:17:38.057',NULL,'','2026-01-15 10:17:38.058','2026-01-15 10:17:38.058','b7274170-6b8f-4aef-b93e-0c652165cf61') RETURNING "id","settings"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[0.825ms] [34;1m[rows:0][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b7274170-6b8f-4aef-b93e-0c652165cf61'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[1.871ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b7274170-6b8f-4aef-b93e-0c652165cf61' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[2.980ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b7274170-6b8f-4aef-b93e-0c652165cf61',1,'Playoffs','KNOCKOUT','PENDING','2e8ec468-122a-4af3-984b-572ba9930c60') RETURNING "id"

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.969ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('b0d6f0b6-3a65-4e68-a2f4-37b38583ec9c', 'Team A', '33333333-3333-3333-3333-333333333333', 'b7274170-6b8f-4aef-b93e-0c652165cf61', NOW(), NOW())

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.826ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('11903ade-9e74-48c6-9397-c0aa83766bb3', 'Team B', '33333333-3333-3333-3333-333333333333', 'b7274170-6b8f-4aef-b93e-0c652165cf61', NOW(), NOW())

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.855ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('e81ae79b-7b61-4920-94ee-161433a6a1f5', 'Team C', '33333333-3333-3333-3333-333333333333', 'b7274170-6b8f-4aef-b93e-0c652165cf61', NOW(), NOW())

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/knockout_bracket_test.go:122 [35;1mERROR: column "championship_id" of relation "teams" does not exist (SQLSTATE 42703)
[0m[33m[0.876ms] [34;1m[rows:0][0m INSERT INTO teams (id, name, club_id, championship_id, created_at, updated_at) VALUES ('47f22607-b54e-4884-bc03-20f0bc9674a8', 'Team D', '33333333-3333-3333-3333-333333333333', 'b7274170-6b8f-4aef-b93e-0c652165cf61', NOW(), NOW())
=== RUN   TestKnockoutBracketGeneration/Generate_4-Team_Knockout_Bracket

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[1.062ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = '2e8ec468-122a-4af3-984b-572ba9930c60' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[1.223ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('b7274170-6b8f-4aef-b93e-0c652165cf61','2e8ec468-122a-4af3-984b-572ba9930c60',NULL,'b0d6f0b6-3a65-4e68-a2f4-37b38583ec9c','47f22607-b54e-4884-bc03-20f0bc9674a8',NULL,NULL,NULL,'SCHEDULED','2026-01-22 10:17:38.07','1137b31c-6088-4703-a0e0-6026cfc51382') RETURNING "id"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.992ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('b7274170-6b8f-4aef-b93e-0c652165cf61','2e8ec468-122a-4af3-984b-572ba9930c60',NULL,'11903ade-9e74-48c6-9397-c0aa83766bb3','e81ae79b-7b61-4920-94ee-161433a6a1f5',NULL,NULL,NULL,'SCHEDULED','2026-01-22 10:17:38.07','9702402d-216f-4c21-9eb5-575930e05fc9') RETURNING "id"
=== RUN   TestKnockoutBracketGeneration/Reject_Non-Power-of-2_Teams

2026/01/15 10:17:38 [32m
[0m[33m[1.173ms] [34;1m[rows:0][0m SELECT * FROM "groups" WHERE "groups"."stage_id" = '2e8ec468-122a-4af3-984b-572ba9930c60'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[2.155ms] [34;1m[rows:1][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b7274170-6b8f-4aef-b93e-0c652165cf61'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[3.789ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b7274170-6b8f-4aef-b93e-0c652165cf61' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[2.569ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b7274170-6b8f-4aef-b93e-0c652165cf61',2,'Playoffs 2','KNOCKOUT','PENDING','61172484-84f9-416c-a55b-0b276bbb78c0') RETURNING "id"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.924ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = '61172484-84f9-416c-a55b-0b276bbb78c0' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1
=== RUN   TestKnockoutBracketGeneration/Reject_GROUP_Stage_for_Knockout

2026/01/15 10:17:38 [32m
[0m[33m[0.779ms] [34;1m[rows:0][0m SELECT * FROM "groups" WHERE "groups"."stage_id" IN ('2e8ec468-122a-4af3-984b-572ba9930c60','61172484-84f9-416c-a55b-0b276bbb78c0')

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[1.690ms] [34;1m[rows:2][0m SELECT * FROM "tournament_stages" WHERE "tournament_stages"."tournament_id" = 'b7274170-6b8f-4aef-b93e-0c652165cf61'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:29
[0m[33m[2.566ms] [34;1m[rows:1][0m SELECT * FROM "championships" WHERE id = 'b7274170-6b8f-4aef-b93e-0c652165cf61' AND club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "championships"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:44
[0m[33m[2.665ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('b7274170-6b8f-4aef-b93e-0c652165cf61',3,'Group Phase','GROUP','PENDING','89c3f964-8a15-47a5-9e71-f73766ffc76c') RETURNING "id"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[0.945ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = '89c3f964-8a15-47a5-9e71-f73766ffc76c' AND championships.club_id = '33333333-3333-3333-3333-333333333333' ORDER BY "tournament_stages"."id" LIMIT 1
--- PASS: TestKnockoutBracketGeneration (0.43s)
    --- PASS: TestKnockoutBracketGeneration/Generate_4-Team_Knockout_Bracket (0.01s)
    --- PASS: TestKnockoutBracketGeneration/Reject_Non-Power-of-2_Teams (0.01s)
    --- PASS: TestKnockoutBracketGeneration/Reject_GROUP_Stage_for_Knockout (0.01s)
=== RUN   TestPaymentWebhookSecurity
=== RUN   TestPaymentWebhookSecurity/Missing_Signature_Headers_->_403_Forbidden
=== RUN   TestPaymentWebhookSecurity/Valid_Signature_->_200_OK_(logic_wise)
--- PASS: TestPaymentWebhookSecurity (0.00s)
    --- PASS: TestPaymentWebhookSecurity/Missing_Signature_Headers_->_403_Forbidden (0.00s)
    --- PASS: TestPaymentWebhookSecurity/Valid_Signature_->_200_OK_(logic_wise) (0.00s)
=== RUN   TestSuperAdminAccess

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[2.090ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "clubs" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[2.986ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[1.941ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:47
[0m[33m[2.374ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.232ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'clubs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[4.745ms] [34;1m[rows:0][0m CREATE TABLE "clubs" ("id" text,"name" text NOT NULL,"slug" text NOT NULL,"logo_url" text,"theme_config" jsonb,"domain" text,"status" text DEFAULT 'ACTIVE',"settings" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.354ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_clubs_slug" ON "clubs" ("slug")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.273ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[5.006ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.611ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:38 [32m
[0m[33m[2.938ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:38 [32m
[0m[33m[2.564ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:38 [32m
[0m[33m[2.504ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.378ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[5.933ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:38 [32m
[0m[33m[2.700ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[1.436ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:48
[0m[33m[6.757ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:38 [32m
[0m[33m[2.945ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.699ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.920ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.149ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.340ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[11.832ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[55.794ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.556ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.505ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.122ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.605ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.635ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m
[0m[33m[1.039ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m
[0m[33m[8.815ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[0.897ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:38 [32m
[0m[33m[9.464ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m
[0m[33m[9.552ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[1.098ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.464ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.651ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.587ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m
[0m[33m[0.817ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m
[0m[33m[6.287ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[0.852ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:38 [32m
[0m[33m[8.702ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m
[0m[33m[8.840ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[1.147ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[13.691ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.593ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.481ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m
[0m[33m[0.792ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m
[0m[33m[6.136ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[1.110ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:38 [32m
[0m[33m[8.618ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m
[0m[33m[8.648ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:38 [32m
[0m[33m[1.219ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.201ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.363ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.211ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.780ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.878ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.636ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.391ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.350ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.883ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.278ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.283ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.386ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.311ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.311ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.223ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.752ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.589ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.830ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.553ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.735ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.131ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.655ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.742ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.695ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.475ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.534ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.477ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.642ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.676ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.333ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.282ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.249ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.170ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.913ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.805ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.092ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.687ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.612ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.120ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.152ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.011ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.561ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.592ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.650ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.591ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.681ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.344ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.982ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'super@admin.com' AND club_id = 'system') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:82
[0m[33m[2.987ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('sa-id-123','Super Admin','super@admin.com','','SUPER_ADMIN',NULL,NULL,NULL,'2026-01-15 10:17:38.497','2026-01-15 10:17:38.497',NULL,'system',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[0.993ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'normal@user.com' AND club_id = 'club-A') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/super_admin_test.go:99
[0m[33m[2.669ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('norm-id-456','Normal User','normal@user.com','','MEMBER',NULL,NULL,NULL,'2026-01-15 10:17:38.501','2026-01-15 10:17:38.501',NULL,'club-A',NULL,'','','','','PENDING',NULL,NULL,'',NULL)
=== RUN   TestSuperAdminAccess/Normal_User_Forbidden

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:44
[0m[33m[3.649ms] [34;1m[rows:1][0m INSERT INTO "clubs" ("id","name","slug","logo_url","theme_config","domain","status","settings","created_at","updated_at") VALUES ('club-A','Club A','','','""','','ACTIVE','""','2026-01-15 10:17:38.505','2026-01-15 10:17:38.505')

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:57 [35;1mrecord not found
[0m[33m[0.834ms] [34;1m[rows:0][0m SELECT * FROM "clubs" WHERE slug = 'club-A' ORDER BY "clubs"."id" LIMIT 1
=== RUN   TestSuperAdminAccess/Super_Admin_Create_Club

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:44
[0m[33m[2.464ms] [34;1m[rows:1][0m INSERT INTO "clubs" ("id","name","slug","logo_url","theme_config","domain","status","settings","created_at","updated_at") VALUES ('d8fe532b-55e3-44d9-acbf-4334a616c297','New Club','new-club','','""','new.club.com','ACTIVE','""','2026-01-15 10:17:38.509','2026-01-15 10:17:38.509')

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:49
[0m[33m[0.817ms] [34;1m[rows:1][0m SELECT * FROM "clubs" WHERE id = 'd8fe532b-55e3-44d9-acbf-4334a616c297' ORDER BY "clubs"."id" LIMIT 1
=== RUN   TestSuperAdminAccess/Super_Admin_List_Clubs

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/club/infrastructure/repository/postgres.go:76
[0m[33m[0.949ms] [34;1m[rows:2][0m SELECT * FROM "clubs" LIMIT 100
--- PASS: TestSuperAdminAccess (0.42s)
    --- PASS: TestSuperAdminAccess/Normal_User_Forbidden (0.00s)
    --- PASS: TestSuperAdminAccess/Super_Admin_Create_Club (0.00s)
    --- PASS: TestSuperAdminAccess/Super_Admin_List_Clubs (0.00s)
=== RUN   TestAttendanceFlow

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.590ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.581ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[3.859ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.470ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.392ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[2.346ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "attendance_records" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:32
[0m[33m[1.928ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "attendance_lists" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:35
[0m[33m[0.733ms] [34;1m[rows:0][0m CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.262ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[5.112ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.365ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:38 [32m
[0m[33m[2.388ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:38 [32m
[0m[33m[2.325ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:38 [32m
[0m[33m[2.707ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.258ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'attendance_lists' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[5.422ms] [34;1m[rows:0][0m CREATE TABLE "attendance_lists" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"date" timestamptz,"group_name" text,"training_group_id" uuid,"coach_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.307ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_attendance_lists_deleted_at" ON "attendance_lists" ("deleted_at")

2026/01/15 10:17:38 [32m
[0m[33m[2.299ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_attendance_lists_club_id" ON "attendance_lists" ("club_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.278ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'attendance_records' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[6.151ms] [34;1m[rows:0][0m CREATE TABLE "attendance_records" ("id" uuid DEFAULT uuid_generate_v4(),"attendance_list_id" uuid,"user_id" text,"status" text,"notes" text,PRIMARY KEY ("id"),CONSTRAINT "fk_attendance_lists_records" FOREIGN KEY ("attendance_list_id") REFERENCES "attendance_lists"("id"))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.755ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[6.084ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:38 [32m
[0m[33m[2.974ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:36
[0m[33m[5.210ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:38 [32m
[0m[33m[2.639ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.370ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[4.385ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.400ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 10:17:38 [32m
[0m[33m[2.117ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.385ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[6.151ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.516ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 10:17:38 [32m
[0m[33m[2.305ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 10:17:38 [32m
[0m[33m[2.701ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:69
[0m[33m[2.570ms] [34;1m[rows:0][0m DELETE FROM "attendance_records" WHERE user_id = 'student-2012'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:70
[0m[33m[3.450ms] [34;1m[rows:0][0m DELETE FROM "attendance_lists" WHERE group_name = '2012'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:71
[0m[33m[2.749ms] [34;1m[rows:0][0m DELETE FROM "users" WHERE id = 'student-2012'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/attendance_flow_test.go:73
[0m[33m[4.223ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('student-2012','Student 2012','student2012@test.com','','','2012-01-01 00:00:00',NULL,NULL,'2026-01-15 10:17:38.625','2026-01-15 10:17:38.625',NULL,'test-club-attendance',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 10:17:38 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83 [35;1mrecord not found
[0m[33m[0.899ms] [34;1m[rows:0][0m SELECT * FROM "attendance_lists" WHERE (group_name = '2012' AND date = '2024-01-01 00:00:00' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:175
[0m[33m[0.876ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'student-2012'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:175
[0m[33m[0.841ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'student-2012'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:175
[0m[33m[2.762ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE club_id = 'test-club-attendance' AND EXTRACT(YEAR FROM date_of_birth) = '2012' AND "users"."deleted_at" IS NULL LIMIT 100

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:63
[0m[33m[2.773ms] [34;1m[rows:1][0m INSERT INTO "attendance_lists" ("club_id","date","group_name","training_group_id","coach_id","created_at","updated_at","deleted_at","id") VALUES ('test-club-attendance','2024-01-01 00:00:00','2012',NULL,'coach-uuid-123','2026-01-15 10:17:38.629','2026-01-15 10:17:38.629',NULL,'1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a') RETURNING "id"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:119
[0m[33m[2.209ms] [34;1m[rows:0][0m UPDATE "attendance_records" SET "attendance_list_id"='1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a',"user_id"='student-2012',"status"='ABSENT',"notes"='' WHERE "id" = '44b4ba4c-3a7f-4e45-b0ad-a70696a036b8'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:119
[0m[33m[2.766ms] [34;1m[rows:1][0m INSERT INTO "attendance_records" ("attendance_list_id","user_id","status","notes","id") VALUES ('1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a','student-2012','ABSENT','','44b4ba4c-3a7f-4e45-b0ad-a70696a036b8') ON CONFLICT ("id") DO UPDATE SET "attendance_list_id"="excluded"."attendance_list_id","user_id"="excluded"."user_id","status"="excluded"."status","notes"="excluded"."notes" RETURNING "id"
[GIN] 2026/01/15 - 10:17:38 | 200 |   11.717199ms |                 | GET      "/api/v1/attendance/groups/2012?date=2024-01-01"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:68
[0m[33m[1.285ms] [34;1m[rows:1][0m SELECT * FROM "attendance_records" WHERE "attendance_records"."attendance_list_id" = '1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:68
[0m[33m[2.320ms] [34;1m[rows:1][0m SELECT * FROM "attendance_lists" WHERE (id = '1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:119
[0m[33m[2.629ms] [34;1m[rows:1][0m UPDATE "attendance_records" SET "attendance_list_id"='1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a',"user_id"='student-2012',"status"='PRESENT',"notes"='Arrived on time' WHERE "id" = '44b4ba4c-3a7f-4e45-b0ad-a70696a036b8'
[GIN] 2026/01/15 - 10:17:38 | 200 |    5.062602ms |                 | POST     "/api/v1/attendance/1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a/records"

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83
[0m[33m[0.838ms] [34;1m[rows:1][0m SELECT * FROM "attendance_records" WHERE "attendance_records"."attendance_list_id" = '1bf343c8-9c59-40f5-9ef2-de3fa7a93d6a'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/attendance/infrastructure/repository/postgres_attendance.go:83
[0m[33m[1.870ms] [34;1m[rows:1][0m SELECT * FROM "attendance_lists" WHERE (group_name = '2012' AND date = '2024-01-01 00:00:00' AND club_id = 'test-club-attendance') AND "attendance_lists"."deleted_at" IS NULL ORDER BY "attendance_lists"."id" LIMIT 1
--- PASS: TestAttendanceFlow (0.13s)
=== RUN   TestBookingAdvancedFlow

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[2.026ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[1.738ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "waitlists" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:40
[0m[33m[1.930ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.285ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.610ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.331ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 10:17:38 [32m
[0m[33m[2.376ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.450ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'waitlists' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[4.766ms] [34;1m[rows:0][0m CREATE TABLE "waitlists" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"resource_id" uuid NOT NULL,"target_date" timestamptz NOT NULL,"user_id" uuid NOT NULL,"status" text DEFAULT 'PENDING',"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.619ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[6.057ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:38 [32m
[0m[33m[2.458ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.381ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.753ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[6.463ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.867ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[8.942ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[8.920ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.282ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.589ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.084ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.977ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.684ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.559ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.647ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.670ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.682ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.614ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.634ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.498ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.487ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.781ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.925ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.033ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.612ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.479ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.749ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.390ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.266ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.376ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.195ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.737ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[5.886ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.941ms] [34;1m[rows:-][0m SELECT * FROM "user_stats" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[7.867ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[7.774ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.105ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_stats'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.602ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.705ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.873ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_played') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.869ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'ranking_points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.014ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.913ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'experience') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.639ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'current_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.485ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'longest_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.559ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'last_activity_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.596ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'total_xp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.704ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.643ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.765ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND constraint_name = 'fk_users_stats'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.277ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_stats' AND indexname = 'idx_user_stats_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.105ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.723ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[5.298ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[0.788ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[7.476ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[9.529ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.736ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[3.010ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.956ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m
[0m[33m[0.795ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m
[0m[33m[5.535ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:38 [32m
[0m[33m[0.937ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:38 [32m
[0m[33m[7.636ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m
[0m[33m[7.692ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:38 [32m
[0m[33m[1.074ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.606ms] [34;1m[rows:0][0m ALTER TABLE "wallets" ALTER COLUMN "balance" SET DEFAULT 0

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.560ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.757ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.496ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'transactions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.840ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[2.553ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.731ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND constraint_name = 'fk_users_wallet'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:41
[0m[33m[1.487ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'wallets' AND indexname = 'idx_wallets_user_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:38 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.344ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.867ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.109ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.961ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.291ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.887ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.171ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.468ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.683ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.625ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.700ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.844ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.804ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.594ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.489ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.553ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.494ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.169ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.712ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.588ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:38 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.857ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.751ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[9.303ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.598ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.069ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.874ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[4.599ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.139ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.741ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.682ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.873ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.504ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.360ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.747ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.056ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.908ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.889ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.695ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.917ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.411ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.584ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.234ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.564ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.724ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.785ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.707ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.692ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.676ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.658ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.474ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:39 DEBUG: AutoMigrate Success

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.175ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.700ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.588ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.863ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.771ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.250ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.986ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.390ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.464ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.356ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.392ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.973ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.548ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.401ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.326ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.196ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:58
[0m[33m[3.009ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('6fe0f618-dd31-419c-8899-dc14065da194','Padel Court 1','','','active',0,0,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-adv-booking','2026-01-15 10:17:39.186','2026-01-15 10:17:39.186')

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:68
[0m[33m[2.565ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('c9475873-94ea-4b4e-b2c3-f796472662d0','U1','u1@test.com','','',NULL,NULL,NULL,'2026-01-15 10:17:39.189','2026-01-15 10:17:39.189',NULL,'test-club-adv-booking',NULL,'','','','','VALID',NULL,NULL,'',NULL)

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:69
[0m[33m[2.578ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('2de7d417-8eed-4a55-9d91-f57c464f4f86','U2','u2@test.com','','',NULL,NULL,NULL,'2026-01-15 10:17:39.191','2026-01-15 10:17:39.191',NULL,'test-club-adv-booking',NULL,'','','','','VALID',NULL,NULL,'',NULL)
=== RUN   TestBookingAdvancedFlow/User_1_Books

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.920ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '6fe0f618-dd31-419c-8899-dc14065da194' AND club_id = 'test-club-adv-booking' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.899ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-adv-booking' AND facility_id = '6fe0f618-dd31-419c-8899-dc14065da194' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 14:00:00' AND end_time > '2026-01-16 13:00:00'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.816ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '6fe0f618-dd31-419c-8899-dc14065da194' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 14:00:00' AND end_time > '2026-01-16 13:00:00')

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.709ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c9475873-94ea-4b4e-b2c3-f796472662d0'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.765ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c9475873-94ea-4b4e-b2c3-f796472662d0'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.442ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c9475873-94ea-4b4e-b2c3-f796472662d0' AND club_id = 'test-club-adv-booking') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.632ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('2609f1e0-5291-4cc0-a538-3f57206dd60d','test-club-adv-booking','c9475873-94ea-4b4e-b2c3-f796472662d0','6fe0f618-dd31-419c-8899-dc14065da194','2026-01-16 13:00:00','2026-01-16 14:00:00','0','CONFIRMED','[]',NULL,'2026-01-15 10:17:39.199','2026-01-15 10:17:39.199')
2026/01/15 10:17:39 Redis connection established successfully
=== RUN   TestBookingAdvancedFlow/User_2_Conflict

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[1.050ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '6fe0f618-dd31-419c-8899-dc14065da194' AND club_id = 'test-club-adv-booking' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.891ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-adv-booking' AND facility_id = '6fe0f618-dd31-419c-8899-dc14065da194' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 14:00:00' AND end_time > '2026-01-16 13:00:00'
=== RUN   TestBookingAdvancedFlow/User_2_Join_Waitlist

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:118
[0m[33m[2.706ms] [34;1m[rows:1][0m INSERT INTO "waitlists" ("club_id","resource_id","target_date","user_id","status","created_at","updated_at","id") VALUES ('test-club-adv-booking','6fe0f618-dd31-419c-8899-dc14065da194','2026-01-16 10:00:00','2de7d417-8eed-4a55-9d91-f57c464f4f86','PENDING','2026-01-15 10:17:39.21','2026-01-15 10:17:39.21','3ddf1120-dbce-4456-b5be-0665d3956aac') RETURNING "id"

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_advanced_test.go:142
[0m[33m[0.825ms] [34;1m[rows:1][0m SELECT * FROM "waitlists" WHERE user_id = '2de7d417-8eed-4a55-9d91-f57c464f4f86' AND resource_id = '6fe0f618-dd31-419c-8899-dc14065da194' ORDER BY "waitlists"."id" LIMIT 1
--- PASS: TestBookingAdvancedFlow (0.57s)
    --- PASS: TestBookingAdvancedFlow/User_1_Books (0.01s)
    --- PASS: TestBookingAdvancedFlow/User_2_Conflict (0.00s)
    --- PASS: TestBookingAdvancedFlow/User_2_Join_Waitlist (0.00s)
=== RUN   TestBookingPricing

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.159ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.666ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.715ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.063ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[10.237ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[9.641ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.230ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.489ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.629ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.975ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.747ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.664ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.610ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.870ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.766ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.763ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.791ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.632ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.651ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.041ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.959ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.513ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.379ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.567ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.508ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.305ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.859ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.241ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.971ms] [34;1m[rows:-][0m SELECT * FROM "user_stats" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[9.010ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[9.198ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.155ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_stats'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.605ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.164ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_played') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.016ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'ranking_points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.928ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.980ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'experience') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'current_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.012ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'longest_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'last_activity_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'total_xp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.489ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND constraint_name = 'fk_users_stats'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.302ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_stats' AND indexname = 'idx_user_stats_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.144ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.660ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.020ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.732ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.141ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[9.651ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.021ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.331ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m
[0m[33m[0.789ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m
[0m[33m[5.253ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:39 [32m
[0m[33m[0.772ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:39 [32m
[0m[33m[6.862ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m
[0m[33m[6.948ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:39 [32m
[0m[33m[1.100ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.424ms] [34;1m[rows:0][0m ALTER TABLE "wallets" ALTER COLUMN "balance" SET DEFAULT 0

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'transactions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.569ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.633ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND constraint_name = 'fk_users_wallet'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.233ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'wallets' AND indexname = 'idx_wallets_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.139ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.679ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.729ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.754ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.848ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.537ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.024ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.461ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[3.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.478ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.400ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.212ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.077ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.665ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[5.222ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[0.768ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.037ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[7.496ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.412ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.538ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.230ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.639ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[2.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.194ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:31
[0m[33m[1.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:34
[0m[33m[6.910ms] [34;1m[rows:0][0m TRUNCATE TABLE bookings CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:35
[0m[33m[5.675ms] [34;1m[rows:0][0m TRUNCATE TABLE facilities CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:36
[0m[33m[14.404ms] [34;1m[rows:0][0m TRUNCATE TABLE users CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/booking_pricing_test.go:37
[0m[33m[4.747ms] [34;1m[rows:0][0m TRUNCATE TABLE user_stats CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.238ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.674ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.115ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.834ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.079ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.532ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.240ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.941ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.786ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.651ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.953ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.670ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.488ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.667ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.606ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.749ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.708ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.342ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:39 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.216ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.747ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.636ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.970ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.154ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.002ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.103ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.505ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.624ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.574ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.906ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.568ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.738ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.433ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.492ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.301ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.182ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.026ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.430ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.821ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.742ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.953ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.121ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.386ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.762ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.562ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.490ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.386ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.408ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.431ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.362ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.579ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.447ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.254ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.232ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.192ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.156ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.176ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.693ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.345ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.822ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.311ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.435ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.203ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.356ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.455ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.500ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.227ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:39 DEBUG: AutoMigrate Success

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:312
[0m[33m[3.064ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('11111111-1111-1111-1111-111111111111','Test User','test@test.com','$2a$10$PlaceholderHashForChildAcc','',NULL,NULL,NULL,'2026-01-15 10:17:39.847','2026-01-15 10:17:39.847',NULL,'test-club-1',NULL,'','','','','VALID','2027-01-15 10:17:39.847',NULL,'',NULL)

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:70
[0m[33m[2.581ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('363710dc-a5dc-42f2-accd-b36800f2d065','Tennis Court 1','','','active',0,100,'08:00','22:00',50,'{"lighting":false,"covered":false}','{"name":""}','test-club-1','2026-01-15 10:17:39.851','2026-01-15 10:17:39.851')
=== RUN   TestBookingPricing/Create_Booking_with_Guests_and_Verify_Price

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.885ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '363710dc-a5dc-42f2-accd-b36800f2d065' AND club_id = 'test-club-1' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[0.802ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-1' AND facility_id = '363710dc-a5dc-42f2-accd-b36800f2d065' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 15:00:00' AND end_time > '2026-01-16 13:00:00'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.763ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '363710dc-a5dc-42f2-accd-b36800f2d065' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 15:00:00' AND end_time > '2026-01-16 13:00:00')

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.932ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '11111111-1111-1111-1111-111111111111'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[1.298ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '11111111-1111-1111-1111-111111111111'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[3.272ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '11111111-1111-1111-1111-111111111111' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.653ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('1f6aaf8f-7efa-4afe-a53d-1b4dbc1cc252','test-club-1','11111111-1111-1111-1111-111111111111','363710dc-a5dc-42f2-accd-b36800f2d065','2026-01-16 13:00:00','2026-01-16 15:00:00','300','PENDING_PAYMENT','[{"name":"Guest 1","dni":"123","fee_amount":0},{"name":"Guest 2","dni":"456","fee_amount":0}]','2026-01-15 10:32:39.859','2026-01-15 10:17:39.859','2026-01-15 10:17:39.859')
--- PASS: TestBookingPricing (0.65s)
    --- PASS: TestBookingPricing/Create_Booking_with_Guests_and_Verify_Price (0.01s)
=== RUN   TestBookingCancellationFlow

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:29
[0m[33m[1.918ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:29
[0m[33m[1.860ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[1.173ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[4.238ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:39 [32m
[0m[33m[2.478ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 10:17:39 [32m
[0m[33m[4.643ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[2.456ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:30
[0m[33m[4.873ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:39 [32m
[0m[33m[2.400ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")
2026/01/15 10:17:39 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.201ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.704ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.710ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.876ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.465ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.509ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.061ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.861ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.381ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.478ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.001ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.540ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.414ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.523ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.226ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.259ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.773ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.381ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.640ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.194ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.583ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.079ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.442ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.129ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:39 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.368ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.108ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.302ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.192ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.042ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.646ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.076ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.788ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.171ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.796ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.276ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.489ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.426ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.278ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.169ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.204ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:40 DEBUG: AutoMigrate Success

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.159ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.647ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.153ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.054ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.499ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.428ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.337ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.354ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.170ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:53
[0m[33m[2.695ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('7a85ee6d-2d50-4e10-8279-19189892e287','Court Cancel','','','active',0,0,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-cancel','2026-01-15 10:17:40.115','2026-01-15 10:17:40.115')

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:61
[0m[33m[2.489ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('d9634448-2458-4872-a989-83896b77d0fe','U Cancel','cancel@test.com','','',NULL,NULL,NULL,'2026-01-15 10:17:40.118','2026-01-15 10:17:40.118',NULL,'test-club-cancel',NULL,'','','','','VALID',NULL,NULL,'',NULL)

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:67
[0m[33m[2.481ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('8cd61533-838a-413c-8bbc-21d3aaadc83d','test-club-cancel','d9634448-2458-4872-a989-83896b77d0fe','7a85ee6d-2d50-4e10-8279-19189892e287','2026-01-16 10:00:00','2026-01-16 11:00:00','0','CONFIRMED','[]',NULL,'2026-01-15 10:17:40.121','2026-01-15 10:17:40.121')
=== RUN   TestBookingCancellationFlow/User_Cancel_Booking

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.824ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '8cd61533-838a-413c-8bbc-21d3aaadc83d' AND club_id = 'test-club-cancel' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[2.393ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-cancel',"user_id"='d9634448-2458-4872-a989-83896b77d0fe',"facility_id"='7a85ee6d-2d50-4e10-8279-19189892e287',"start_time"='2026-01-16 13:00:00',"end_time"='2026-01-16 14:00:00',"total_price"='0',"status"='CANCELLED',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 13:17:40.121',"updated_at"='2026-01-15 10:17:40.124' WHERE "id" = '8cd61533-838a-413c-8bbc-21d3aaadc83d'

2026/01/15 10:17:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:129 [35;1mrecord not found
[0m[33m[0.806ms] [34;1m[rows:0][0m SELECT * FROM "waitlists" WHERE club_id = 'test-club-cancel' AND resource_id = '7a85ee6d-2d50-4e10-8279-19189892e287' AND target_date = '2026-01-16 13:00:00' AND status = 'PENDING' ORDER BY created_at asc,"waitlists"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_flow_test.go:92
[0m[33m[0.737ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '8cd61533-838a-413c-8bbc-21d3aaadc83d' ORDER BY "bookings"."id" LIMIT 1
--- PASS: TestBookingCancellationFlow (0.27s)
    --- PASS: TestBookingCancellationFlow/User_Cancel_Booking (0.00s)
=== RUN   TestCancellationRefundFlow

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.434ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.597ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[6.831ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.098ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[9.354ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[9.472ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.312ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.383ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.164ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[3.100ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.498ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.408ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.552ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.570ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.371ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.603ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.431ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.467ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.304ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.203ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.250ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.233ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.107ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.686ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[5.551ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.797ms] [34;1m[rows:-][0m SELECT * FROM "user_stats" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.054ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[8.064ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_stats'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.976ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_stats'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_played') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'matches_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.726ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'ranking_points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.548ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'experience') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'current_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.402ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'longest_streak') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.549ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'last_activity_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.512ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'total_xp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.550ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.417ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.699ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND constraint_name = 'fk_users_stats'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_stats' AND indexname = 'idx_user_stats_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.128ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.673ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[5.099ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.834ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[6.986ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.070ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.098ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m
[0m[33m[0.805ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m
[0m[33m[5.054ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'wallets'

2026/01/15 10:17:40 [32m
[0m[33m[0.737ms] [34;1m[rows:-][0m SELECT * FROM "wallets" LIMIT 5

2026/01/15 10:17:40 [32m
[0m[33m[7.330ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m
[0m[33m[7.184ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'wallets'

2026/01/15 10:17:40 [32m
[0m[33m[1.021ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'wallets'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.002ms] [34;1m[rows:0][0m ALTER TABLE "wallets" ALTER COLUMN "balance" SET DEFAULT 0

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.495ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'points') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'transactions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.488ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.559ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'wallets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.575ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND constraint_name = 'fk_users_wallet'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.115ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'wallets' AND indexname = 'idx_wallets_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.074ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[0.643ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[6.914ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.940ms] [34;1m[rows:-][0m SELECT * FROM "payments" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.432ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[7.449ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.163ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.914ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[3.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[3.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[3.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'external_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.496ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.379ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[2.497ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.257ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:35
[0m[33m[1.208ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.529ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.822ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.688ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.883ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.088ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.172ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.138ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.545ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.627ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.687ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.743ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.676ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.897ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.790ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.855ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.497ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.364ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:40 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.267ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.709ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.520ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.934ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.631ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.512ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.217ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.688ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.763ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.660ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.067ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.718ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.708ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.720ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.003ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.929ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.903ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.839ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.395ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.292ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.836ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.962ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.140ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.504ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.216ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.214ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.867ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.538ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.475ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.383ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.340ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.795ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.553ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.277ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.254ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.233ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.229ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.217ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.014ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.206ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.974ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.421ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.844ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.109ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.665ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.763ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.389ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.674ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.372ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.589ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.271ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:40 DEBUG: AutoMigrate Success

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:89
[0m[33m[0.878ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('6795af30-de99-4111-b90d-4d45ebc3affc','Test User','test-refund@test.com','$2a$10$placeholder','MEMBER',NULL,NULL,NULL,'2026-01-15 10:17:40.669','2026-01-15 10:17:40.669',NULL,'test-club-refund',NULL,'','','','','VALID','2027-01-15 10:17:40.669',NULL,'',NULL)

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:92
[0m[33m[1.438ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('6795af30-de99-4111-b90d-4d45ebc3affc',0,0,0,1,0,0,0,NULL,0,'2026-01-15 10:17:40.669','2026-01-15 10:17:40.669') RETURNING "id"

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:93
[0m[33m[1.221ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('6795af30-de99-4111-b90d-4d45ebc3affc',0,0,NULL,'2026-01-15 10:17:40.671','2026-01-15 10:17:40.671') RETURNING "id"

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/cancellation_refund_e2e_test.go:112
[0m[33m[0.983ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('63de51b0-2f8c-4e13-a844-720a313f2896','Test Court','','CANCHA','active',10,100,'08:00','22:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-refund','2026-01-15 10:17:40.672','2026-01-15 10:17:40.672')

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[1.195ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '63de51b0-2f8c-4e13-a844-720a313f2896' AND club_id = 'test-club-refund' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[1.122ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'test-club-refund' AND facility_id = '63de51b0-2f8c-4e13-a844-720a313f2896' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-17 14:00:00' AND end_time > '2026-01-17 13:00:00'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[1.249ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '63de51b0-2f8c-4e13-a844-720a313f2896' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-17 14:00:00' AND end_time > '2026-01-17 13:00:00')

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.914ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = '6795af30-de99-4111-b90d-4d45ebc3affc'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.802ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = '6795af30-de99-4111-b90d-4d45ebc3affc'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[3.086ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = '6795af30-de99-4111-b90d-4d45ebc3affc' AND club_id = 'test-club-refund') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[0.821ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('a8304a36-1bdc-4331-905a-88e12f6321c3','test-club-refund','6795af30-de99-4111-b90d-4d45ebc3affc','63de51b0-2f8c-4e13-a844-720a313f2896','2026-01-17 13:00:00','2026-01-17 14:00:00','100','PENDING_PAYMENT','[]','2026-01-15 10:32:40.68','2026-01-15 10:17:40.68','2026-01-15 10:17:40.68')

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[0.839ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','COMPLETED','','mp-ext-12345','test-club-refund','00000000-0000-0000-0000-000000000000','a8304a36-1bdc-4331-905a-88e12f6321c3','BOOKING','',NULL,'2026-01-15 10:17:40.682','2026-01-15 10:17:40.682',NULL,'fdff2a2c-58e7-4320-bc13-0a7d5f8ce145') RETURNING "id"

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[0.811ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-refund',"user_id"='6795af30-de99-4111-b90d-4d45ebc3affc',"facility_id"='63de51b0-2f8c-4e13-a844-720a313f2896',"start_time"='2026-01-17 13:00:00',"end_time"='2026-01-17 14:00:00',"total_price"='100',"status"='CONFIRMED',"guest_details"='[]',"payment_expiry"='2026-01-15 10:32:40.68',"created_at"='2026-01-15 10:17:40.68',"updated_at"='2026-01-15 10:17:40.683' WHERE "id" = 'a8304a36-1bdc-4331-905a-88e12f6321c3'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.777ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = 'a8304a36-1bdc-4331-905a-88e12f6321c3' AND club_id = 'test-club-refund' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[0.860ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-refund',"user_id"='6795af30-de99-4111-b90d-4d45ebc3affc',"facility_id"='63de51b0-2f8c-4e13-a844-720a313f2896',"start_time"='2026-01-17 13:00:00',"end_time"='2026-01-17 14:00:00',"total_price"='100',"status"='CANCELLED',"guest_details"='[]',"payment_expiry"='2026-01-15 13:32:40.68',"created_at"='2026-01-15 13:17:40.68',"updated_at"='2026-01-15 10:17:40.684' WHERE "id" = 'a8304a36-1bdc-4331-905a-88e12f6321c3'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:93
[0m[33m[0.933ms] [34;1m[rows:1][0m SELECT count(*) FROM "payments" WHERE club_id = 'test-club-refund' AND status = 'COMPLETED' AND "payments"."deleted_at" IS NULL

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:106
[0m[33m[0.996ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE club_id = 'test-club-refund' AND status = 'COMPLETED' AND "payments"."deleted_at" IS NULL ORDER BY created_at DESC

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[0.995ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='mp-ext-12345',"paid_at"=NULL,"status"='REFUNDED',"updated_at"='2026-01-15 13:17:40.682' WHERE (id = 'fdff2a2c-58e7-4320-bc13-0a7d5f8ce145' AND club_id = 'test-club-refund') AND "payments"."deleted_at" IS NULL

2026/01/15 10:17:40 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:129 [35;1mrecord not found
[0m[33m[0.892ms] [34;1m[rows:0][0m SELECT * FROM "waitlists" WHERE club_id = 'test-club-refund' AND resource_id = '63de51b0-2f8c-4e13-a844-720a313f2896' AND target_date = '2026-01-17 13:00:00' AND status = 'PENDING' ORDER BY created_at asc,"waitlists"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:93
[0m[33m[0.786ms] [34;1m[rows:1][0m SELECT count(*) FROM "payments" WHERE club_id = 'test-club-refund' AND "payments"."deleted_at" IS NULL

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:106
[0m[33m[0.843ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE club_id = 'test-club-refund' AND "payments"."deleted_at" IS NULL ORDER BY created_at DESC
--- PASS: TestCancellationRefundFlow (0.56s)
=== RUN   TestFacilitiesFlow

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:28
[0m[33m[1.767ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "equipment" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:28
[0m[33m[1.898ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "facilities" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[1.174ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[5.985ms] [34;1m[rows:0][0m CREATE TABLE "facilities" ("id" text,"name" text NOT NULL,"description" text,"type" text NOT NULL,"status" text DEFAULT 'active',"capacity" bigint NOT NULL,"hourly_rate" decimal NOT NULL,"opening_time" text DEFAULT '08:00',"closing_time" text DEFAULT '23:00',"guest_fee" decimal DEFAULT 0,"specifications" jsonb,"location" jsonb,"club_id" text NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:40 [32m
[0m[33m[2.401ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_facilities_club_id" ON "facilities" ("club_id")

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[1.287ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/facilities_flow_test.go:29
[0m[33m[4.858ms] [34;1m[rows:0][0m CREATE TABLE "equipment" ("id" text,"facility_id" text,"name" text,"type" text,"condition" text,"status" text,"is_available" boolean,"purchase_date" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))
2026/01/15 10:17:40 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.318ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.767ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.077ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.008ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.062ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.923ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.054ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.593ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.454ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.460ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.463ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.355ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.911ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.603ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.785ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.570ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.048ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.708ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.398ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.124ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.730ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.684ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.838ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.510ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.374ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.188ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.417ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.411ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.699ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.733ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.725ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.029ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.689ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.642ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.555ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.967ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.434ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.440ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.528ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.391ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.613ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.763ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.149ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.358ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.946ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[9.165ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.389ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.869ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.862ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.479ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.547ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.872ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.156ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.702ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.512ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.831ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_equipment_facility_id" ON "equipment" ("facility_id")
2026/01/15 10:17:40 DEBUG: AutoMigrate Success
=== RUN   TestFacilitiesFlow/Create_Facility

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:70
[0m[33m[3.117ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('f4ceca9c-1e64-4c73-99d2-c26121b9a111','Tennis Court 1','Professional hard court','TENNIS','active',4,500,'08:00','23:00',0,'{"lighting":false,"covered":false}','{"name":""}','test-club-facilities','2026-01-15 10:17:40.904','2026-01-15 10:17:40.904')
[GIN] 2026/01/15 - 10:17:40 | 201 |    4.179389ms |                 | POST     "/api/v1/facilities"
=== RUN   TestFacilitiesFlow/List_Facilities

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:87
[0m[33m[1.032ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE club_id = 'test-club-facilities' LIMIT 10
[GIN] 2026/01/15 - 10:17:40 | 200 |    2.622269ms |                 | GET      "/api/v1/facilities"
=== RUN   TestFacilitiesFlow/Update_Facility

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.895ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = 'f4ceca9c-1e64-4c73-99d2-c26121b9a111' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:118
[0m[33m[3.341ms] [34;1m[rows:1][0m UPDATE "facilities" SET "name"='Tennis Court 1 (Updated)',"description"='Professional hard court',"type"='TENNIS',"status"='active',"capacity"=4,"hourly_rate"=500,"opening_time"='08:00',"closing_time"='23:00',"guest_fee"=0,"specifications"='{"lighting":false,"covered":false}',"location"='{"name":""}',"club_id"='test-club-facilities',"created_at"='2026-01-15 13:17:40.904',"updated_at"='2026-01-15 10:17:40.913' WHERE "id" = 'f4ceca9c-1e64-4c73-99d2-c26121b9a111'
[GIN] 2026/01/15 - 10:17:40 | 200 |    6.185152ms |                 | PUT      "/api/v1/facilities/f4ceca9c-1e64-4c73-99d2-c26121b9a111"

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = 'f4ceca9c-1e64-4c73-99d2-c26121b9a111' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1
=== RUN   TestFacilitiesFlow/Add_Equipment

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[1.804ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = 'f4ceca9c-1e64-4c73-99d2-c26121b9a111' AND club_id = 'test-club-facilities' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:284
[0m[33m[4.339ms] [34;1m[rows:1][0m INSERT INTO "equipment" ("id","facility_id","name","type","condition","status","purchase_date","created_at","updated_at") VALUES ('e684ef58-a40f-476e-80c9-391a2042e775','f4ceca9c-1e64-4c73-99d2-c26121b9a111','Tennis Racket pro','TENNIS_RACKET','excellent','available',NULL,'2026-01-15 10:17:40.92','2026-01-15 10:17:40.92')
[GIN] 2026/01/15 - 10:17:40 | 201 |    6.402635ms |                 | POST     "/api/v1/facilities/f4ceca9c-1e64-4c73-99d2-c26121b9a111/equipment"
--- PASS: TestFacilitiesFlow (0.23s)
    --- PASS: TestFacilitiesFlow/Create_Facility (0.00s)
    --- PASS: TestFacilitiesFlow/List_Facilities (0.00s)
    --- PASS: TestFacilitiesFlow/Update_Facility (0.01s)
    --- PASS: TestFacilitiesFlow/Add_Equipment (0.01s)
=== RUN   TestMembershipFlow

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[3.615ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[1.997ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[2.079ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[2.203ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "membership_tiers" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:35
[0m[33m[2.489ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "memberships" CASCADE

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.305ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[4.836ms] [34;1m[rows:0][0m CREATE TABLE "membership_tiers" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"name" varchar(255) NOT NULL,"description" text,"monthly_fee" decimal(10,2) NOT NULL,"duration_days" bigint,"colors" varchar(50),"benefits" text[],"is_active" boolean DEFAULT true,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:40 [32m
[0m[33m[2.529ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_deleted_at" ON "membership_tiers" ("deleted_at")

2026/01/15 10:17:40 [32m
[0m[33m[2.177ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_membership_tiers_club_id" ON "membership_tiers" ("club_id")

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.279ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[4.539ms] [34;1m[rows:0][0m CREATE TABLE "memberships" ("id" uuid DEFAULT gen_random_uuid(),"club_id" text NOT NULL,"user_id" uuid NOT NULL,"membership_tier_id" uuid NOT NULL,"status" text NOT NULL DEFAULT 'PENDING',"billing_cycle" text NOT NULL DEFAULT 'MONTHLY',"auto_renew" boolean NOT NULL DEFAULT true,"start_date" timestamptz NOT NULL,"end_date" timestamptz,"next_billing_date" timestamptz NOT NULL,"outstanding_balance" decimal(10,2) DEFAULT '0',"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_memberships_membership_tier" FOREIGN KEY ("membership_tier_id") REFERENCES "membership_tiers"("id"))

2026/01/15 10:17:40 [32m
[0m[33m[2.523ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_deleted_at" ON "memberships" ("deleted_at")

2026/01/15 10:17:40 [32m
[0m[33m[2.600ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_user_id" ON "memberships" ("user_id")

2026/01/15 10:17:40 [32m
[0m[33m[2.618ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_memberships_club_id" ON "memberships" ("club_id")

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[1.564ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:36
[0m[33m[4.892ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:40 [32m
[0m[33m[2.707ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:40 [32m
[0m[33m[2.598ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:40 [32m
[0m[33m[2.897ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:40 [32m
[0m[33m[2.071ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.232ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND table_type = 'BASE TABLE'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.726ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[5.611ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers'

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.959ms] [34;1m[rows:-][0m SELECT * FROM "membership_tiers" LIMIT 5

2026/01/15 10:17:40 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.981ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'membership_tiers' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.907ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'membership_tiers'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.076ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'membership_tiers'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.766ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.677ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'monthly_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.756ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'duration_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.575ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'colors') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.599ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'benefits') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.406ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.478ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.433ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.671ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'membership_tiers' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'membership_tiers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.432ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'membership_tiers' AND indexname = 'idx_membership_tiers_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.339ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'membership_tiers' AND indexname = 'idx_membership_tiers_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.188ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.688ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[5.738ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'memberships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[0.925ms] [34;1m[rows:-][0m SELECT * FROM "memberships" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[7.956ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'memberships' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[11.432ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'memberships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.720ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'memberships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.722ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.990ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.652ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.967ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'membership_tier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.976ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.894ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.816ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.550ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'start_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.729ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'end_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.682ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.869ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'outstanding_balance') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.606ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.545ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[3.596ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'memberships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.445ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'memberships' AND constraint_name = 'fk_memberships_membership_tier'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.818ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[2.581ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:20
[0m[33m[1.804ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'memberships' AND indexname = 'idx_memberships_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.723ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[0.839ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[6.079ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.082ms] [34;1m[rows:-][0m SELECT * FROM "scholarships" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[8.824ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'scholarships' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[8.310ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'scholarships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.214ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'scholarships'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.727ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.817ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.849ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[3.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[4.066ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'grantor_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[4.099ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'valid_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[4.470ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[3.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[2.873ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'scholarships' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'scholarships' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:18
[0m[33m[1.484ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'scholarships' AND indexname = 'idx_scholarships_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.303ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.338ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.754ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.113ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.941ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[9.715ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.823ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.436ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.125ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.778ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m
[0m[33m[0.829ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m
[0m[33m[6.760ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[0.953ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m
[0m[33m[8.581ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m
[0m[33m[10.215ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[1.213ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.292ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.991ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.893ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.046ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m
[0m[33m[1.146ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m
[0m[33m[7.005ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[0.960ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m
[0m[33m[8.597ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m
[0m[33m[8.473ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[1.117ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[9.948ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.658ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.545ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m
[0m[33m[0.894ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m
[0m[33m[6.889ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[1.197ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m
[0m[33m[8.910ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m
[0m[33m[8.902ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[1.227ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.218ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "club_id" DROP NOT NULL

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.562ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.394ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "google_id" text

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.100ms] [34;1m[rows:0][0m ALTER TABLE "users" ADD "avatar_url" text

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.572ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.666ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.564ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.440ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.961ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email" ON "users" ("email")

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.571ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.491ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.420ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.514ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_google_id" ON "users" ("google_id")

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.593ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.448ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.821ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.269ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.896ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.545ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.971ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.102ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.599ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.738ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.597ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.868ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.757ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.863ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.907ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.878ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.806ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.425ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.415ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.225ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.751ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.195ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.874ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.883ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.052ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.322ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.584ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.750ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.738ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.857ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.135ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.940ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.784ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.596ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.593ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.277ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115 [35;1mrecord not found
[0m[33m[1.050ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (email = 'mem_test_74daf37f-3e43-451f-8d02-e42cc53276cf@example.com' AND club_id = 'test-club-membership') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:105
[0m[33m[3.074ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","created_at","updated_at","date_of_birth","parent_id","club_id","google_id","avatar_url","deleted_at","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('e713d9de-d919-4f42-b6a4-1d53179e05e4','Mem User','mem_test_74daf37f-3e43-451f-8d02-e42cc53276cf@example.com','$2a$10$/5kHj.xeOvaMO69nEgLz0uWgVhiN1Cx.Y6BqGtw.YkYFiljfl0rki','MEMBER','2026-01-15 10:17:41.541','2026-01-15 10:17:41.541',NULL,NULL,'test-club-membership','','',NULL,'2026-01-15 10:17:41.541','2026-01',NULL)

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:183
[0m[33m[2.266ms] [34;1m[rows:1][0m INSERT INTO "refresh_tokens" ("id","user_id","device_id","token","expires_at","is_revoked","revoked_at","created_at","updated_at") VALUES ('bfcc98b0-a49b-4da5-a102-1b50ba0e238a','e713d9de-d919-4f42-b6a4-1d53179e05e4','','423ea0c863ec68603daec29e796065b5c17c30c521f609cbc8cb8f3fd9b3d7e3','2026-02-14 10:17:41.545',false,NULL,'2026-01-15 10:17:41.545','2026-01-15 10:17:41.545')

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:115
[0m[33m[0.876ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (email = 'mem_test_74daf37f-3e43-451f-8d02-e42cc53276cf@example.com' AND club_id = 'test-club-membership') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:89
[0m[33m[2.444ms] [34;1m[rows:1][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-membership','Gold','Gold Tier','100',NULL,'',NULL,true,'2026-01-15 10:17:41.548','2026-01-15 10:17:41.548',NULL,'f12cfbc4-70c7-420c-97a2-d240e9fdbd8b') RETURNING "id"
=== RUN   TestMembershipFlow/Purchase_Success

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:71
[0m[33m[0.796ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE (id = 'f12cfbc4-70c7-420c-97a2-d240e9fdbd8b' AND club_id = 'test-club-membership') AND "membership_tiers"."deleted_at" IS NULL ORDER BY "membership_tiers"."id" LIMIT 1

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[0.744ms] [34;1m[rows:0][0m INSERT INTO "membership_tiers" ("club_id","name","description","monthly_fee","duration_days","colors","benefits","is_active","created_at","updated_at","deleted_at","id") VALUES ('test-club-membership','Gold','Gold Tier','100',NULL,'',NULL,true,'2026-01-15 13:17:41.548','2026-01-15 13:17:41.548',NULL,'f12cfbc4-70c7-420c-97a2-d240e9fdbd8b') ON CONFLICT DO NOTHING RETURNING "id"

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:28
[0m[33m[3.407ms] [34;1m[rows:1][0m INSERT INTO "memberships" ("club_id","user_id","membership_tier_id","status","billing_cycle","auto_renew","start_date","end_date","next_billing_date","outstanding_balance","created_at","updated_at","deleted_at") VALUES ('test-club-membership','e713d9de-d919-4f42-b6a4-1d53179e05e4','f12cfbc4-70c7-420c-97a2-d240e9fdbd8b','ACTIVE','MONTHLY',true,'2026-01-15 10:17:41.551',NULL,'2026-02-15 10:17:41.551','0','2026-01-15 10:17:41.553','2026-01-15 10:17:41.553',NULL) RETURNING "id"
=== RUN   TestMembershipFlow/Get_My_Memberships

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[0.854ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'f12cfbc4-70c7-420c-97a2-d240e9fdbd8b' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:44
[0m[33m[1.709ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (user_id = 'e713d9de-d919-4f42-b6a4-1d53179e05e4' AND club_id = 'test-club-membership') AND "memberships"."deleted_at" IS NULL
=== RUN   TestMembershipFlow/Assign_Scholarship

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:50
[0m[33m[2.543ms] [34;1m[rows:1][0m INSERT INTO "scholarships" ("user_id","percentage","reason","grantor_id","valid_until","is_active","created_at","updated_at","id") VALUES ('e713d9de-d919-4f42-b6a4-1d53179e05e4','0.5','Talented athlete','admin-id',NULL,true,'2026-01-15 10:17:41.557','2026-01-15 10:17:41.557','2abdbccb-f94b-4ca1-9ad1-34b6bbe0f4d8') RETURNING "id"
=== RUN   TestMembershipFlow/Process_Billing_with_Scholarship

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:161
[0m[33m[2.255ms] [34;1m[rows:1][0m UPDATE "memberships" SET "next_billing_date"='2026-01-14 10:17:41.559',"updated_at"='2026-01-15 10:17:41.56' WHERE user_id = 'e713d9de-d919-4f42-b6a4-1d53179e05e4' AND "memberships"."deleted_at" IS NULL

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:86
[0m[33m[0.829ms] [34;1m[rows:1][0m SELECT * FROM "membership_tiers" WHERE "membership_tiers"."id" = 'f12cfbc4-70c7-420c-97a2-d240e9fdbd8b' AND "membership_tiers"."deleted_at" IS NULL

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:86
[0m[33m[1.876ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE (status = 'ACTIVE' AND next_billing_date <= '2026-01-15 10:17:41.562' AND club_id = 'test-club-membership') AND "memberships"."deleted_at" IS NULL

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres_scholarship.go:89
[0m[33m[0.837ms] [34;1m[rows:1][0m SELECT * FROM "scholarships" WHERE (user_id IN ('e713d9de-d919-4f42-b6a4-1d53179e05e4') AND is_active = true) AND (valid_until IS NULL OR valid_until > '2026-01-15 10:17:41.564')

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/membership/infrastructure/repository/postgres.go:180
[0m[33m[1.426ms] [34;1m[rows:1][0m 
		UPDATE memberships AS m 
		SET 
			outstanding_balance = v.balance,
			next_billing_date = v.next_billing,
			updated_at = NOW()
		FROM (VALUES 
	('97a38515-9cb5-4d4d-a22c-0ee9565f5e16'::uuid, '50'::numeric, '2026-02-14 13:17:41.559'::timestamp)) AS v(id, balance, next_billing) WHERE m.id = v.id::uuid

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/membership_flow_test.go:175
[0m[33m[0.783ms] [34;1m[rows:1][0m SELECT * FROM "memberships" WHERE user_id = 'e713d9de-d919-4f42-b6a4-1d53179e05e4' AND "memberships"."deleted_at" IS NULL ORDER BY "memberships"."id" LIMIT 1
--- PASS: TestMembershipFlow (0.64s)
    --- PASS: TestMembershipFlow/Purchase_Success (0.00s)
    --- PASS: TestMembershipFlow/Get_My_Memberships (0.00s)
    --- PASS: TestMembershipFlow/Assign_Scholarship (0.00s)
    --- PASS: TestMembershipFlow/Process_Billing_with_Scholarship (0.01s)
=== RUN   TestMultiTenantIsolation

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:31
[0m[33m[5.713ms] [34;1m[rows:0][0m TRUNCATE TABLE bookings CASCADE

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[0.795ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[6.019ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[0.812ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[8.096ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[7.865ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.023ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.437ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m
[0m[33m[0.762ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m
[0m[33m[5.797ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[0.835ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m
[0m[33m[7.767ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m
[0m[33m[7.834ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[0.976ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.354ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" DROP DEFAULT

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.295ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m
[0m[33m[0.771ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m
[0m[33m[5.795ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[0.874ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m
[0m[33m[7.604ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m
[0m[33m[8.363ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[1.286ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m
[0m[33m[12.186ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE date USING "date_of_birth"::date

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.730ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.401ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.299ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.445ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.272ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.429ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.516ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.661ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[2.826ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.392ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.299ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.383ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.250ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.326ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[6.878ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:41 [32m
[0m[33m[2.196ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[1.158ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:33
[0m[33m[4.682ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:41 [32m
[0m[33m[2.286ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.262ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.725ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[5.432ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.780ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.909ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[7.619ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.127ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.451ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.692ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.403ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.331ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.389ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.542ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.471ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.230ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:41 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.160ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.680ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.487ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.752ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.512ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.093ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.412ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.577ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.478ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.160ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.044ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.694ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.272ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.177ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[8.036ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.419ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.471ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.555ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.337ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.149ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.190ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.209ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.260ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.269ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.137ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.644ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.290ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.763ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[6.925ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.192ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.287ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.389ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[3.358ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.380ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:41 DEBUG: AutoMigrate Success

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.153ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[6.799ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.013ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.571ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[8.689ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.135ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:41 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.089ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.419ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m
[0m[33m[0.656ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m
[0m[33m[6.050ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:42 [32m
[0m[33m[0.842ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:42 [32m
[0m[33m[9.123ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m
[0m[33m[9.139ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:42 [32m
[0m[33m[1.423ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.351ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.392ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m
[0m[33m[0.652ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m
[0m[33m[5.735ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:42 [32m
[0m[33m[0.796ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:42 [32m
[0m[33m[8.490ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m
[0m[33m[8.347ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:42 [32m
[0m[33m[1.048ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:42 [32m
[0m[33m[12.469ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "date_of_birth" TYPE timestamptz USING "date_of_birth"::timestamptz

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.432ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.448ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'google_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.272ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.166ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.278ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.290ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.102ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_google_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.404ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.086ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.858ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[5.117ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.754ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.281ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.161ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.039ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.711ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.366ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.410ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.134ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.337ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.185ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_device_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.290ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.156ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.644ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[4.986ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[0.813ms] [34;1m[rows:-][0m SELECT * FROM "auth_logs" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.415ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[7.543ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'auth_logs'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.107ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'auth_logs'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.365ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.621ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[3.585ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.677ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.514ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[2.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'auth_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'auth_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.464ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/auth/infrastructure/repository/postgres.go:22
[0m[33m[1.227ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'auth_logs' AND indexname = 'idx_auth_logs_type' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:73
[0m[33m[0.947ms] [34;1m[rows:0][0m DELETE FROM users WHERE email = 'test-multi@test.com'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:88
[0m[33m[5.011ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('c8a74828-b59d-49c6-9148-4d567b0a616a','Test User A','test-multi@test.com','$2a$10$placeholder','MEMBER',NULL,NULL,NULL,'2026-01-15 10:17:42.206','2026-01-15 10:17:42.206',NULL,'club-a',NULL,'','','','','VALID','2027-01-15 10:17:42.205','2027-01-15 10:17:42.205','2026-01',NULL)

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:91
[0m[33m[3.043ms] [34;1m[rows:1][0m INSERT INTO "user_stats" ("user_id","matches_played","matches_won","ranking_points","level","experience","current_streak","longest_streak","last_activity_date","total_xp","created_at","updated_at") VALUES ('c8a74828-b59d-49c6-9148-4d567b0a616a',0,0,0,1,0,0,0,NULL,0,'2026-01-15 10:17:42.212','2026-01-15 10:17:42.212') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:92
[0m[33m[2.977ms] [34;1m[rows:1][0m INSERT INTO "wallets" ("user_id","balance","points","transactions","created_at","updated_at") VALUES ('c8a74828-b59d-49c6-9148-4d567b0a616a',0,0,NULL,'2026-01-15 10:17:42.215','2026-01-15 10:17:42.215') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:96
[0m[33m[0.803ms] [34;1m[rows:0][0m DELETE FROM facilities WHERE id = '750e4b74-9adc-44b0-9992-d496d2a87041'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/multi_tenant_test.go:112
[0m[33m[3.429ms] [34;1m[rows:1][0m INSERT INTO "facilities" ("id","name","description","type","status","capacity","hourly_rate","opening_time","closing_time","guest_fee","specifications","location","club_id","created_at","updated_at") VALUES ('750e4b74-9adc-44b0-9992-d496d2a87041','Test Court A','','CANCHA','active',10,0,'08:00','22:00',0,'{"lighting":false,"covered":false}','{"name":""}','club-a','2026-01-15 10:17:42.218','2026-01-15 10:17:42.218')

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:75
[0m[33m[0.887ms] [34;1m[rows:1][0m SELECT * FROM "facilities" WHERE id = '750e4b74-9adc-44b0-9992-d496d2a87041' AND club_id = 'club-a' ORDER BY "facilities"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:66
[0m[33m[1.150ms] [34;1m[rows:1][0m SELECT count(*) FROM "bookings" WHERE club_id = 'club-a' AND facility_id = '750e4b74-9adc-44b0-9992-d496d2a87041' AND status IN ('CONFIRMED','PENDING_PAYMENT') AND start_time < '2026-01-16 14:17:42' AND end_time > '2026-01-16 13:17:42'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:262
[0m[33m[0.945ms] [34;1m[rows:1][0m SELECT count(*) FROM "maintenance_tasks" WHERE facility_id = '750e4b74-9adc-44b0-9992-d496d2a87041' AND status IN ('scheduled','in_progress') AND (start_time < '2026-01-16 14:17:42' AND end_time > '2026-01-16 13:17:42')

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.792ms] [34;1m[rows:1][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'c8a74828-b59d-49c6-9148-4d567b0a616a'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.844ms] [34;1m[rows:1][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'c8a74828-b59d-49c6-9148-4d567b0a616a'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.699ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'c8a74828-b59d-49c6-9148-4d567b0a616a' AND club_id = 'club-a') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:22
[0m[33m[2.827ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('e1b7deb5-708a-4676-a37f-2b1b09a52257','club-a','c8a74828-b59d-49c6-9148-4d567b0a616a','750e4b74-9adc-44b0-9992-d496d2a87041','2026-01-16 13:17:42','2026-01-16 14:17:42','0','CONFIRMED','[]',NULL,'2026-01-15 10:17:42.228','2026-01-15 10:17:42.228')

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:46
[0m[33m[0.938ms] [34;1m[rows:0][0m SELECT * FROM "bookings" WHERE club_id = 'club-b' AND user_id = '85445b61-0d8c-489c-a4c8-9ab97f36ef3f' ORDER BY start_time desc
--- PASS: TestMultiTenantIsolation (0.67s)
=== RUN   TestOddTeamsFixtureGeneration

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.291ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "teams" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.994ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_matches" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.500ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "standings" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[2.234ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "groups" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[3.589ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "tournament_stages" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:25
[0m[33m[1.992ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "championships" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.531ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'championships' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[6.268ms] [34;1m[rows:0][0m CREATE TABLE "championships" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" uuid NOT NULL,"name" text NOT NULL,"description" text,"sport" text NOT NULL,"category" text,"status" text DEFAULT 'DRAFT',"start_date" timestamptz,"end_date" timestamptz,"logo_url" text,"created_at" timestamptz,"updated_at" timestamptz,"settings" JSONB DEFAULT '{}',PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[3.302ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_championships_club_id" ON "championships" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.351ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_stages' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[5.238ms] [34;1m[rows:0][0m CREATE TABLE "tournament_stages" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"order" bigint NOT NULL,"name" text NOT NULL,"type" text NOT NULL,"status" text DEFAULT 'PENDING',PRIMARY KEY ("id"),CONSTRAINT "fk_championships_stages" FOREIGN KEY ("tournament_id") REFERENCES "championships"("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.350ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_stages_tournament_id" ON "tournament_stages" ("tournament_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.345ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'groups' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[5.262ms] [34;1m[rows:0][0m CREATE TABLE "groups" ("id" uuid DEFAULT uuid_generate_v4(),"stage_id" uuid NOT NULL,"name" text NOT NULL,PRIMARY KEY ("id"),CONSTRAINT "fk_tournament_stages_groups" FOREIGN KEY ("stage_id") REFERENCES "tournament_stages"("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.245ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_groups_stage_id" ON "groups" ("stage_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.262ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'standings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[4.437ms] [34;1m[rows:0][0m CREATE TABLE "standings" ("id" uuid DEFAULT uuid_generate_v4(),"group_id" uuid NOT NULL,"team_id" uuid NOT NULL,"points" decimal,"played" bigint,"won" bigint,"drawn" bigint,"lost" bigint,"goals_for" decimal,"goals_against" decimal,"goal_difference" decimal,"position" bigint,"updated_at" timestamptz,"team_name" text,PRIMARY KEY ("id"),CONSTRAINT "fk_groups_standings" FOREIGN KEY ("group_id") REFERENCES "groups"("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.193ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_team_id" ON "standings" ("team_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.247ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_standings_group_id" ON "standings" ("group_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.390ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tournament_matches' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[4.494ms] [34;1m[rows:0][0m CREATE TABLE "tournament_matches" ("id" uuid DEFAULT uuid_generate_v4(),"tournament_id" uuid NOT NULL,"stage_id" uuid NOT NULL,"group_id" uuid,"home_team_id" uuid NOT NULL,"away_team_id" uuid NOT NULL,"home_score" decimal,"away_score" decimal,"booking_id" uuid,"status" text DEFAULT 'SCHEDULED',"date" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.499ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_booking_id" ON "tournament_matches" ("booking_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.214ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_away_team_id" ON "tournament_matches" ("away_team_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.078ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_home_team_id" ON "tournament_matches" ("home_team_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.219ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_group_id" ON "tournament_matches" ("group_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.344ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_stage_id" ON "tournament_matches" ("stage_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.157ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_tournament_matches_tournament_id" ON "tournament_matches" ("tournament_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[1.377ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'teams' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:26
[0m[33m[4.012ms] [34;1m[rows:0][0m CREATE TABLE "teams" ("id" uuid DEFAULT uuid_generate_v4(),"name" text NOT NULL,"logo_url" text,"contact" text,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:43
[0m[33m[3.392ms] [34;1m[rows:1][0m INSERT INTO "championships" ("club_id","name","description","sport","category","status","start_date","end_date","logo_url","created_at","updated_at","id") VALUES ('4ea52d10-536f-4f61-81f5-6d799dada1bf','Odd Cup','','','','ACTIVE','0000-00-00 00:00:00',NULL,'','2026-01-15 10:17:42.314','2026-01-15 10:17:42.314','2b8ca251-dc27-4273-8971-65f5b6f04dc5') RETURNING "id","settings"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:46
[0m[33m[4.614ms] [34;1m[rows:1][0m INSERT INTO "tournament_stages" ("tournament_id","order","name","type","status","id") VALUES ('2b8ca251-dc27-4273-8971-65f5b6f04dc5',0,'Group Phase','GROUP','ACTIVE','e1e39132-abb2-4a3e-967f-6d3b5e814f78') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:49
[0m[33m[3.544ms] [34;1m[rows:1][0m INSERT INTO "groups" ("stage_id","name","id") VALUES ('e1e39132-abb2-4a3e-967f-6d3b5e814f78','Group A','28db111d-3d86-4453-94d2-519d0f4fcb4d') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[3.115ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('28db111d-3d86-4453-94d2-519d0f4fcb4d','4d60e4fe-e1bb-4df5-adfa-77b528493447',0,0,0,0,0,0,0,0,0,'2026-01-15 10:17:42.326','70a071bc-49b9-43bc-909f-d4cc588a3acc') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[2.819ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('28db111d-3d86-4453-94d2-519d0f4fcb4d','b65ce7bb-372a-4fae-bc89-d64042e1b765',0,0,0,0,0,0,0,0,0,'2026-01-15 10:17:42.329','e421b04c-a9f9-4b36-9c37-68af3bb2cb51') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:55
[0m[33m[2.796ms] [34;1m[rows:1][0m INSERT INTO "standings" ("group_id","team_id","points","played","won","drawn","lost","goals_for","goals_against","goal_difference","position","updated_at","id") VALUES ('28db111d-3d86-4453-94d2-519d0f4fcb4d','9864c921-895d-46e6-87c7-e5cb4776c238',0,0,0,0,0,0,0,0,0,'2026-01-15 10:17:42.332','bd7843d2-16e7-477e-933b-4a9b74f7940f') RETURNING "id"
=== RUN   TestOddTeamsFixtureGeneration/Generate_Fixture_with_3_Teams

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:159
[0m[33m[1.570ms] [34;1m[rows:3][0m SELECT standings.*, teams.name as team_name FROM "standings" JOIN groups ON groups.id = standings.group_id JOIN tournament_stages ON tournament_stages.id = groups.stage_id JOIN championships ON championships.id = tournament_stages.tournament_id LEFT JOIN teams ON teams.id = standings.team_id WHERE standings.group_id = '28db111d-3d86-4453-94d2-519d0f4fcb4d' AND championships.club_id = '4ea52d10-536f-4f61-81f5-6d799dada1bf' ORDER BY standings.points DESC, standings.goal_difference DESC, standings.goals_for DESC

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:67
[0m[33m[1.092ms] [34;1m[rows:3][0m SELECT * FROM "standings" WHERE "standings"."group_id" = '28db111d-3d86-4453-94d2-519d0f4fcb4d'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:67
[0m[33m[2.337ms] [34;1m[rows:1][0m SELECT "groups"."id","groups"."stage_id","groups"."name" FROM "groups" JOIN tournament_stages ON tournament_stages.id = groups.stage_id JOIN championships ON championships.id = tournament_stages.tournament_id WHERE groups.id = '28db111d-3d86-4453-94d2-519d0f4fcb4d' AND championships.club_id = '4ea52d10-536f-4f61-81f5-6d799dada1bf' ORDER BY "groups"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:52
[0m[33m[1.051ms] [34;1m[rows:1][0m SELECT "tournament_stages"."id","tournament_stages"."tournament_id","tournament_stages"."order","tournament_stages"."name","tournament_stages"."type","tournament_stages"."status" FROM "tournament_stages" JOIN championships ON championships.id = tournament_stages.tournament_id WHERE tournament_stages.id = 'e1e39132-abb2-4a3e-967f-6d3b5e814f78' AND championships.club_id = '4ea52d10-536f-4f61-81f5-6d799dada1bf' ORDER BY "tournament_stages"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[1.352ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('2b8ca251-dc27-4273-8971-65f5b6f04dc5','e1e39132-abb2-4a3e-967f-6d3b5e814f78','28db111d-3d86-4453-94d2-519d0f4fcb4d','4d60e4fe-e1bb-4df5-adfa-77b528493447','b65ce7bb-372a-4fae-bc89-d64042e1b765',NULL,NULL,NULL,'SCHEDULED','2026-01-16 10:17:42.339','757fef27-6a45-48e9-9e59-c1d548b4c03a') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.974ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('2b8ca251-dc27-4273-8971-65f5b6f04dc5','e1e39132-abb2-4a3e-967f-6d3b5e814f78','28db111d-3d86-4453-94d2-519d0f4fcb4d','4d60e4fe-e1bb-4df5-adfa-77b528493447','9864c921-895d-46e6-87c7-e5cb4776c238',NULL,NULL,NULL,'SCHEDULED','2026-01-16 10:17:42.339','7f306d06-ebd3-450d-96c8-6be04e515546') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/championship/infrastructure/repository/postgres.go:80
[0m[33m[0.931ms] [34;1m[rows:1][0m INSERT INTO "tournament_matches" ("tournament_id","stage_id","group_id","home_team_id","away_team_id","home_score","away_score","booking_id","status","date","id") VALUES ('2b8ca251-dc27-4273-8971-65f5b6f04dc5','e1e39132-abb2-4a3e-967f-6d3b5e814f78','28db111d-3d86-4453-94d2-519d0f4fcb4d','b65ce7bb-372a-4fae-bc89-d64042e1b765','9864c921-895d-46e6-87c7-e5cb4776c238',NULL,NULL,NULL,'SCHEDULED','2026-01-16 10:17:42.339','6a151c44-26cc-438e-b0e8-3e37321289c2') RETURNING "id"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/odd_teams_fixture_test.go:78
[0m[33m[0.988ms] [34;1m[rows:3][0m SELECT * FROM "tournament_matches" WHERE group_id = '28db111d-3d86-4453-94d2-519d0f4fcb4d'
--- PASS: TestOddTeamsFixtureGeneration (0.11s)
    --- PASS: TestOddTeamsFixtureGeneration/Generate_Fixture_with_3_Teams (0.01s)
=== RUN   TestPaymentFailureFlow

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:70
[0m[33m[2.263ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "bookings" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:70
[0m[33m[2.759ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "payments" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[1.483ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[5.012ms] [34;1m[rows:0][0m CREATE TABLE "payments" ("id" uuid DEFAULT gen_random_uuid(),"amount" decimal(10,2) NOT NULL,"currency" text NOT NULL DEFAULT 'ARS',"status" text NOT NULL DEFAULT 'PENDING',"method" text NOT NULL,"external_id" text,"club_id" text,"payer_id" uuid NOT NULL,"reference_id" uuid,"reference_type" text,"notes" text,"paid_at" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.844ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_deleted_at" ON "payments" ("deleted_at")

2026/01/15 10:17:42 [32m
[0m[33m[2.481ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_reference_id" ON "payments" ("reference_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.983ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_payer_id" ON "payments" ("payer_id")

2026/01/15 10:17:42 [32m
[0m[33m[3.331ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_club_id" ON "payments" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[1.504ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:71
[0m[33m[7.037ms] [34;1m[rows:0][0m CREATE TABLE "bookings" ("id" uuid,"club_id" text NOT NULL,"user_id" uuid NOT NULL,"facility_id" uuid NOT NULL,"start_time" timestamptz NOT NULL,"end_time" timestamptz NOT NULL,"total_price" decimal(10,2) DEFAULT '0',"status" varchar(20) DEFAULT 'CONFIRMED',"guest_details" jsonb,"payment_expiry" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.948ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_payment_expiry" ON "bookings" ("payment_expiry")

2026/01/15 10:17:42 [32m
[0m[33m[3.817ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_bookings_club_id" ON "bookings" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.421ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.833ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[6.321ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'bookings'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[0.989ms] [34;1m[rows:-][0m SELECT * FROM "bookings" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[8.017ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[8.337ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'bookings'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.295ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'bookings'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.587ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.557ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.885ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.675ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.765ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.433ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'total_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.356ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[3.814ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'guest_details') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.612ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'payment_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.479ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[2.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'bookings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'bookings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.345ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:17
[0m[33m[1.212ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'bookings' AND indexname = 'idx_bookings_payment_expiry' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:42 DEBUG: Running AutoMigrate for Facilities...

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.067ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.660ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.946ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'facilities'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.858ms] [34;1m[rows:-][0m SELECT * FROM "facilities" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.937ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.675ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'facilities'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.153ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'facilities'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.372ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.379ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.493ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'hourly_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.516ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'opening_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'closing_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'guest_fee') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'specifications') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.424ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'facilities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'facilities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.249ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'facilities' AND indexname = 'idx_facilities_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.040ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.682ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.277ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.048ms] [34;1m[rows:-][0m SELECT * FROM "maintenance_tasks" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.221ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.689ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'maintenance_tasks'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.474ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'maintenance_tasks'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.506ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'equipment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.706ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.582ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.389ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'maintenance_tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'maintenance_tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.423ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_facility_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.223ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_equipment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.221ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_start_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.254ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'maintenance_tasks' AND indexname = 'idx_maintenance_tasks_end_time' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.128ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.846ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[5.806ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'equipment'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[0.849ms] [34;1m[rows:-][0m SELECT * FROM "equipment" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.353ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[7.134ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'equipment'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.043ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'equipment'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.362ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.298ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'facility_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.518ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.619ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'condition') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.409ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'purchase_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[2.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'equipment' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'equipment' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/facilities/infrastructure/repository/postgres.go:20
[0m[33m[1.222ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'equipment' AND indexname = 'idx_equipment_facility_id' AND schemaname = CURRENT_SCHEMA()
2026/01/15 10:17:42 DEBUG: AutoMigrate Success

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:98
[0m[33m[2.908ms] [34;1m[rows:1][0m INSERT INTO "bookings" ("id","club_id","user_id","facility_id","start_time","end_time","total_price","status","guest_details","payment_expiry","created_at","updated_at") VALUES ('73cc0bb1-9878-4da5-bb9f-df74f00f9033','test-club-payment','00000000-0000-0000-0000-000000000000','00000000-0000-0000-0000-000000000000','0000-00-00 00:00:00','0000-00-00 00:00:00','0','PENDING_PAYMENT','[]',NULL,'2026-01-15 10:17:42.62','2026-01-15 10:17:42.62')

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:105
[0m[33m[2.832ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','PENDING','MERCADOPAGO','12345','test-club-payment','77799c74-1116-4567-9dc4-2cfda8f6e217','73cc0bb1-9878-4da5-bb9f-df74f00f9033','BOOKING','',NULL,'2026-01-15 10:17:42.623','2026-01-15 10:17:42.623',NULL,'00000000-0000-0000-0000-000000000001') RETURNING "id"
=== RUN   TestPaymentFailureFlow/Webhook_Rejected_Update_Payment_Status

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:62
[0m[33m[0.943ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE external_id = '12345' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[2.546ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='12345',"paid_at"=NULL,"status"='FAILED',"updated_at"='2026-01-15 13:17:42.623' WHERE (id = '00000000-0000-0000-0000-000000000001' AND club_id = 'test-club-payment') AND "payments"."deleted_at" IS NULL
2026/01/15 10:17:42 Payment 00000000-0000-0000-0000-000000000001 (club: test-club-payment) updated to FAILED

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.849ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '73cc0bb1-9878-4da5-bb9f-df74f00f9033' AND club_id = 'test-club-payment' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[2.419ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-payment',"user_id"='00000000-0000-0000-0000-000000000000',"facility_id"='00000000-0000-0000-0000-000000000000',"start_time"='0000-00-00 00:00:00',"end_time"='0000-00-00 00:00:00',"total_price"='0',"status"='PENDING_PAYMENT',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 13:17:42.62',"updated_at"='2026-01-15 10:17:42.63' WHERE "id" = '73cc0bb1-9878-4da5-bb9f-df74f00f9033'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:130
[0m[33m[0.766ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE id = '00000000-0000-0000-0000-000000000001' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:135
[0m[33m[0.757ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '73cc0bb1-9878-4da5-bb9f-df74f00f9033' ORDER BY "bookings"."id" LIMIT 1
=== RUN   TestPaymentFailureFlow/Webhook_Approved_Updates_Booking_to_Confirmed

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:62
[0m[33m[0.847ms] [34;1m[rows:1][0m SELECT * FROM "payments" WHERE external_id = '12345' AND "payments"."deleted_at" IS NULL ORDER BY "payments"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:31
[0m[33m[2.574ms] [34;1m[rows:1][0m UPDATE "payments" SET "external_id"='12345',"paid_at"=NULL,"status"='COMPLETED',"updated_at"='2026-01-15 13:17:42.623' WHERE (id = '00000000-0000-0000-0000-000000000001' AND club_id = 'test-club-payment') AND "payments"."deleted_at" IS NULL
2026/01/15 10:17:42 Payment 00000000-0000-0000-0000-000000000001 (club: test-club-payment) updated to COMPLETED

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:27
[0m[33m[0.784ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '73cc0bb1-9878-4da5-bb9f-df74f00f9033' AND club_id = 'test-club-payment' ORDER BY "bookings"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/booking/infrastructure/repository/postgres.go:53
[0m[33m[2.292ms] [34;1m[rows:1][0m UPDATE "bookings" SET "club_id"='test-club-payment',"user_id"='00000000-0000-0000-0000-000000000000',"facility_id"='00000000-0000-0000-0000-000000000000',"start_time"='0000-00-00 00:00:00',"end_time"='0000-00-00 00:00:00',"total_price"='0',"status"='CONFIRMED',"guest_details"='[]',"payment_expiry"=NULL,"created_at"='2026-01-15 13:17:42.62',"updated_at"='2026-01-15 10:17:42.639' WHERE "id" = '73cc0bb1-9878-4da5-bb9f-df74f00f9033'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_failure_e2e_test.go:150
[0m[33m[2.763ms] [34;1m[rows:1][0m SELECT * FROM "bookings" WHERE id = '73cc0bb1-9878-4da5-bb9f-df74f00f9033' ORDER BY "bookings"."id" LIMIT 1
--- PASS: TestPaymentFailureFlow (0.30s)
    --- PASS: TestPaymentFailureFlow/Webhook_Rejected_Update_Payment_Status (0.01s)
    --- PASS: TestPaymentFailureFlow/Webhook_Approved_Updates_Booking_to_Confirmed (0.01s)
=== RUN   TestPaymentWebhookFlow

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:30
[0m[33m[2.137ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "payments" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:31
[0m[33m[1.271ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [31;1m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65 [35;1mrecord not found
[0m[33m[8.989ms] [34;1m[rows:0][0m SELECT * FROM "users" WHERE (id = '00000000-0000-0000-0000-000000000000' AND club_id = 'test-club-payment') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:31
[0m[33m[5.393ms] [34;1m[rows:0][0m CREATE TABLE "payments" ("id" uuid DEFAULT gen_random_uuid(),"amount" decimal(10,2) NOT NULL,"currency" text NOT NULL DEFAULT 'ARS',"status" text NOT NULL DEFAULT 'PENDING',"method" text NOT NULL,"external_id" text,"club_id" text,"payer_id" uuid NOT NULL,"reference_id" uuid,"reference_type" text,"notes" text,"paid_at" timestamptz,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[3.092ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_deleted_at" ON "payments" ("deleted_at")

2026/01/15 10:17:42 [32m
[0m[33m[2.202ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_reference_id" ON "payments" ("reference_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.396ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_payer_id" ON "payments" ("payer_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.162ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_payments_club_id" ON "payments" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[2.958ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('5000','ARS','PENDING','MERCADOPAGO','','','3a53910a-8e3f-43ba-8119-269af5eca94c','84802f3d-0b21-4f3a-bf52-f849a581f6d7','MEMBERSHIP','',NULL,'2026-01-15 10:17:42.663','2026-01-15 10:17:42.663',NULL,'b0acb1bf-b068-42f9-b42b-678847fb9b0c') RETURNING "id"
[GIN] 2026/01/15 - 10:17:42 | 200 |        3.65µs |                 | POST     "/api/v1/payments/webhook?type=payment"
--- PASS: TestPaymentWebhookFlow (0.02s)
=== RUN   TestPaymentCheckout

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.668ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[0.664ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[10.278ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[0.868ms] [34;1m[rows:-][0m SELECT * FROM "payments" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[10.508ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[7.868ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.292ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.413ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.620ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.623ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.683ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.679ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.475ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'external_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.591ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.588ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.447ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.662ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.468ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[3.026ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.097ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[2.001ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.357ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/payment_flow_test.go:76
[0m[33m[1.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_deleted_at' AND schemaname = CURRENT_SCHEMA()
=== RUN   TestPaymentCheckout/Checkout_Success

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/payment/infrastructure/repository/postgres_payment.go:21
[0m[33m[3.131ms] [34;1m[rows:1][0m INSERT INTO "payments" ("amount","currency","status","method","external_id","club_id","payer_id","reference_id","reference_type","notes","paid_at","created_at","updated_at","deleted_at","id") VALUES ('100','ARS','PENDING','MERCADOPAGO','','test-club-id','c2046d4a-2cbc-4e34-b2a9-f0640f2df29f','598e54e5-055c-470b-ad67-04e8702f30c7','MEMBERSHIP','',NULL,'2026-01-15 10:17:42.748','2026-01-15 10:17:42.748',NULL,'79009235-55fc-4bc4-a206-7919c7793b00') RETURNING "id"
=== RUN   TestPaymentCheckout/Checkout_Missing_ClubID
--- PASS: TestPaymentCheckout (0.08s)
    --- PASS: TestPaymentCheckout/Checkout_Success (0.00s)
    --- PASS: TestPaymentCheckout/Checkout_Missing_ClubID (0.00s)
=== RUN   TestStoreFlow

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[1.791ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "order_items" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[2.033ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "orders" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:45
[0m[33m[2.228ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "products" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.554ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[4.635ms] [34;1m[rows:0][0m CREATE TABLE "products" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"name" text NOT NULL,"description" text,"price" decimal(10,2) NOT NULL,"stock_quantity" bigint DEFAULT 0,"sku" text,"category" text,"is_active" boolean DEFAULT true,"image_url" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.625ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_products_deleted_at" ON "products" ("deleted_at")

2026/01/15 10:17:42 [32m
[0m[33m[2.268ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_products_club_id" ON "products" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.440ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[4.097ms] [34;1m[rows:0][0m CREATE TABLE "orders" ("id" uuid DEFAULT uuid_generate_v4(),"club_id" text NOT NULL,"user_id" text,"guest_name" text,"guest_email" text,"total_amount" decimal(10,2) NOT NULL,"status" text DEFAULT 'PAID',"items" JSONB NOT NULL,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.486ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_orders_user_id" ON "orders" ("user_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.265ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_orders_club_id" ON "orders" ("club_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[1.186ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'order_items' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:46
[0m[33m[3.430ms] [34;1m[rows:0][0m CREATE TABLE "order_items" ("product_id" text,"quantity" bigint,"unit_price" text)

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:69
[0m[33m[2.954ms] [34;1m[rows:1][0m INSERT INTO "products" ("club_id","name","description","price","stock_quantity","sku","category","is_active","image_url","created_at","updated_at","deleted_at","id") VALUES ('test-club-store','Protein Bar','Chocolate','250',100,'','Food',true,'','2026-01-15 10:17:42.784','2026-01-15 10:17:42.784',NULL,'c5e56fcc-5ed0-4c36-96a3-a6000193c885') RETURNING "id"
=== RUN   TestStoreFlow/List_Products

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:42
[0m[33m[0.884ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE club_id = 'test-club-store' AND is_active = true
[GIN] 2026/01/15 - 10:17:42 | 200 |     977.318µs |                 | GET      "/api/v1/store/products"
=== RUN   TestStoreFlow/Purchase_Product

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:25
[0m[33m[0.972ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE id = 'c5e56fcc-5ed0-4c36-96a3-a6000193c885' ORDER BY "products"."id" LIMIT 1

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:59
[0m[33m[0.880ms] [34;1m[rows:1][0m UPDATE "products" SET "stock_quantity"=stock_quantity - 2 WHERE id = 'c5e56fcc-5ed0-4c36-96a3-a6000193c885' AND stock_quantity >= 2

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/store/infrastructure/repository/postgres.go:70
[0m[33m[1.198ms] [34;1m[rows:1][0m INSERT INTO "orders" ("club_id","user_id","guest_name","guest_email","total_amount","status","items","created_at","updated_at","deleted_at","id") VALUES ('test-club-store','store-user-id','','','500','PAID','[{"product_id":"c5e56fcc-5ed0-4c36-96a3-a6000193c885","quantity":2,"unit_price":"250"}]','2026-01-15 10:17:42.789','2026-01-15 10:17:42.789',NULL,'4c844991-9f21-468d-8237-87f1777161ec') RETURNING "id"
[GIN] 2026/01/15 - 10:17:42 | 201 |    5.261523ms |                 | POST     "/api/v1/store/purchase"

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/store_flow_test.go:108
[0m[33m[0.826ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE id = 'c5e56fcc-5ed0-4c36-96a3-a6000193c885' ORDER BY "products"."id" LIMIT 1
--- PASS: TestStoreFlow (0.04s)
    --- PASS: TestStoreFlow/List_Products (0.00s)
    --- PASS: TestStoreFlow/Purchase_Product (0.01s)
=== RUN   TestUserProfileCategory

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[2.986ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "users" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[1.791ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "wallets" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:27
[0m[33m[1.986ms] [34;1m[rows:0][0m DROP TABLE IF EXISTS "user_stats" CASCADE

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.214ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[4.885ms] [34;1m[rows:0][0m CREATE TABLE "users" ("id" text,"name" text,"email" text,"password" text NOT NULL,"role" text,"date_of_birth" date,"sports_preferences" text,"parent_id" text,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"club_id" text NOT NULL,"family_group_id" uuid,"emergency_contact_name" text,"emergency_contact_phone" text,"insurance_provider" text,"insurance_number" text,"medical_cert_status" text DEFAULT 'PENDING',"medical_cert_expiry" timestamptz,"terms_accepted_at" timestamptz,"privacy_policy_version" text,"data_retention_until" timestamptz,PRIMARY KEY ("id"))

2026/01/15 10:17:42 [32m
[0m[33m[2.612ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_family_group_id" ON "users" ("family_group_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.189ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_club_id" ON "users" ("club_id")

2026/01/15 10:17:42 [32m
[0m[33m[2.074ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_deleted_at" ON "users" ("deleted_at")

2026/01/15 10:17:42 [32m
[0m[33m[2.225ms] [34;1m[rows:0][0m CREATE INDEX IF NOT EXISTS "idx_users_parent_id" ON "users" ("parent_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.232ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_stats' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[5.497ms] [34;1m[rows:0][0m CREATE TABLE "user_stats" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"matches_played" bigint DEFAULT 0,"matches_won" bigint DEFAULT 0,"ranking_points" bigint DEFAULT 0,"level" bigint DEFAULT 1,"experience" bigint DEFAULT 0,"current_streak" bigint DEFAULT 0,"longest_streak" bigint DEFAULT 0,"last_activity_date" timestamptz,"total_xp" bigint DEFAULT 0,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_stats" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:42 [32m
[0m[33m[2.388ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_user_stats_user_id" ON "user_stats" ("user_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[1.315ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'wallets' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:30
[0m[33m[4.322ms] [34;1m[rows:0][0m CREATE TABLE "wallets" ("id" uuid DEFAULT gen_random_uuid(),"user_id" text NOT NULL,"balance" decimal DEFAULT 0,"points" bigint DEFAULT 0,"transactions" jsonb,"created_at" timestamptz,"updated_at" timestamptz,PRIMARY KEY ("id"),CONSTRAINT "fk_users_wallet" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE)

2026/01/15 10:17:42 [32m
[0m[33m[2.125ms] [34;1m[rows:0][0m CREATE UNIQUE INDEX IF NOT EXISTS "idx_wallets_user_id" ON "wallets" ("user_id")

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.167ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[0.724ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[6.608ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'club_pulse' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.058ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[8.597ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[8.627ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'club_pulse' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.025ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.655ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.686ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.761ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.933ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.490ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'date_of_birth') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.482ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'sports_preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.477ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.945ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.556ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'club_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'family_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.362ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'emergency_contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.351ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_provider') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.601ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'insurance_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.429ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.463ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'medical_cert_expiry') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.597ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'terms_accepted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.506ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'privacy_policy_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[2.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'data_retention_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.789ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.253ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.468ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_club_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:31
[0m[33m[1.362ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_family_group_id' AND schemaname = CURRENT_SCHEMA()

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:54
[0m[33m[2.211ms] [34;1m[rows:0][0m DELETE FROM "users" WHERE id = 'test-user-category-id'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:132
[0m[33m[2.113ms] [34;1m[rows:0][0m UPDATE "users" SET "date_of_birth"='2015-01-01 00:00:00',"name"='Kid Player',"updated_at"='0000-00-00 00:00:00' WHERE (id = 'test-user-category-id' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/tests/e2e/user_profile_test.go:63
[0m[33m[3.411ms] [34;1m[rows:1][0m INSERT INTO "users" ("id","name","email","password","role","date_of_birth","sports_preferences","parent_id","created_at","updated_at","deleted_at","club_id","family_group_id","emergency_contact_name","emergency_contact_phone","insurance_provider","insurance_number","medical_cert_status","medical_cert_expiry","terms_accepted_at","privacy_policy_version","data_retention_until") VALUES ('test-user-category-id','Kid Player','kid@test.com','','','2015-01-01 00:00:00',NULL,NULL,'2026-01-15 10:17:42.93','2026-01-15 10:17:42.93',NULL,'test-club-1',NULL,'','','','','PENDING',NULL,NULL,'',NULL)

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.887ms] [34;1m[rows:0][0m SELECT * FROM "user_stats" WHERE "user_stats"."user_id" = 'test-user-category-id'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[0.791ms] [34;1m[rows:0][0m SELECT * FROM "wallets" WHERE "wallets"."user_id" = 'test-user-category-id'

2026/01/15 10:17:42 [32m/Users/lukcba-macbook-pro/go/src/club-pulse-system-api/backend/internal/modules/user/infrastructure/repository/postgres.go:65
[0m[33m[2.706ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE (id = 'test-user-category-id' AND club_id = 'test-club-1') AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
[GIN] 2026/01/15 - 10:17:42 | 200 |   10.663687ms |                 | GET      "/users/me"
--- PASS: TestUserProfileCategory (0.14s)
PASS
ok  	github.com/lukcba/club-pulse-system-api/backend/tests/e2e	8.429s
